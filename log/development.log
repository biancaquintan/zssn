  [1m[35m (200.9ms)[0m  [1m[35mCREATE DATABASE "_development" ENCODING = 'unicode'[0m
  [1m[35m (60.4ms)[0m  [1m[35mCREATE DATABASE "_test" ENCODING = 'unicode'[0m
  [1m[35m (1.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "zssn_development"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "zssn_test"[0m
  [1m[35m (48.1ms)[0m  [1m[35mCREATE DATABASE "zssn_development" ENCODING = 'unicode'[0m
  [1m[35m (49.9ms)[0m  [1m[35mCREATE DATABASE "zssn_test" ENCODING = 'unicode'[0m
  [1m[35m (50.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "zssn_development"[0m
  [1m[35m (17.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "zssn_test"[0m
  [1m[35m (43.7ms)[0m  [1m[35mCREATE DATABASE "zssn_development" ENCODING = 'unicode'[0m
  [1m[35m (43.0ms)[0m  [1m[35mCREATE DATABASE "zssn_test" ENCODING = 'unicode'[0m
Started GET "/" for 127.0.0.1 at 2023-03-29 15:53:19 -0300
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/bsquintan/.rvm/gems/ruby-3.2.1/gems/railties-7.0.4.3/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/bsquintan/.rvm/gems/ruby-3.2.1/gems/railties-7.0.4.3/lib/rails/templates/rails/welcome/index.html.erb (Duration: 12.7ms | Allocations: 633)
Completed 200 OK in 74ms (Views: 46.8ms | ActiveRecord: 0.0ms | Allocations: 5211)


Started GET "/" for ::1 at 2023-03-29 16:34:33 -0300
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/bsquintan/.rvm/gems/ruby-3.2.1/gems/railties-7.0.4.3/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/bsquintan/.rvm/gems/ruby-3.2.1/gems/railties-7.0.4.3/lib/rails/templates/rails/welcome/index.html.erb (Duration: 2.7ms | Allocations: 489)
Completed 200 OK in 22ms (Views: 6.9ms | ActiveRecord: 0.0ms | Allocations: 3336)


Started GET "/" for ::1 at 2023-03-29 16:35:35 -0300
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/bsquintan/.rvm/gems/ruby-3.2.1/gems/railties-7.0.4.3/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/bsquintan/.rvm/gems/ruby-3.2.1/gems/railties-7.0.4.3/lib/rails/templates/rails/welcome/index.html.erb (Duration: 2.4ms | Allocations: 489)
Completed 200 OK in 13ms (Views: 4.9ms | ActiveRecord: 0.0ms | Allocations: 3336)


  [1m[35m (19.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "zssn_development"[0m
  [1m[35m (22.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "zssn_test"[0m
  [1m[35m (43.5ms)[0m  [1m[35mCREATE DATABASE "zssn_development" ENCODING = 'unicode'[0m
  [1m[35m (51.6ms)[0m  [1m[35mCREATE DATABASE "zssn_test" ENCODING = 'unicode'[0m
  [1m[35m (45.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "zssn_development"[0m
  [1m[35m (22.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "zssn_test"[0m
  [1m[35m (98.9ms)[0m  [1m[35mCREATE DATABASE "zssn_development" ENCODING = 'unicode'[0m
  [1m[35m (52.9ms)[0m  [1m[35mCREATE DATABASE "zssn_test" ENCODING = 'unicode'[0m
Started GET "/" for ::1 at 2023-03-29 16:39:51 -0300
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/bsquintan/.rvm/gems/ruby-3.2.1/gems/railties-7.0.4.3/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/bsquintan/.rvm/gems/ruby-3.2.1/gems/railties-7.0.4.3/lib/rails/templates/rails/welcome/index.html.erb (Duration: 2.0ms | Allocations: 489)
Completed 200 OK in 13ms (Views: 6.6ms | ActiveRecord: 0.0ms | Allocations: 3336)


Started GET "/" for ::1 at 2023-03-29 16:39:55 -0300
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/bsquintan/.rvm/gems/ruby-3.2.1/gems/railties-7.0.4.3/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/bsquintan/.rvm/gems/ruby-3.2.1/gems/railties-7.0.4.3/lib/rails/templates/rails/welcome/index.html.erb (Duration: 1.0ms | Allocations: 272)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.0ms | Allocations: 806)


Started POST "/v1/users/register" for ::1 at 2023-03-29 20:27:26 -0300
  [1m[35m (15.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (4.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

You have 3 pending migrations:

20230329215934_create_users.rb
20230329220224_create_inventories.rb
20230329221114_create_items.rb


):
  
activerecord (7.0.4.3) lib/active_record/migration.rb:627:in `check_pending!'
activerecord (7.0.4.3) lib/active_record/migration.rb:592:in `block (2 levels) in call'
activesupport (7.0.4.3) lib/active_support/file_update_checker.rb:83:in `execute'
activerecord (7.0.4.3) lib/active_record/migration.rb:597:in `block in call'
activerecord (7.0.4.3) lib/active_record/migration.rb:589:in `synchronize'
activerecord (7.0.4.3) lib/active_record/migration.rb:589:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.4.3) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.4.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.4.3) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.4.3) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.4.3) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.4.3) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.6.4) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.4.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.4.3) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.6.4) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.4.3) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
railties (7.0.4.3) lib/rails/engine.rb:530:in `call'
puma (5.6.5) lib/puma/configuration.rb:252:in `call'
puma (5.6.5) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.5) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.5) lib/puma/request.rb:76:in `handle_request'
puma (5.6.5) lib/puma/server.rb:443:in `process_client'
puma (5.6.5) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3028883319484379910)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20230329215934)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "name" character varying, "age" integer, "gender" character varying, "last_location" character varying, "infection" boolean, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230329215934"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateInventories (20230329220224)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.5ms)[0m  [1m[35mCREATE TABLE "inventories" ("id" bigserial primary key, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_6642cbdd87"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_inventories_on_user_id" ON "inventories" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230329220224"]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateItems (20230329221114)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.2ms)[0m  [1m[35mCREATE TABLE "items" ("id" bigserial primary key, "name" character varying, "value" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230329221114"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-03-29 23:27:50.677347"], ["updated_at", "2023-03-29 23:27:50.677347"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(3028883319484379910)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/v1/users/register" for ::1 at 2023-03-29 20:28:30 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [POST] "/v1/users/register"):
  
Started POST "/api/v1/users/register" for ::1 at 2023-03-29 20:29:04 -0300
  
ActionController::RoutingError (uninitialized constant Api::V1::FirstZombieApocalypsesController):
  
Started POST "/api/v1/users/register" for ::1 at 2023-03-29 20:30:14 -0300
Processing by Api::V1::FirstZombieApocalypsesController#register_user as */*
  Parameters: {"name"=>"Maria", "age"=>10, "gender"=>"Female", "infection"=>false, "last_location"=>"(30,788)", "first_zombie_apocalypse"=>{"name"=>"Maria", "age"=>10, "gender"=>"Female", "infection"=>false, "last_location"=>"(30,788)"}}
Completed 500 Internal Server Error in 34ms (ActiveRecord: 5.8ms | Allocations: 9914)


  
ActiveModel::ForbiddenAttributesError (ActiveModel::ForbiddenAttributesError):
  
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:7:in `register_user'
Started POST "/api/v1/users/register" for ::1 at 2023-03-29 23:58:41 -0300
Processing by Api::V1::FirstZombieApocalypsesController#register_user as */*
  Parameters: {"name"=>"Maria", "age"=>10, "gender"=>"Female", "infection"=>false, "last_location"=>"(30,788)", "first_zombie_apocalypse"=>{"name"=>"Maria", "age"=>10, "gender"=>"Female", "infection"=>false, "last_location"=>"(30,788)"}}
Completed 500 Internal Server Error in 0ms (Allocations: 130)


  
ActiveModel::ForbiddenAttributesError (ActiveModel::ForbiddenAttributesError):
  
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:7:in `register_user'
Started POST "/api/v1/users/register" for ::1 at 2023-03-30 00:00:47 -0300
Processing by Api::V1::FirstZombieApocalypsesController#register_user as */*
  Parameters: {"name"=>"Maria", "age"=>10, "gender"=>"Female", "infection"=>false, "last_location"=>"(30,788)", "first_zombie_apocalypse"=>{"name"=>"Maria", "age"=>10, "gender"=>"Female", "infection"=>false, "last_location"=>"(30,788)"}}
Completed 500 Internal Server Error in 0ms (Allocations: 187)


  
NoMethodError (undefined method `pry' for #<Binding:0x00007fb4f4074c10>):
  
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:6:in `register_user'
Started POST "/api/v1/users/register" for ::1 at 2023-03-30 00:02:56 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::FirstZombieApocalypsesController#register_user as */*
  Parameters: {"name"=>"Maria", "age"=>10, "gender"=>"Female", "infection"=>false, "last_location"=>"(30,788)", "first_zombie_apocalypse"=>{"name"=>"Maria", "age"=>10, "gender"=>"Female", "infection"=>false, "last_location"=>"(30,788)"}}
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.0ms | Allocations: 2798)


  
NoMethodError (undefined method `pry' for #<Binding:0x00007f01f1fb7288>):
  
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:6:in `register_user'
Started POST "/api/v1/users/register" for ::1 at 2023-03-30 00:03:44 -0300
  
LoadError (cannot load such file -- pry):
  
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:2:in `<class:FirstZombieApocalypsesController>'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:1:in `<main>'
Started POST "/api/v1/users/register" for ::1 at 2023-03-30 00:06:01 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (2.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
LoadError (cannot load such file -- pry):
  
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:2:in `<class:FirstZombieApocalypsesController>'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:1:in `<main>'
Started POST "/api/v1/users/register" for ::1 at 2023-03-30 00:10:43 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
LoadError (cannot load such file -- pry):
  
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:2:in `<class:FirstZombieApocalypsesController>'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:1:in `<main>'
Started POST "/api/v1/users/register" for ::1 at 2023-03-30 00:11:20 -0300
  
LoadError (cannot load such file -- pry):
  
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:2:in `<class:FirstZombieApocalypsesController>'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:1:in `<main>'
Started POST "/api/v1/users/register" for ::1 at 2023-03-30 00:11:50 -0300
Processing by Api::V1::FirstZombieApocalypsesController#register_user as */*
  Parameters: {"name"=>"Maria", "age"=>10, "gender"=>"Female", "infection"=>false, "last_location"=>"(30,788)", "first_zombie_apocalypse"=>{"name"=>"Maria", "age"=>10, "gender"=>"Female", "infection"=>false, "last_location"=>"(30,788)"}}
Completed 500 Internal Server Error in 574796ms (ActiveRecord: 17.5ms | Allocations: 1702305)


  
ActiveModel::ForbiddenAttributesError (ActiveModel::ForbiddenAttributesError):
  
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:7:in `register_user'
Started POST "/api/v1/users/register" for ::1 at 2023-03-30 00:21:29 -0300
Processing by Api::V1::FirstZombieApocalypsesController#register_user as */*
  Parameters: {"name"=>"Maria", "age"=>10, "gender"=>"Female", "infection"=>false, "last_location"=>"(30,788)", "first_zombie_apocalypse"=>{"name"=>"Maria", "age"=>10, "gender"=>"Female", "infection"=>false, "last_location"=>"(30,788)"}}
Completed 500 Internal Server Error in 23842ms (ActiveRecord: 6.8ms | Allocations: 631391)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `rescue in process_action'
Started POST "/api/v1/users/register" for ::1 at 2023-03-30 00:22:12 -0300
Processing by Api::V1::FirstZombieApocalypsesController#register_user as */*
  Parameters: {"name"=>"Maria", "age"=>10, "gender"=>"Female", "infection"=>false, "last_location"=>"(30,788)", "first_zombie_apocalypse"=>{"name"=>"Maria", "age"=>10, "gender"=>"Female", "infection"=>false, "last_location"=>"(30,788)"}}
Completed 500 Internal Server Error in 219969ms (ActiveRecord: 0.0ms | Allocations: 42841)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `register_user'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:7:in `register_user'
Started POST "/api/v1/users/register" for ::1 at 2023-03-30 00:25:57 -0300
Processing by Api::V1::FirstZombieApocalypsesController#register_user as */*
  Parameters: {"name"=>"Maria", "age"=>10, "gender"=>"Female", "infection"=>false, "last_location"=>"(30,788)", "first_zombie_apocalypse"=>{"name"=>"Maria", "age"=>10, "gender"=>"Female", "infection"=>false, "last_location"=>"(30,788)"}}
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:14:in `register_user'
  [1m[36mUser Create (2.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "age", "gender", "last_location", "infection", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Maria"], ["age", 10], ["gender", "Female"], ["last_location", "(30,788)"], ["infection", false], ["created_at", "2023-03-30 03:27:15.905076"], ["updated_at", "2023-03-30 03:27:15.905076"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:14:in `register_user'
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:14:in `register_user'
Completed 201 Created in 83814ms (Views: 15.2ms | ActiveRecord: 14.5ms | Allocations: 1988185)


Started POST "/api/v1/users/register" for ::1 at 2023-03-30 00:28:52 -0300
Processing by Api::V1::FirstZombieApocalypsesController#register_user as */*
  Parameters: {"name"=>"Guilherme", "age"=>22, "gender"=>"Male", "infection"=>false, "last_location"=>"(110,45)", "first_zombie_apocalypse"=>{"name"=>"Guilherme", "age"=>22, "gender"=>"Male", "infection"=>false, "last_location"=>"(110,45)"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:14:in `register_user'
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "age", "gender", "last_location", "infection", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Guilherme"], ["age", 22], ["gender", "Male"], ["last_location", "(110,45)"], ["infection", false], ["created_at", "2023-03-30 03:28:53.068409"], ["updated_at", "2023-03-30 03:28:53.068409"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:14:in `register_user'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:14:in `register_user'
Completed 201 Created in 16ms (Views: 0.6ms | ActiveRecord: 5.0ms | Allocations: 5191)


Started POST "/api/v1/users/register" for ::1 at 2023-03-30 00:31:40 -0300
Processing by Api::V1::FirstZombieApocalypsesController#register_user as */*
  Parameters: {"name"=>"Otávio", "age"=>65, "gender"=>"Male", "infection"=>false, "last_location"=>"(139,527)", "first_zombie_apocalypse"=>{"name"=>"Otávio", "age"=>65, "gender"=>"Male", "infection"=>false, "last_location"=>"(139,527)"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:20:in `register_user'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "age", "gender", "last_location", "infection", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Otávio"], ["age", 65], ["gender", "Male"], ["last_location", nil], ["infection", false], ["created_at", "2023-03-30 03:31:40.567006"], ["updated_at", "2023-03-30 03:31:40.567006"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:20:in `register_user'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:20:in `register_user'
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 5.2ms | Allocations: 5173)


Started POST "/api/v1/users/register" for ::1 at 2023-03-30 00:32:47 -0300
Processing by Api::V1::FirstZombieApocalypsesController#register_user as */*
  Parameters: {"name"=>"Otávio", "age"=>65, "gender"=>"Male", "infection"=>false, "last_location"=>"(139,527)", "first_zombie_apocalypse"=>{"name"=>"Otávio", "age"=>65, "gender"=>"Male", "infection"=>false, "last_location"=>"(139,527)"}}
Completed 500 Internal Server Error in 267831ms (ActiveRecord: 3.5ms | Allocations: 33158)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `register_user'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:7:in `register_user'
Started POST "/api/v1/users/register" for ::1 at 2023-03-30 00:38:31 -0300
Processing by Api::V1::FirstZombieApocalypsesController#register_user as */*
  Parameters: {"name"=>"Bernardo", "age"=>28, "gender"=>"Male", "infection"=>false, "last_location"=>"(390,27)", "first_zombie_apocalypse"=>{"name"=>"Bernardo", "age"=>28, "gender"=>"Male", "infection"=>false, "last_location"=>"(390,27)"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:15:in `register_user'
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("name", "age", "gender", "last_location", "infection", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Bernardo"], ["age", 28], ["gender", "Male"], ["last_location", "(390,27)"], ["infection", false], ["created_at", "2023-03-30 03:38:45.228208"], ["updated_at", "2023-03-30 03:38:45.228208"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:15:in `register_user'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:15:in `register_user'
Completed 201 Created in 11853ms (Views: 1.3ms | ActiveRecord: 5.0ms | Allocations: 36700)


Started POST "/api/v1/users/register" for ::1 at 2023-03-30 01:00:07 -0300
Processing by Api::V1::FirstZombieApocalypsesController#register_user as */*
  Parameters: {"name"=>"Thereza", "age"=>14, "gender"=>"Male", "infection"=>false, "last_location"=>"(39,2)", "first_zombie_apocalypse"=>{"name"=>"Thereza", "age"=>14, "gender"=>"Male", "infection"=>false, "last_location"=>"(39,2)"}}
Completed 400 Bad Request in 27504ms (Allocations: 4727)


  
ActionController::ParameterMissing (param is missing or the value is empty: user):
  
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:52:in `user_params'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:8:in `register_user'
Started POST "/api/v1/users/register" for ::1 at 2023-03-30 01:01:13 -0300
Processing by Api::V1::FirstZombieApocalypsesController#register_user as */*
  Parameters: {"user"=>{"name"=>"Thereza", "age"=>14, "gender"=>"Male", "infection"=>false, "last_location"=>"(39,2)"}, "first_zombie_apocalypse"=>{"user"=>{"name"=>"Thereza", "age"=>14, "gender"=>"Male", "infection"=>false, "last_location"=>"(39,2)"}}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:17:in `register_user'
  [1m[36mUser Create (1.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "age", "gender", "last_location", "infection", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Thereza"], ["age", 14], ["gender", "Male"], ["last_location", "(39,2)"], ["infection", false], ["created_at", "2023-03-30 04:01:35.200653"], ["updated_at", "2023-03-30 04:01:35.200653"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:17:in `register_user'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:17:in `register_user'
Completed 201 Created in 21755ms (Views: 0.5ms | ActiveRecord: 11.0ms | Allocations: 10422)


Started POST "/api/v1/users/register" for ::1 at 2023-03-30 01:02:35 -0300
Processing by Api::V1::FirstZombieApocalypsesController#register_user as */*
  Parameters: {"user"=>{"name"=>"Fred", "age"=>47, "gender"=>"Male", "infection"=>false, "last_location"=>"(1139,26)"}, "first_zombie_apocalypse"=>{"user"=>{"name"=>"Fred", "age"=>47, "gender"=>"Male", "infection"=>false, "last_location"=>"(1139,26)"}}}
[31mUnpermitted parameter: :age. Context: { controller: Api::V1::FirstZombieApocalypsesController, action: register_user, request: #<ActionDispatch::Request:0x00007faf38d54398>, params: {"user"=>{"name"=>"Fred", "age"=>47, "gender"=>"Male", "infection"=>false, "last_location"=>"(1139,26)"}, "controller"=>"api/v1/first_zombie_apocalypses", "action"=>"register_user", "first_zombie_apocalypse"=>{"user"=>{"name"=>"Fred", "age"=>47, "gender"=>"Male", "infection"=>false, "last_location"=>"(1139,26)"}}} }[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:8:in `register_user'
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "age", "gender", "last_location", "infection", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Fred"], ["age", nil], ["gender", "Male"], ["last_location", "(1139,26)"], ["infection", false], ["created_at", "2023-03-30 04:02:35.961337"], ["updated_at", "2023-03-30 04:02:35.961337"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:8:in `register_user'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:8:in `register_user'
Completed 201 Created in 28ms (Views: 0.5ms | ActiveRecord: 6.8ms | Allocations: 5359)


  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mItem Create (0.6ms)[0m  [1m[32mINSERT INTO "items" ("name", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Água"], ["value", 4], ["created_at", "2023-03-30 16:49:12.878281"], ["updated_at", "2023-03-30 16:49:12.878281"]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mItem Create (0.3ms)[0m  [1m[32mINSERT INTO "items" ("name", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Comida"], ["value", 3], ["created_at", "2023-03-30 16:49:12.886049"], ["updated_at", "2023-03-30 16:49:12.886049"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mItem Create (0.3ms)[0m  [1m[32mINSERT INTO "items" ("name", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Medicamentos"], ["value", 2], ["created_at", "2023-03-30 16:49:12.940259"], ["updated_at", "2023-03-30 16:49:12.940259"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mItem Create (0.3ms)[0m  [1m[32mINSERT INTO "items" ("name", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Munição"], ["value", 1], ["created_at", "2023-03-30 16:49:12.945727"], ["updated_at", "2023-03-30 16:49:12.945727"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mItem Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "items"[0m
  [1m[36mItem Load (0.6ms)[0m  [1m[34mSELECT "items".* FROM "items" ORDER BY "items"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Started PATCH "/api/v1/users/1/update_location" for ::1 at 2023-03-30 18:19:56 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::FirstZombieApocalypsesController#update_location as */*
  Parameters: {"last_location"=>"(11,12)", "id"=>"1", "first_zombie_apocalypse"=>{"last_location"=>"(11,12)"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:43:in `set_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:18:in `update_location'
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "last_location" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["last_location", "(11,12)"], ["updated_at", "2023-03-30 21:19:57.191195"], ["id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:18:in `update_location'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:18:in `update_location'
Completed 200 OK in 85ms (Views: 0.7ms | ActiveRecord: 7.3ms | Allocations: 15580)


Started PATCH "/api/v1/users/3/update_location" for ::1 at 2023-03-30 18:21:25 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_location as */*
  Parameters: {"last_location"=>"(77,199)", "id"=>"3", "first_zombie_apocalypse"=>{"last_location"=>"(77,199)"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:43:in `set_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:18:in `update_location'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "last_location" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["last_location", "(77,199)"], ["updated_at", "2023-03-30 21:21:25.114923"], ["id", 3]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:18:in `update_location'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:18:in `update_location'
Completed 200 OK in 10ms (Views: 0.5ms | ActiveRecord: 2.0ms | Allocations: 2475)


  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3028883319484379910)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateInventoryItems (20230330220250)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.6ms)[0m  [1m[35mCREATE TABLE "inventory_items" ("id" bigserial primary key, "inventory_id" bigint NOT NULL, "item_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_a7dc109dcc"
FOREIGN KEY ("inventory_id")
  REFERENCES "inventories" ("id")
, CONSTRAINT "fk_rails_ba7f213e23"
FOREIGN KEY ("item_id")
  REFERENCES "items" ("id")
)[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE INDEX "index_inventory_items_on_inventory_id" ON "inventory_items" ("inventory_id")[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE INDEX "index_inventory_items_on_item_id" ON "inventory_items" ("item_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230330220250"]]
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(3028883319484379910)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" ORDER BY "items"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" ORDER BY "items"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" ORDER BY "items"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" ORDER BY "items"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" ORDER BY "items"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" ORDER BY "items"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" ORDER BY "items"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" ORDER BY "items"."id" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 1]]
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" ORDER BY "items"."id" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 1]]
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" ORDER BY "items"."id" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 1]]
  [1m[36mItem Load (0.6ms)[0m  [1m[34mSELECT "items".* FROM "items" ORDER BY "items"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Create (0.9ms)[0m  [1m[32mINSERT INTO "inventories" ("user_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["user_id", 1], ["created_at", "2023-03-31 16:05:52.529030"], ["updated_at", "2023-03-31 16:05:52.529030"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories"[0m
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 ORDER BY "inventories"."id" ASC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 ORDER BY "inventories"."id" ASC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" ORDER BY "items"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 ORDER BY "inventories"."id" ASC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" ORDER BY "items"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mInventoryItem Create (2.8ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 4], ["created_at", "2023-03-31 16:18:03.091397"], ["updated_at", "2023-03-31 16:18:03.091397"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mItem Load (0.6ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 ORDER BY "inventories"."id" ASC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 ORDER BY "inventories"."id" ASC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  [1m[36mItem Load (0.8ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "água"], ["LIMIT", 1]]
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE (lower(name) = 'água') LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE (lower(name) = 'água') LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE (lower(name) = 'água') LIMIT $1[0m  [["LIMIT", 1]]
Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-03-31 14:10:48 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"item"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"action"=>"update_inventory", "item"=>"Água"}}
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:56:in `set_user'
Completed 500 Internal Server Error in 58ms (ActiveRecord: 6.9ms | Allocations: 12204)


  
NoMethodError (undefined method `downcase' for nil:NilClass):
  
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-03-31 14:12:43 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"item"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"action"=>"update_inventory", "item"=>"Água"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:56:in `set_user'
  [1m[36mItem Load (1.9ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE (lower(Água) = 'água') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
Completed 500 Internal Server Error in 24ms (ActiveRecord: 6.6ms | Allocations: 5755)


  
ActiveRecord::StatementInvalid (PG::UndefinedColumn: ERROR:  column "Água" does not exist
LINE 1: SELECT "items".* FROM "items" WHERE (lower(Água) = 'água') L...
                                                   ^
):
  
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-03-31 14:13:17 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"item"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"action"=>"update_inventory", "item"=>"Água"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:56:in `set_user'
Completed 500 Internal Server Error in 18ms (ActiveRecord: 5.7ms | Allocations: 5257)


  
ArgumentError (wrong number of arguments (given 2, expected 1)):
  
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-03-31 14:13:39 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"item"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"action"=>"update_inventory", "item"=>"Água"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:56:in `set_user'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE (lower(Água) = 'água') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
Completed 500 Internal Server Error in 11ms (ActiveRecord: 3.5ms | Allocations: 5600)


  
ActiveRecord::StatementInvalid (PG::UndefinedColumn: ERROR:  column "Água" does not exist
LINE 1: SELECT "items".* FROM "items" WHERE (lower(Água) = 'água') L...
                                                   ^
):
  
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE (lower(name) = 'água') LIMIT $1[0m  [["LIMIT", 1]]
Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-03-31 14:18:05 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"item"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"action"=>"update_inventory", "item"=>"Água"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:56:in `set_user'
  [1m[36mItem Load (0.8ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE (lower('Água') = 'água') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 ORDER BY "inventories"."id" ASC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
Completed 204 No Content in 66ms (ActiveRecord: 11.3ms | Allocations: 14495)


  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-03-31 14:18:55 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"item"=>"Munição", "id"=>"1", "first_zombie_apocalypse"=>{"action"=>"update_inventory", "item"=>"Munição"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:56:in `set_user'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE (lower('Munição') = 'munição') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 ORDER BY "inventories"."id" ASC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
Completed 204 No Content in 6ms (ActiveRecord: 0.9ms | Allocations: 1813)


  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mItem Load (1.6ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-03-31 14:22:09 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"item"=>"Munição", "id"=>"1", "first_zombie_apocalypse"=>{"action"=>"update_inventory", "item"=>"Munição"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:56:in `set_user'
  [1m[36mItem Load (1.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE (lower('Munição') = 'munição') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
Completed 204 No Content in 49ms (ActiveRecord: 11.5ms | Allocations: 11066)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-03-31 14:22:39 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"item"=>"Munição", "id"=>"1", "first_zombie_apocalypse"=>{"action"=>"update_inventory", "item"=>"Munição"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:57:in `set_user'
  [1m[36mItem Load (1.7ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE (lower('Munição') = 'munição') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
Completed 204 No Content in 58ms (ActiveRecord: 14.6ms | Allocations: 10983)


  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mItem Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-03-31 17:51:37 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"item"=>"Munição", "id"=>"1", "first_zombie_apocalypse"=>{"action"=>"update_inventory", "item"=>"Munição"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:58:in `set_user'
  [1m[36mItem Load (0.8ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE (lower('Munição') = 'munição') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mInventory Load (0.8ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
Completed 500 Internal Server Error in 27458ms (ActiveRecord: 15.2ms | Allocations: 67892)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `update_inventory'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-03-31 17:54:39 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item"=>"Munição", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item"=>"Munição"}}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:58:in `set_user'
  [1m[36mItem Load (1.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE (lower('Munição') = 'munição') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mInventory Load (2.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mItem Count (2.0ms)[0m  [1m[34mSELECT COUNT(#<Item:0x00007f1ab0a1f7a8>) FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:35:in `update_inventory'
Completed 500 Internal Server Error in 29173ms (ActiveRecord: 37.6ms | Allocations: 5334699)


  
ActiveRecord::StatementInvalid (PG::SyntaxError: ERROR:  syntax error at or near ":"
LINE 1: SELECT COUNT(#<Item:0x00007f1ab0a1f7a8>) FROM "items" INNER ...
                           ^
):
  
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:35:in `update_inventory'
Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-03-31 17:55:53 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item"=>"Munição", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item"=>"Munição"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:58:in `set_user'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE (lower('Munição') = 'munição') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mItem Load (0.7ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1 /* loading for inspect */ LIMIT $2[0m  [["inventory_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mItem Count (1.4ms)[0m  [1m[34mSELECT COUNT(#<Item:0x00007f1ab43fa018>) FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ (byebug):1:in `update_inventory'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1 /* loading for inspect */ LIMIT $2[0m  [["inventory_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:34:in `update_inventory'
  [1m[36mItem Count (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ (byebug):1:in `update_inventory'
  [1m[36mItem Count (0.9ms)[0m  [1m[34mSELECT COUNT(Água) FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ (byebug):1:in `update_inventory'
  [1m[36mItem Count (1.0ms)[0m  [1m[34mSELECT COUNT(Munição) FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ (byebug):1:in `update_inventory'
  [1m[36mItem Count (0.8ms)[0m  [1m[34mSELECT COUNT(Item) FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ (byebug):1:in `update_inventory'
  [1m[36mItem Count (1.8ms)[0m  [1m[34mSELECT COUNT(#<Item:0x00007f1ab43fa018>) FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ (byebug):1:in `update_inventory'
  [1m[36mItem Count (0.7ms)[0m  [1m[34mSELECT COUNT(#<Item:0x00007f1ab43fa018>) FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:35:in `update_inventory'
Completed 500 Internal Server Error in 231757ms (ActiveRecord: 9.4ms | Allocations: 31799)


  
ActiveRecord::StatementInvalid (PG::SyntaxError: ERROR:  syntax error at or near ":"
LINE 1: SELECT COUNT(#<Item:0x00007f1ab43fa018>) FROM "items" INNER ...
                           ^
):
  
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:35:in `update_inventory'
Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-03-31 17:59:52 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item"=>"Munição", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item"=>"Munição"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:58:in `set_user'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE (lower('Munição') = 'munição') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE (lower('Munição') = 'munição') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ (byebug):1:in `update_inventory'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE (lower('Munição') = 'munição') LIMIT $1[0m  [["LIMIT", 1]]
  ↳ (byebug):1:in `update_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ (byebug):1:in `update_inventory'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ (byebug):1:in `update_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ (byebug):1:in `update_inventory'
  [1m[36mItem Count (0.6ms)[0m  [1m[34mSELECT COUNT(#<Item:0x00007f1ab07001f8>) FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:35:in `update_inventory'
Completed 500 Internal Server Error in 391337ms (ActiveRecord: 2.4ms | Allocations: 27938)


  
ActiveRecord::StatementInvalid (PG::SyntaxError: ERROR:  syntax error at or near ":"
LINE 1: SELECT COUNT(#<Item:0x00007f1ab07001f8>) FROM "items" INNER ...
                           ^
):
  
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:35:in `update_inventory'
Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-03-31 18:06:28 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item"=>"Munição", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item"=>"Munição"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:58:in `set_user'
  [1m[36mItem Load (2.7ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1 /* loading for inspect */ LIMIT $2[0m  [["inventory_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mItem Count (0.7ms)[0m  [1m[34mSELECT COUNT(#<Item:0x00007f1ab0af9250>) FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ (byebug):1:in `update_inventory'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1 /* loading for inspect */ LIMIT $2[0m  [["inventory_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:35:in `update_inventory'
  [1m[36mCACHE Item Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1 /* loading for inspect */ LIMIT $2[0m  [["inventory_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:35:in `update_inventory'
  [1m[36mItem Count (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ (byebug):1:in `update_inventory'
  [1m[36mItem Count (0.8ms)[0m  [1m[34mSELECT COUNT(#<Item:0x00007f1ab0af9250>) FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ (byebug):1:in `update_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" ORDER BY "inventories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ (byebug):1:in `update_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" ORDER BY "inventories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ (byebug):1:in `update_inventory'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1 /* loading for inspect */ LIMIT $2[0m  [["inventory_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:35:in `update_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" ORDER BY "inventories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ (byebug):1:in `update_inventory'
  [1m[36mCACHE Item Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ (byebug):1:in `update_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" ORDER BY "inventories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ (byebug):1:in `update_inventory'
  [1m[36mItem Count (0.6ms)[0m  [1m[34mSELECT COUNT(#<Item:0x00007f1ab0af9250>) FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ (byebug):1:in `update_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" ORDER BY "inventories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ (byebug):1:in `update_inventory'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ (byebug):1:in `update_inventory'
  [1m[36mItem Count (0.6ms)[0m  [1m[34mSELECT COUNT(#<Item:0x00007f1ab4349060>) FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ (byebug):1:in `update_inventory'
  [1m[36mCACHE Item Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ (byebug):1:in `update_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" ORDER BY "inventories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ (byebug):1:in `update_inventory'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ (byebug):1:in `update_inventory'
  [1m[36mItem Count (1.2ms)[0m  [1m[34mSELECT COUNT(#<Item:0x00007f1ab4409068>) FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ (byebug):1:in `update_inventory'
  [1m[36mItem Count (0.7ms)[0m  [1m[34mSELECT COUNT(#<Item:0x00007f1ab0af9250>) FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:35:in `update_inventory'
Completed 500 Internal Server Error in 284873ms (ActiveRecord: 26.2ms | Allocations: 68797)


  
ActiveRecord::StatementInvalid (PG::SyntaxError: ERROR:  syntax error at or near ":"
LINE 1: SELECT COUNT(#<Item:0x00007f1ab0af9250>) FROM "items" INNER ...
                           ^
):
  
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:35:in `update_inventory'
  [1m[36mItem Load (0.7ms)[0m  [1m[34mSELECT "items".* FROM "items" ORDER BY "items"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" ORDER BY "items"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" ORDER BY "items"."id" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 1]]
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" ORDER BY "items"."id" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 2]]
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-03-31 19:48:57 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item"=>"Munição", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item"=>"Munição"}}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:55:in `set_user'
  [1m[36mItem Load (0.6ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mItem Load (1.0ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:35:in `update_inventory'
Completed 500 Internal Server Error in 9995ms (ActiveRecord: 11.3ms | Allocations: 21739)


  
NoMethodError (undefined method `delete_at' for #<ActiveRecord::Associations::CollectionProxy [#<Item id: 4, name: "Munição", value: 1, created_at: "2023-03-30 16:49:12.945727000 +0000", updated_at: "2023-03-30 16:49:12.945727000 +0000">]>):
  
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:35:in `update_inventory'
Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-03-31 19:49:45 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item"=>"Munição", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item"=>"Munição"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:58:in `set_user'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ (byebug):1:in `update_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" ORDER BY "inventories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ (byebug):1:in `update_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" ORDER BY "inventories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ (byebug):1:in `update_inventory'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ (byebug):1:in `update_inventory'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ (byebug):1:in `update_inventory'
  [1m[36mItem Count (0.6ms)[0m  [1m[34mSELECT COUNT(#<Item:0x00007f1ab09bba00>) FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:35:in `update_inventory'
Completed 500 Internal Server Error in 134515ms (ActiveRecord: 20.1ms | Allocations: 36304)


  
ActiveRecord::StatementInvalid (PG::SyntaxError: ERROR:  syntax error at or near ":"
LINE 1: SELECT COUNT(#<Item:0x00007f1ab09bba00>) FROM "items" INNER ...
                           ^
):
  
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:35:in `update_inventory'
Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-03-31 19:52:45 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item"=>"Munição", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item"=>"Munição"}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:58:in `set_user'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mItem Load (0.6ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mCACHE Inventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
Completed 500 Internal Server Error in 26332ms (ActiveRecord: 27.5ms | Allocations: 285049)


  
NameError (undefined local variable or method `ok' for #<Api::V1::FirstZombieApocalypsesController:0x00000000034530>):
  
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-03-31 20:03:13 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item"=>"Munição", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item"=>"Munição"}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:58:in `set_user'
  [1m[36mItem Load (0.7ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mItem Load (1.6ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
Completed 400 Bad Request in 4598ms (Views: 0.6ms | ActiveRecord: 13.9ms | Allocations: 23661)


  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" ORDER BY "inventories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" ORDER BY "inventories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-03-31 20:05:18 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item"=>"Munição", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item"=>"Munição"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:58:in `set_user'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
Completed 200 OK in 6404ms (Views: 0.4ms | ActiveRecord: 18.1ms | Allocations: 21436)


  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" ORDER BY "inventories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" ORDER BY "inventories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1 /* loading for inspect */ LIMIT $2[0m  [["inventory_id", 1], ["LIMIT", 11]]
  [1m[36mItem Load (0.7ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1 /* loading for inspect */ LIMIT $2[0m  [["inventory_id", 1], ["LIMIT", 11]]
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" ORDER BY "inventories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-03-31 20:06:12 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item"=>"Água"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:58:in `set_user'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
Completed 200 OK in 17002ms (Views: 0.4ms | ActiveRecord: 1.2ms | Allocations: 10360)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-03-31 20:07:02 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item"=>"Água"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:58:in `set_user'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
Completed 204 No Content in 8ms (ActiveRecord: 1.4ms | Allocations: 2312)


  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" ORDER BY "inventories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mItem Load (0.7ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" ORDER BY "inventories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-03-31 20:11:07 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Água"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:59:in `set_user'
  [1m[36mItem Load (1.6ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mItem Load (0.9ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:33:in `update_inventory'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:33:in `update_inventory'
Completed 200 OK in 64ms (Views: 2.4ms | ActiveRecord: 15.8ms | Allocations: 14764)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-03-31 20:11:29 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Água"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:60:in `set_user'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
Completed 500 Internal Server Error in 47ms (ActiveRecord: 11.6ms | Allocations: 13077)


  
NoMethodError (undefined method `save!' for [#<Item id: 4, name: "Munição", value: 1, created_at: "2023-03-30 16:49:12.945727000 +0000", updated_at: "2023-03-30 16:49:12.945727000 +0000">, #<Item id: 1, name: "Água", value: 4, created_at: "2023-03-30 16:49:12.878281000 +0000", updated_at: "2023-03-30 16:49:12.878281000 +0000">]:Array):
  
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:33:in `update_inventory'
Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-03-31 20:17:09 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Água"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:61:in `set_user'
  [1m[36mItem Load (1.5ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mItem Load (0.7ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
Completed 500 Internal Server Error in 69ms (ActiveRecord: 9.4ms | Allocations: 15086)


  
NoMethodError (undefined method `save!' for [#<Item id: 4, name: "Munição", value: 1, created_at: "2023-03-30 16:49:12.945727000 +0000", updated_at: "2023-03-30 16:49:12.945727000 +0000">, #<Item id: 1, name: "Água", value: 4, created_at: "2023-03-30 16:49:12.878281000 +0000", updated_at: "2023-03-30 16:49:12.878281000 +0000">]:Array):
  
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:33:in `update_inventory'
Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-03-31 20:17:35 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Água"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:61:in `set_user'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
Completed 500 Internal Server Error in 57ms (ActiveRecord: 14.5ms | Allocations: 12998)


  
NoMethodError (undefined method `save' for [#<Item id: 4, name: "Munição", value: 1, created_at: "2023-03-30 16:49:12.945727000 +0000", updated_at: "2023-03-30 16:49:12.945727000 +0000">, #<Item id: 1, name: "Água", value: 4, created_at: "2023-03-30 16:49:12.878281000 +0000", updated_at: "2023-03-30 16:49:12.878281000 +0000">]:Array):
  
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:33:in `update_inventory'
Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-03-31 20:17:48 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Água"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:60:in `set_user'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mCACHE Inventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:34:in `update_inventory'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:34:in `update_inventory'
Completed 200 OK in 40ms (Views: 1.4ms | ActiveRecord: 9.5ms | Allocations: 14866)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-03-31 20:18:04 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Água"}}
  [1m[36mUser Load (4.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:60:in `set_user'
  [1m[36mItem Load (0.7ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mItem Load (0.8ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mCACHE Inventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ (byebug):1:in `update_inventory'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1 /* loading for inspect */ LIMIT $2[0m  [["inventory_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:34:in `update_inventory'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:34:in `update_inventory'
Completed 200 OK in 103991ms (Views: 2.3ms | ActiveRecord: 20.8ms | Allocations: 24886)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-03-31 20:19:51 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Água"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:61:in `set_user'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mItem Load (0.8ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
Completed 500 Internal Server Error in 46ms (ActiveRecord: 13.5ms | Allocations: 13039)


  
NoMethodError (undefined method `save!' for #<ActiveRecord::Associations::CollectionProxy [#<Item id: 4, name: "Munição", value: 1, created_at: "2023-03-30 16:49:12.945727000 +0000", updated_at: "2023-03-30 16:49:12.945727000 +0000">]>):
  
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:33:in `update_inventory'
Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-03 22:19:02 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Água"}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:61:in `set_user'
  [1m[36mItem Load (2.5ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mItem Load (0.6ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ (byebug):1:in `update_inventory'
  [1m[36mInventoryItem Create (2.4ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-04 01:20:24.701197"], ["updated_at", "2023-04-04 01:20:24.701197"]]
  ↳ (byebug):1:in `update_inventory'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ (byebug):1:in `update_inventory'
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ (byebug):1:in `update_inventory'
  [1m[36mItem Load (0.7ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1 /* loading for inspect */ LIMIT $2[0m  [["inventory_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:35:in `update_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:35:in `update_inventory'
Completed 200 OK in 135489ms (Views: 2.5ms | ActiveRecord: 28.5ms | Allocations: 40446)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-03 22:21:22 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Água"}}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:61:in `set_user'
  [1m[36mItem Load (1.5ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventoryItem Create (2.5ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-04 01:21:22.949423"], ["updated_at", "2023-04-04 01:21:22.949423"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mItem Load (0.6ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1 /* loading for inspect */ LIMIT $2[0m  [["inventory_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:35:in `update_inventory'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ (byebug):1:in `update_inventory'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1 /* loading for inspect */ LIMIT $2[0m  [["inventory_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:35:in `update_inventory'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:35:in `update_inventory'
Completed 200 OK in 33583ms (Views: 5.0ms | ActiveRecord: 36.1ms | Allocations: 32909)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-03 22:22:45 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Medicamento", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Medicamento"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:61:in `set_user'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamento"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
Completed 500 Internal Server Error in 38ms (ActiveRecord: 8.1ms | Allocations: 10034)


  
ActiveRecord::AssociationTypeMismatch (Item(#199220) expected, got nil which is an instance of NilClass(#1820)):
  
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-03 22:23:43 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Medicamentos", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Medicamentos"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:61:in `set_user'
  [1m[36mItem Load (0.7ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventoryItem Create (1.2ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 3], ["created_at", "2023-04-04 01:23:43.296669"], ["updated_at", "2023-04-04 01:23:43.296669"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mTRANSACTION (6.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:35:in `update_inventory'
  [1m[36mItem Load (0.6ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:35:in `update_inventory'
Completed 200 OK in 53ms (Views: 3.6ms | ActiveRecord: 14.9ms | Allocations: 9981)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-03 22:24:00 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Comida", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Comida"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:61:in `set_user'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Comida"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventoryItem Create (0.8ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 2], ["created_at", "2023-04-04 01:24:00.365784"], ["updated_at", "2023-04-04 01:24:00.365784"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mTRANSACTION (6.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:35:in `update_inventory'
  [1m[36mItem Load (1.0ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:35:in `update_inventory'
Completed 200 OK in 126ms (Views: 63.9ms | ActiveRecord: 9.2ms | Allocations: 6041)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-03 22:28:22 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Comida", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Comida"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:59:in `set_user'
  [1m[36mItem Load (0.6ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Comida"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mItem Count (1.2ms)[0m  [1m[34mSELECT COUNT(#<Item:0x00007f1ab14d7498>) FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:35:in `update_inventory'
Completed 500 Internal Server Error in 96ms (ActiveRecord: 16.3ms | Allocations: 12695)


  
ActiveRecord::StatementInvalid (PG::SyntaxError: ERROR:  syntax error at or near ":"
LINE 1: SELECT COUNT(#<Item:0x00007f1ab14d7498>) FROM "items" INNER ...
                           ^
):
  
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:35:in `update_inventory'
Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-03 22:33:16 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Comida", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Comida"}}
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:59:in `set_user'
  [1m[36mItem Load (0.7ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Comida"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mItem Load (1.0ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1 /* loading for inspect */ LIMIT $2[0m  [["inventory_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mItem Count (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ (byebug):1:in `update_inventory'
  [1m[36mItem Count (0.7ms)[0m  [1m[34mSELECT COUNT(#<Item:0x00007f62b3acec58>) FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ (byebug):1:in `update_inventory'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ (byebug):1:in `update_inventory'
  [1m[36mItem Count (0.7ms)[0m  [1m[34mSELECT COUNT(#<Item:0x00007f62b3acec58>) FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
Completed 500 Internal Server Error in 194002ms (ActiveRecord: 42.3ms | Allocations: 89137)


  
ActiveRecord::StatementInvalid (PG::SyntaxError: ERROR:  syntax error at or near ":"
LINE 1: SELECT COUNT(#<Item:0x00007f62b3acec58>) FROM "items" INNER ...
                           ^
):
  
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-03 22:37:00 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Comida", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Comida"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:58:in `set_user'
  [1m[36mItem Load (0.6ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Comida"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mItem Load (0.6ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:35:in `update_inventory'
Completed 500 Internal Server Error in 48ms (ActiveRecord: 12.8ms | Allocations: 13796)


  
NoMethodError (undefined method `delete_at' for #<ActiveRecord::Associations::CollectionProxy [#<Item id: 1, name: "Água", value: 4, created_at: "2023-03-30 16:49:12.878281000 +0000", updated_at: "2023-03-30 16:49:12.878281000 +0000">, #<Item id: 1, name: "Água", value: 4, created_at: "2023-03-30 16:49:12.878281000 +0000", updated_at: "2023-03-30 16:49:12.878281000 +0000">, #<Item id: 2, name: "Comida", value: 3, created_at: "2023-03-30 16:49:12.886049000 +0000", updated_at: "2023-03-30 16:49:12.886049000 +0000">, #<Item id: 3, name: "Medicamentos", value: 2, created_at: "2023-03-30 16:49:12.940259000 +0000", updated_at: "2023-03-30 16:49:12.940259000 +0000">, #<Item id: 4, name: "Munição", value: 1, created_at: "2023-03-30 16:49:12.945727000 +0000", updated_at: "2023-03-30 16:49:12.945727000 +0000">]>):
  
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-03 22:43:04 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Comida", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Comida"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:59:in `set_user'
  [1m[36mItem Load (0.6ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Comida"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mItem Load (1.0ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:34:in `update_inventory'
Completed 500 Internal Server Error in 148778ms (ActiveRecord: 10.5ms | Allocations: 35246)


  
NoMethodError (undefined method `delete_at' for #<ActiveRecord::Associations::CollectionProxy [#<Item id: 1, name: "Água", value: 4, created_at: "2023-03-30 16:49:12.878281000 +0000", updated_at: "2023-03-30 16:49:12.878281000 +0000">, #<Item id: 1, name: "Água", value: 4, created_at: "2023-03-30 16:49:12.878281000 +0000", updated_at: "2023-03-30 16:49:12.878281000 +0000">, #<Item id: 2, name: "Comida", value: 3, created_at: "2023-03-30 16:49:12.886049000 +0000", updated_at: "2023-03-30 16:49:12.886049000 +0000">, #<Item id: 3, name: "Medicamentos", value: 2, created_at: "2023-03-30 16:49:12.940259000 +0000", updated_at: "2023-03-30 16:49:12.940259000 +0000">, #<Item id: 4, name: "Munição", value: 1, created_at: "2023-03-30 16:49:12.945727000 +0000", updated_at: "2023-03-30 16:49:12.945727000 +0000">]>):
  
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-03 22:45:39 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Comida", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Comida"}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:58:in `set_user'
  [1m[36mItem Load (1.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Comida"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mInventory Load (3.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mItem Load (4.8ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:34:in `update_inventory'
  [1m[36mCACHE Inventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mCACHE Item Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
Completed 200 OK in 116ms (Views: 7.3ms | ActiveRecord: 31.9ms | Allocations: 15884)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-03 22:45:49 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Comida", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Comida"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:58:in `set_user'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Comida"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mItem Load (0.6ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:34:in `update_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
Completed 200 OK in 18ms (Views: 2.4ms | ActiveRecord: 1.9ms | Allocations: 4191)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-03 22:46:21 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Comida", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Comida"}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:59:in `set_user'
  [1m[36mItem Load (1.7ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Comida"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:34:in `update_inventory'
  [1m[36mCACHE Inventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
Completed 200 OK in 58993ms (Views: 2.5ms | ActiveRecord: 14.9ms | Allocations: 27715)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-03 22:47:46 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Comidass", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Comidass"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:59:in `set_user'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Comidass"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:34:in `update_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:40:in `update_inventory'
  [1m[36mCACHE Item Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:40:in `update_inventory'
Completed 200 OK in 6004ms (Views: 4.1ms | ActiveRecord: 12.5ms | Allocations: 26980)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-03 22:49:02 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Munição", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Munição"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:59:in `set_user'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventoryItem Create (1.1ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 4], ["created_at", "2023-04-04 01:49:02.216480"], ["updated_at", "2023-04-04 01:49:02.216480"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mTRANSACTION (6.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
Completed 204 No Content in 29ms (ActiveRecord: 9.6ms | Allocations: 7100)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-03 22:49:23 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Munição", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Munição"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:59:in `set_user'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventoryItem Create (0.9ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 4], ["created_at", "2023-04-04 01:49:23.739642"], ["updated_at", "2023-04-04 01:49:23.739642"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:42:in `update_inventory'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:42:in `update_inventory'
Completed 200 OK in 76ms (Views: 3.6ms | ActiveRecord: 16.3ms | Allocations: 18593)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-04 16:55:32 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Água"}}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:59:in `set_user'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventoryItem Create (0.7ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-04 19:55:33.002117"], ["updated_at", "2023-04-04 19:55:33.002117"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:42:in `update_inventory'
  [1m[36mItem Load (0.8ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:42:in `update_inventory'
Completed 200 OK in 62ms (Views: 4.6ms | ActiveRecord: 13.8ms | Allocations: 20702)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-04 16:55:41 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Água"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:59:in `set_user'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mItem Load (0.7ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:34:in `update_inventory'
  [1m[36mCACHE Inventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:42:in `update_inventory'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:42:in `update_inventory'
Completed 200 OK in 19659ms (Views: 4.2ms | ActiveRecord: 1.6ms | Allocations: 16213)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-04 16:57:45 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Água"}}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:59:in `set_user'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mInventory Load (2.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mItem Load (0.6ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:34:in `update_inventory'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ (byebug):1:in `update_inventory'
  [1m[36mInventoryItem Delete All (0.4ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 1], ["item_id", 1]]
  ↳ (byebug):1:in `update_inventory'
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ (byebug):1:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ (byebug):1:in `update_inventory'
  [1m[36mInventoryItem Delete All (0.4ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 1], ["item_id", 4]]
  ↳ (byebug):1:in `update_inventory'
  [1m[36mTRANSACTION (6.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ (byebug):1:in `update_inventory'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:42:in `update_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:42:in `update_inventory'
Completed 200 OK in 663546ms (Views: 2.5ms | ActiveRecord: 40.6ms | Allocations: 52559)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-04 17:08:59 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Água"}}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:60:in `set_user'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventoryItem Create (0.6ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-04 20:08:59.589815"], ["updated_at", "2023-04-04 20:08:59.589815"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:43:in `update_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:43:in `update_inventory'
Completed 200 OK in 83ms (Views: 3.1ms | ActiveRecord: 19.1ms | Allocations: 18323)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-04 17:09:03 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Água"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:60:in `set_user'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mInventory Load (5.9ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventoryItem Create (0.5ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-04 20:09:03.370106"], ["updated_at", "2023-04-04 20:09:03.370106"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mTRANSACTION (9.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:43:in `update_inventory'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:43:in `update_inventory'
Completed 200 OK in 49ms (Views: 3.8ms | ActiveRecord: 17.3ms | Allocations: 5953)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-04 17:09:38 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Água"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:58:in `set_user'
  [1m[36mItem Load (0.6ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:34:in `update_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
Completed 200 OK in 70ms (Views: 4.1ms | ActiveRecord: 13.5ms | Allocations: 15039)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-04 17:11:56 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Água"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:59:in `set_user'
  [1m[36mItem Load (0.6ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:34:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ (byebug):1:in `update_inventory'
  [1m[36mInventoryItem Create (0.6ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-04 20:15:01.620400"], ["updated_at", "2023-04-04 20:15:01.620400"]]
  ↳ (byebug):1:in `update_inventory'
  [1m[36mTRANSACTION (6.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ (byebug):1:in `update_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:42:in `update_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:42:in `update_inventory'
Completed 200 OK in 628401ms (Views: 3.8ms | ActiveRecord: 23.7ms | Allocations: 60126)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-04 17:22:56 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Água"}}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:59:in `set_user'
  [1m[36mItem Load (4.4ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mItem Load (2.8ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:34:in `update_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:42:in `update_inventory'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:42:in `update_inventory'
Completed 200 OK in 165ms (Views: 12.7ms | ActiveRecord: 28.4ms | Allocations: 15162)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-04 17:23:23 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Água"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:59:in `set_user'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:34:in `update_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:42:in `update_inventory'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:42:in `update_inventory'
Completed 200 OK in 70ms (Views: 6.3ms | ActiveRecord: 13.5ms | Allocations: 15133)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-04 21:40:49 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Água"}}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:59:in `set_user'
  [1m[36mItem Load (0.7ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mItem Load (3.0ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:34:in `update_inventory'
  [1m[36mCACHE Inventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:42:in `update_inventory'
  [1m[36mCACHE Item Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:42:in `update_inventory'
Completed 200 OK in 88ms (Views: 20.9ms | ActiveRecord: 14.7ms | Allocations: 7113)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-04 21:41:23 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Água"}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:59:in `set_user'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mInventory Load (0.9ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:34:in `update_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:42:in `update_inventory'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:42:in `update_inventory'
Completed 200 OK in 186841ms (Views: 3.3ms | ActiveRecord: 21.4ms | Allocations: 42477)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-04 21:44:39 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Água"}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:59:in `set_user'
  [1m[36mItem Load (4.6ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:42:in `update_inventory'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:42:in `update_inventory'
Completed 200 OK in 338635ms (Views: 1.9ms | ActiveRecord: 19.1ms | Allocations: 40053)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-04 21:50:24 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Água"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:61:in `set_user'
  [1m[36mItem Load (0.7ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:44:in `update_inventory'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:44:in `update_inventory'
Completed 200 OK in 65ms (Views: 4.0ms | ActiveRecord: 16.5ms | Allocations: 15230)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-04 21:51:15 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Água"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:61:in `set_user'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mInventory Load (3.9ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mItem Load (0.6ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mCACHE Inventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:44:in `update_inventory'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:44:in `update_inventory'
Completed 200 OK in 23ms (Views: 4.9ms | ActiveRecord: 5.2ms | Allocations: 4191)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-04 21:51:44 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Água"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:61:in `set_user'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mCACHE Inventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:44:in `update_inventory'
  [1m[36mCACHE Item Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:44:in `update_inventory'
Completed 200 OK in 54187ms (Views: 3.5ms | ActiveRecord: 12.0ms | Allocations: 36353)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-04 21:53:54 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Água"}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:59:in `set_user'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mItem Load (0.7ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mCACHE Inventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ (byebug):1:in `update_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1 /* loading for inspect */ LIMIT $2[0m  [["inventory_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:42:in `update_inventory'
  [1m[36mCACHE Item Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:42:in `update_inventory'
Completed 200 OK in 183733ms (Views: 3.6ms | ActiveRecord: 18.2ms | Allocations: 117819)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-04 21:57:05 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Água"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:60:in `set_user'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mInventory Load (0.9ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mItem Load (0.6ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
Completed 500 Internal Server Error in 3291ms (ActiveRecord: 17.4ms | Allocations: 35525)


  
NoMethodError (undefined method `save!' for [#<Item id: 1, name: "Água", value: 4, created_at: "2023-03-30 16:49:12.878281000 +0000", updated_at: "2023-03-30 16:49:12.878281000 +0000">, #<Item id: 1, name: "Água", value: 4, created_at: "2023-03-30 16:49:12.878281000 +0000", updated_at: "2023-03-30 16:49:12.878281000 +0000">, #<Item id: 2, name: "Comida", value: 3, created_at: "2023-03-30 16:49:12.886049000 +0000", updated_at: "2023-03-30 16:49:12.886049000 +0000">, #<Item id: 3, name: "Medicamentos", value: 2, created_at: "2023-03-30 16:49:12.940259000 +0000", updated_at: "2023-03-30 16:49:12.940259000 +0000">]:Array):
  
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-04 21:58:34 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Água"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:60:in `set_user'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mItem Load (0.6ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:34:in `update_inventory'
Completed 500 Internal Server Error in 2082ms (ActiveRecord: 19.0ms | Allocations: 35146)


  
NoMethodError (undefined method `save!' for #<ActiveRecord::Associations::CollectionProxy [#<Item id: 1, name: "Água", value: 4, created_at: "2023-03-30 16:49:12.878281000 +0000", updated_at: "2023-03-30 16:49:12.878281000 +0000">, #<Item id: 1, name: "Água", value: 4, created_at: "2023-03-30 16:49:12.878281000 +0000", updated_at: "2023-03-30 16:49:12.878281000 +0000">, #<Item id: 1, name: "Água", value: 4, created_at: "2023-03-30 16:49:12.878281000 +0000", updated_at: "2023-03-30 16:49:12.878281000 +0000">, #<Item id: 2, name: "Comida", value: 3, created_at: "2023-03-30 16:49:12.886049000 +0000", updated_at: "2023-03-30 16:49:12.886049000 +0000">, #<Item id: 3, name: "Medicamentos", value: 2, created_at: "2023-03-30 16:49:12.940259000 +0000", updated_at: "2023-03-30 16:49:12.940259000 +0000">]>):
  
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-04 21:59:31 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Água"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:60:in `set_user'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:34:in `update_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ (byebug):1:in `update_inventory'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1 /* loading for inspect */ LIMIT $2[0m  [["inventory_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ (byebug):1:in `update_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ (byebug):1:in `update_inventory'
Completed 500 Internal Server Error in 701127ms (ActiveRecord: 1.9ms | Allocations: 53605)


  
NoMethodError (undefined method `save!' for #<ActiveRecord::Associations::CollectionProxy [#<Item id: 1, name: "Água", value: 4, created_at: "2023-03-30 16:49:12.878281000 +0000", updated_at: "2023-03-30 16:49:12.878281000 +0000">, #<Item id: 1, name: "Água", value: 4, created_at: "2023-03-30 16:49:12.878281000 +0000", updated_at: "2023-03-30 16:49:12.878281000 +0000">, #<Item id: 1, name: "Água", value: 4, created_at: "2023-03-30 16:49:12.878281000 +0000", updated_at: "2023-03-30 16:49:12.878281000 +0000">, #<Item id: 2, name: "Comida", value: 3, created_at: "2023-03-30 16:49:12.886049000 +0000", updated_at: "2023-03-30 16:49:12.886049000 +0000">, #<Item id: 3, name: "Medicamentos", value: 2, created_at: "2023-03-30 16:49:12.940259000 +0000", updated_at: "2023-03-30 16:49:12.940259000 +0000">]>):
  
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-04 22:11:17 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Água"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:60:in `set_user'
  [1m[36mItem Load (0.8ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mInventoryItem Delete All (0.8ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 1], ["item_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mInventoryItem Create (0.9ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 01:11:17.429482"], ["updated_at", "2023-04-05 01:11:17.429482"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mInventoryItem Create (0.5ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 01:11:17.434070"], ["updated_at", "2023-04-05 01:11:17.434070"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:43:in `update_inventory'
  [1m[36mItem Load (0.7ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:43:in `update_inventory'
Completed 200 OK in 103ms (Views: 5.0ms | ActiveRecord: 22.2ms | Allocations: 25995)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-04 22:11:44 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Água"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:60:in `set_user'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mInventoryItem Delete All (0.6ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 1], ["item_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mInventoryItem Create (0.7ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 01:11:44.971031"], ["updated_at", "2023-04-05 01:11:44.971031"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mTRANSACTION (6.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:43:in `update_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:43:in `update_inventory'
Completed 200 OK in 58ms (Views: 4.3ms | ActiveRecord: 10.6ms | Allocations: 9753)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-04 22:14:02 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Água"}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:61:in `set_user'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:30:in `update_inventory'
Completed 500 Internal Server Error in 60ms (ActiveRecord: 14.6ms | Allocations: 13408)


  
NameError (undefined local variable or method `inventory_user' for #<Api::V1::FirstZombieApocalypsesController:0x000000000176d8>):
  
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-04 22:14:18 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Água"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:61:in `set_user'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:30:in `update_inventory'
Completed 500 Internal Server Error in 60ms (ActiveRecord: 14.5ms | Allocations: 13404)


  
NameError (undefined local variable or method `inventory_items' for #<Api::V1::FirstZombieApocalypsesController:0x0000000001b0a8>):
  
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-04 22:14:34 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Água"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:61:in `set_user'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:30:in `update_inventory'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
  [1m[36mInventoryItem Delete All (1.7ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 1], ["item_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
  [1m[36mTRANSACTION (9.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:44:in `update_inventory'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:44:in `update_inventory'
Completed 200 OK in 133ms (Views: 7.7ms | ActiveRecord: 31.4ms | Allocations: 20051)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-04 22:14:42 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Água"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:61:in `set_user'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:30:in `update_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:44:in `update_inventory'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:44:in `update_inventory'
Completed 200 OK in 11ms (Views: 1.9ms | ActiveRecord: 0.9ms | Allocations: 4323)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-04 22:15:12 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Água"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:61:in `set_user'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:30:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:33:in `update_inventory'
  [1m[36mInventoryItem Create (0.9ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 01:15:12.534102"], ["updated_at", "2023-04-05 01:15:12.534102"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:33:in `update_inventory'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:33:in `update_inventory'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:44:in `update_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:44:in `update_inventory'
Completed 200 OK in 55ms (Views: 1.6ms | ActiveRecord: 14.0ms | Allocations: 19409)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-04 22:20:15 -0300
  
SyntaxError (/home/bsquintan/Projetos/zssn/app/controllers/api/v1/first_zombie_apocalypses_controller.rb:2: syntax error, unexpected local variable or method, expecting `end' or dummy end
... :set_user, :set_inventory only: [:update_location, :update_...
...                           ^~~~
):
  
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:2: syntax error, unexpected local variable or method, expecting `end' or dummy end
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:2: syntax error, unexpected local variable or method, expecting `end' or dummy end
Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-04 22:20:44 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Água"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:60:in `set_user'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:64:in `set_inventory'
  [1m[36mItem Load (0.7ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mItem Load (1.8ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mInventoryItem Delete All (0.5ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 1], ["item_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mTRANSACTION (6.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mInventory Load (0.9ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:43:in `update_inventory'
  [1m[36mItem Load (0.7ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:43:in `update_inventory'
Completed 200 OK in 141ms (Views: 3.6ms | ActiveRecord: 26.0ms | Allocations: 22266)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-04 22:21:41 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Água"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:60:in `set_user'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:64:in `set_inventory'
  [1m[36mItem Load (0.9ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.7ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
Completed 500 Internal Server Error in 83ms (ActiveRecord: 20.4ms | Allocations: 12956)


  
NameError (undefined local variable or method `inventory' for #<Api::V1::FirstZombieApocalypsesController:0x0000000002d460>):
  
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-04 22:22:28 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Água"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:60:in `set_user'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:64:in `set_inventory'
  [1m[36mItem Load (0.6ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventoryItem Create (1.3ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 01:22:28.802182"], ["updated_at", "2023-04-05 01:22:28.802182"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:43:in `update_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:43:in `update_inventory'
Completed 200 OK in 80ms (Views: 2.8ms | ActiveRecord: 19.7ms | Allocations: 18899)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-04 22:23:05 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Água"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:60:in `set_user'
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:64:in `set_inventory'
  [1m[36mItem Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mInventoryItem Delete All (0.2ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 1], ["item_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mTRANSACTION (5.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:43:in `update_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:43:in `update_inventory'
Completed 200 OK in 22ms (Views: 1.8ms | ActiveRecord: 7.7ms | Allocations: 7628)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-04 22:23:09 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Água"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:60:in `set_user'
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:64:in `set_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (3.6ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventoryItem Create (0.5ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 01:23:09.506239"], ["updated_at", "2023-04-05 01:23:09.506239"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mTRANSACTION (6.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:43:in `update_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:43:in `update_inventory'
Completed 200 OK in 25ms (Views: 2.4ms | ActiveRecord: 11.0ms | Allocations: 6515)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-04 22:23:59 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Água"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:60:in `set_user'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:64:in `set_inventory'
  [1m[36mItem Load (0.6ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (1.0ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventoryItem Create (0.7ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 01:23:59.357630"], ["updated_at", "2023-04-05 01:23:59.357630"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:43:in `update_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:43:in `update_inventory'
Completed 200 OK in 85ms (Views: 2.7ms | ActiveRecord: 19.8ms | Allocations: 18890)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-04 22:24:04 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Água"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:60:in `set_user'
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:64:in `set_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.9ms | Allocations: 2428)


  
ArgumentError (wrong number of arguments (given 0, expected 1)):
  
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-04 22:24:22 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Água"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:60:in `set_user'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:64:in `set_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:43:in `update_inventory'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:43:in `update_inventory'
Completed 200 OK in 85ms (Views: 8.3ms | ActiveRecord: 16.6ms | Allocations: 17696)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-04 22:24:49 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Água"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:60:in `set_user'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:64:in `set_inventory'
  [1m[36mItem Load (0.7ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mInventoryItem Delete All (0.7ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 1], ["item_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mInventoryItem Create (0.6ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 01:24:49.743629"], ["updated_at", "2023-04-05 01:24:49.743629"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:43:in `update_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:43:in `update_inventory'
Completed 200 OK in 85ms (Views: 3.2ms | ActiveRecord: 17.3ms | Allocations: 21396)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-04 22:26:12 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Água"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:82:in `set_user'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:86:in `set_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:43:in `update_inventory'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:43:in `update_inventory'
Completed 200 OK in 56ms (Views: 1.8ms | ActiveRecord: 11.6ms | Allocations: 14965)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-04 22:26:17 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Água"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:82:in `set_user'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:86:in `set_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mCACHE Inventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:43:in `update_inventory'
  [1m[36mCACHE Item Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:43:in `update_inventory'
Completed 200 OK in 19ms (Views: 3.6ms | ActiveRecord: 1.4ms | Allocations: 4012)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-04 22:26:30 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Água"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:82:in `set_user'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:86:in `set_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:43:in `update_inventory'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:43:in `update_inventory'
Completed 200 OK in 83ms (Views: 2.9ms | ActiveRecord: 13.0ms | Allocations: 17568)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-04 22:27:41 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Água"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:82:in `set_user'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:86:in `set_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventoryItem Create (0.6ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 01:27:41.216920"], ["updated_at", "2023-04-05 01:27:41.216920"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
Completed 200 OK in 83ms (Views: 0.7ms | ActiveRecord: 22.9ms | Allocations: 16920)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-04 22:30:24 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Água"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:82:in `set_user'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:86:in `set_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
Completed 500 Internal Server Error in 42ms (ActiveRecord: 11.0ms | Allocations: 13060)


  
NoMethodError (undefined method `<<' for #<Inventory id: 1, user_id: 1, created_at: "2023-03-31 16:05:52.529030000 +0000", updated_at: "2023-03-31 16:05:52.529030000 +0000">):
  
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-04 22:30:43 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Água"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:82:in `set_user'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:86:in `set_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventoryItem Create (0.5ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 01:30:44.126556"], ["updated_at", "2023-04-05 01:30:44.126556"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
Completed 200 OK in 66ms (Views: 1.6ms | ActiveRecord: 16.8ms | Allocations: 17106)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-04 22:31:29 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"delete", "item_name"=>"Comida", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"delete", "item_name"=>"Comida"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:82:in `set_user'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:86:in `set_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Comida"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
Completed 200 OK in 9ms (Views: 1.1ms | ActiveRecord: 1.0ms | Allocations: 2774)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-04 22:32:32 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"delete", "item_name"=>"Comida", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"delete", "item_name"=>"Comida"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:82:in `set_user'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:86:in `set_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Comida"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
Completed 200 OK in 38ms (Views: 0.5ms | ActiveRecord: 8.6ms | Allocations: 13313)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-04 22:32:49 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Comida", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Comida"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:82:in `set_user'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:86:in `set_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Comida"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
Completed 500 Internal Server Error in 29ms (ActiveRecord: 1.0ms | Allocations: 2835)


  
NoMethodError (undefined method `delete_at' for #<ActiveRecord::Associations::CollectionProxy [#<Item id: 1, name: "Água", value: 4, created_at: "2023-03-30 16:49:12.878281000 +0000", updated_at: "2023-03-30 16:49:12.878281000 +0000">, #<Item id: 1, name: "Água", value: 4, created_at: "2023-03-30 16:49:12.878281000 +0000", updated_at: "2023-03-30 16:49:12.878281000 +0000">, #<Item id: 1, name: "Água", value: 4, created_at: "2023-03-30 16:49:12.878281000 +0000", updated_at: "2023-03-30 16:49:12.878281000 +0000">, #<Item id: 2, name: "Comida", value: 3, created_at: "2023-03-30 16:49:12.886049000 +0000", updated_at: "2023-03-30 16:49:12.886049000 +0000">, #<Item id: 3, name: "Medicamentos", value: 2, created_at: "2023-03-30 16:49:12.940259000 +0000", updated_at: "2023-03-30 16:49:12.940259000 +0000">]>):
  
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-04 22:33:01 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Comida", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Comida"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:82:in `set_user'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:86:in `set_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Comida"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
Completed 200 OK in 67ms (Views: 1.4ms | ActiveRecord: 14.3ms | Allocations: 13425)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-04 22:33:36 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Comida", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Comida"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:82:in `set_user'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:86:in `set_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Comida"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
Completed 500 Internal Server Error in 76ms (ActiveRecord: 16.2ms | Allocations: 13319)


  
NoMethodError (undefined method `delete_at' for #<ActiveRecord::Associations::CollectionProxy [#<Item id: 1, name: "Água", value: 4, created_at: "2023-03-30 16:49:12.878281000 +0000", updated_at: "2023-03-30 16:49:12.878281000 +0000">, #<Item id: 1, name: "Água", value: 4, created_at: "2023-03-30 16:49:12.878281000 +0000", updated_at: "2023-03-30 16:49:12.878281000 +0000">, #<Item id: 1, name: "Água", value: 4, created_at: "2023-03-30 16:49:12.878281000 +0000", updated_at: "2023-03-30 16:49:12.878281000 +0000">, #<Item id: 2, name: "Comida", value: 3, created_at: "2023-03-30 16:49:12.886049000 +0000", updated_at: "2023-03-30 16:49:12.886049000 +0000">, #<Item id: 3, name: "Medicamentos", value: 2, created_at: "2023-03-30 16:49:12.940259000 +0000", updated_at: "2023-03-30 16:49:12.940259000 +0000">]>):
  
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-04 22:35:08 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Comida", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Comida"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:59:in `set_user'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:63:in `set_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Comida"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mInventoryItem Delete All (0.5ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 1], ["item_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
Completed 200 OK in 85ms (Views: 1.5ms | ActiveRecord: 19.4ms | Allocations: 17172)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-04 22:35:20 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Água"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:59:in `set_user'
  [1m[36mInventory Load (1.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:63:in `set_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mInventoryItem Delete All (1.3ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 1], ["item_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mInventoryItem Create (0.9ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 01:35:20.172185"], ["updated_at", "2023-04-05 01:35:20.172185"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mInventoryItem Create (0.6ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 01:35:20.182531"], ["updated_at", "2023-04-05 01:35:20.182531"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mTRANSACTION (6.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
Completed 200 OK in 58ms (Views: 1.4ms | ActiveRecord: 11.5ms | Allocations: 9405)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-04 22:35:49 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Água"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:59:in `set_user'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:63:in `set_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventoryItem Create (0.7ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 01:35:49.276621"], ["updated_at", "2023-04-05 01:35:49.276621"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mTRANSACTION (7.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
Completed 200 OK in 29ms (Views: 0.9ms | ActiveRecord: 9.1ms | Allocations: 5039)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-04 22:36:00 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Água"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:59:in `set_user'
  [1m[36mInventory Load (3.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:63:in `set_inventory'
  [1m[36mItem Load (10.4ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (6.2ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mInventoryItem Delete All (0.5ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 1], ["item_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mInventoryItem Create (0.6ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 01:36:00.834188"], ["updated_at", "2023-04-05 01:36:00.834188"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mInventoryItem Create (0.6ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 01:36:00.838435"], ["updated_at", "2023-04-05 01:36:00.838435"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mTRANSACTION (6.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
Completed 200 OK in 79ms (Views: 0.8ms | ActiveRecord: 29.1ms | Allocations: 8108)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-04 22:36:09 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Água"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:59:in `set_user'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:63:in `set_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.6ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventoryItem Create (0.7ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 01:36:09.606034"], ["updated_at", "2023-04-05 01:36:09.606034"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mTRANSACTION (6.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
Completed 200 OK in 36ms (Views: 3.0ms | ActiveRecord: 9.4ms | Allocations: 5038)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-04 22:40:48 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"addee", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"addee", "item_name"=>"Água"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:61:in `set_user'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `set_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
Completed 500 Internal Server Error in 65ms (Views: 0.7ms | ActiveRecord: 15.7ms | Allocations: 13228)


  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:44:in `update_inventory'
Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-04 22:42:36 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"addee", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"addee", "item_name"=>"Água"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:61:in `set_user'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `set_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
Completed 500 Internal Server Error in 52ms (Views: 0.4ms | ActiveRecord: 12.8ms | Allocations: 13124)


  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:44:in `update_inventory'
Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-04 22:43:45 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Água"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:62:in `set_user'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:66:in `set_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventoryItem Create (0.5ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 01:43:45.850050"], ["updated_at", "2023-04-05 01:43:45.850050"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
Completed 200 OK in 67ms (Views: 0.2ms | ActiveRecord: 16.5ms | Allocations: 16738)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-04 22:44:42 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Água"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:61:in `set_user'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `set_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.7ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventoryItem Create (0.5ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 01:44:42.927170"], ["updated_at", "2023-04-05 01:44:42.927170"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
Completed 200 OK in 58ms (Views: 1.1ms | ActiveRecord: 13.6ms | Allocations: 17126)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-04 22:44:58 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Água"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:61:in `set_user'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `set_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mInventoryItem Delete All (0.5ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 1], ["item_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mInventoryItem Create (1.4ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 01:44:58.434255"], ["updated_at", "2023-04-05 01:44:58.434255"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mInventoryItem Create (0.5ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 01:44:58.440406"], ["updated_at", "2023-04-05 01:44:58.440406"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mInventoryItem Create (0.6ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 01:44:58.445015"], ["updated_at", "2023-04-05 01:44:58.445015"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mInventoryItem Create (0.6ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 01:44:58.451356"], ["updated_at", "2023-04-05 01:44:58.451356"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mTRANSACTION (6.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
Completed 200 OK in 51ms (Views: 0.6ms | ActiveRecord: 11.1ms | Allocations: 11247)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-04 22:45:09 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Munição", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Munição"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:61:in `set_user'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `set_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
Completed 500 Internal Server Error in 9ms (ActiveRecord: 1.2ms | Allocations: 2433)


  
TypeError (no implicit conversion from nil to integer):
  
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:35:in `delete_at'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:35:in `update_inventory'
Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-04 22:46:00 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Munição", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Munição"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:61:in `set_user'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `set_inventory'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
Completed 500 Internal Server Error in 56ms (ActiveRecord: 13.6ms | Allocations: 13026)


  
TypeError (no implicit conversion from nil to integer):
  
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:35:in `delete_at'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:35:in `update_inventory'
Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-04 22:47:02 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"removett", "item_name"=>"Munição", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"removett", "item_name"=>"Munição"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:61:in `set_user'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `set_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
Completed 500 Internal Server Error in 56ms (Views: 0.2ms | ActiveRecord: 13.8ms | Allocations: 13132)


  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:44:in `update_inventory'
Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-04 22:47:58 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"removett", "item_name"=>"Munição", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"removett", "item_name"=>"Munição"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:62:in `set_user'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:66:in `set_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
Completed 500 Internal Server Error in 51ms (ActiveRecord: 13.0ms | Allocations: 12966)


  
NameError (undefined local variable or method `teste' for #<Api::V1::FirstZombieApocalypsesController:0x000000000791f8>):
  
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-04 22:48:10 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"removett", "item_name"=>"Munição", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"removett", "item_name"=>"Munição"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:62:in `set_user'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:66:in `set_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
Completed 500 Internal Server Error in 50ms (Views: 0.3ms | ActiveRecord: 12.6ms | Allocations: 13080)


  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:45:in `update_inventory'
Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-04 22:48:50 -0300
  
SyntaxError (/home/bsquintan/Projetos/zssn/app/controllers/api/v1/first_zombie_apocalypses_controller.rb:42: Invalid break):
  
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:42: Invalid break
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:42: Invalid break
app/controllers/api/v1/first_zombie_apocalypses_controller.rb
Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-04 22:49:10 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"removett", "item_name"=>"Munição", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"removett", "item_name"=>"Munição"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:61:in `set_user'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `set_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
Completed 500 Internal Server Error in 63ms (Views: 0.4ms | ActiveRecord: 14.0ms | Allocations: 13134)


  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:44:in `update_inventory'
Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 10:15:03 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Munição", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Munição"}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:61:in `set_user'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `set_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (2.1ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventoryItem Create (2.2ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 4], ["created_at", "2023-04-05 13:15:03.341557"], ["updated_at", "2023-04-05 13:15:03.341557"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
Completed 200 OK in 79ms (Views: 1.2ms | ActiveRecord: 18.1ms | Allocations: 19196)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 10:15:15 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Munição", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Munição"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:61:in `set_user'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `set_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.6ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventoryItem Create (0.8ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 4], ["created_at", "2023-04-05 13:15:15.452545"], ["updated_at", "2023-04-05 13:15:15.452545"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mTRANSACTION (8.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
Completed 200 OK in 38ms (Views: 2.0ms | ActiveRecord: 10.9ms | Allocations: 5293)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 10:15:24 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Munição", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Munição"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:61:in `set_user'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `set_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.6ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (5.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventoryItem Create (0.6ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 4], ["created_at", "2023-04-05 13:15:24.878359"], ["updated_at", "2023-04-05 13:15:24.878359"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mTRANSACTION (6.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
Completed 200 OK in 38ms (Views: 4.2ms | ActiveRecord: 13.5ms | Allocations: 5374)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 10:15:47 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Água"}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:61:in `set_user'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `set_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.6ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mInventoryItem Delete All (0.9ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 1], ["item_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mInventoryItem Create (0.8ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 13:15:47.284385"], ["updated_at", "2023-04-05 13:15:47.284385"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mInventoryItem Create (0.9ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 13:15:47.289980"], ["updated_at", "2023-04-05 13:15:47.289980"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mInventoryItem Create (1.0ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 13:15:47.295181"], ["updated_at", "2023-04-05 13:15:47.295181"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mTRANSACTION (6.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
Completed 200 OK in 55ms (Views: 1.3ms | ActiveRecord: 12.8ms | Allocations: 10215)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 10:15:59 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Água"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:61:in `set_user'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `set_inventory'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.7ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventoryItem Create (1.6ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 13:15:59.104416"], ["updated_at", "2023-04-05 13:15:59.104416"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
Completed 200 OK in 41ms (Views: 2.4ms | ActiveRecord: 14.1ms | Allocations: 5374)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 10:16:30 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Água"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:61:in `set_user'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `set_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mInventoryItem Delete All (0.4ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 1], ["item_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mInventoryItem Create (0.7ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 13:16:30.287487"], ["updated_at", "2023-04-05 13:16:30.287487"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mInventoryItem Create (0.5ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 13:16:30.291603"], ["updated_at", "2023-04-05 13:16:30.291603"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mInventoryItem Create (0.5ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 13:16:30.295934"], ["updated_at", "2023-04-05 13:16:30.295934"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mTRANSACTION (5.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
Completed 200 OK in 36ms (Views: 0.6ms | ActiveRecord: 9.6ms | Allocations: 9585)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 10:16:35 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Água"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:61:in `set_user'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `set_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mInventoryItem Delete All (0.6ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 1], ["item_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mInventoryItem Create (1.1ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 13:16:35.120639"], ["updated_at", "2023-04-05 13:16:35.120639"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mInventoryItem Create (0.6ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 13:16:35.125909"], ["updated_at", "2023-04-05 13:16:35.125909"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
Completed 200 OK in 88ms (Views: 1.0ms | ActiveRecord: 5.5ms | Allocations: 8336)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 10:16:43 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Água"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:61:in `set_user'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `set_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (5.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mInventoryItem Delete All (0.4ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 1], ["item_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mInventoryItem Create (4.4ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 13:16:43.881146"], ["updated_at", "2023-04-05 13:16:43.881146"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mTRANSACTION (6.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
Completed 200 OK in 58ms (Views: 1.6ms | ActiveRecord: 17.6ms | Allocations: 7073)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 10:16:52 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Água"}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:61:in `set_user'
  [1m[36mInventory Load (3.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `set_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (13.3ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (12.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mInventoryItem Delete All (0.5ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 1], ["item_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
Completed 200 OK in 82ms (Views: 2.6ms | ActiveRecord: 31.4ms | Allocations: 5750)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 10:17:04 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Munição", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Munição"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:61:in `set_user'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `set_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mInventoryItem Delete All (0.6ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 1], ["item_id", 4]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mInventoryItem Create (0.8ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 4], ["created_at", "2023-04-05 13:17:04.733585"], ["updated_at", "2023-04-05 13:17:04.733585"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mInventoryItem Create (0.4ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 4], ["created_at", "2023-04-05 13:17:04.739388"], ["updated_at", "2023-04-05 13:17:04.739388"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mTRANSACTION (6.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
Completed 200 OK in 37ms (Views: 0.6ms | ActiveRecord: 9.6ms | Allocations: 8102)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 10:17:07 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Munição", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Munição"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:61:in `set_user'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `set_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (4.1ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mInventoryItem Delete All (0.6ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 1], ["item_id", 4]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mInventoryItem Create (0.7ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 4], ["created_at", "2023-04-05 13:17:07.934859"], ["updated_at", "2023-04-05 13:17:07.934859"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mTRANSACTION (6.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
Completed 200 OK in 44ms (Views: 0.6ms | ActiveRecord: 13.4ms | Allocations: 6844)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 10:17:23 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Munição", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Munição"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:61:in `set_user'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `set_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mInventoryItem Delete All (0.5ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 1], ["item_id", 4]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mTRANSACTION (6.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
Completed 200 OK in 31ms (Views: 1.1ms | ActiveRecord: 8.1ms | Allocations: 5521)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 10:29:43 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Água"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:61:in `set_user'
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `set_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (1.0ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventoryItem Create (1.0ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 13:29:43.667689"], ["updated_at", "2023-04-05 13:29:43.667689"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mTRANSACTION (6.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
Completed 200 OK in 53ms (Views: 0.8ms | ActiveRecord: 16.2ms | Allocations: 7795)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 10:29:59 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Comida", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Comida"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:61:in `set_user'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `set_inventory'
  [1m[36mItem Load (0.7ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Comida"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (2.8ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventoryItem Create (0.5ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 2], ["created_at", "2023-04-05 13:29:59.159645"], ["updated_at", "2023-04-05 13:29:59.159645"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
Completed 200 OK in 46ms (Views: 1.9ms | ActiveRecord: 17.4ms | Allocations: 4954)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 10:30:09 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Água"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:61:in `set_user'
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `set_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.6ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventoryItem Create (2.1ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 13:30:09.171662"], ["updated_at", "2023-04-05 13:30:09.171662"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mTRANSACTION (6.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
Completed 200 OK in 32ms (Views: 1.2ms | ActiveRecord: 10.5ms | Allocations: 5037)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 10:30:20 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Água"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:61:in `set_user'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `set_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (2.6ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mInventoryItem Delete All (2.5ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 1], ["item_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mInventoryItem Create (0.7ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 13:30:20.313781"], ["updated_at", "2023-04-05 13:30:20.313781"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mTRANSACTION (6.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
Completed 200 OK in 41ms (Views: 0.8ms | ActiveRecord: 14.2ms | Allocations: 6935)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 10:30:34 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Água"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:61:in `set_user'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `set_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (2.0ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mInventoryItem Delete All (0.6ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 1], ["item_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mTRANSACTION (6.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
Completed 200 OK in 54ms (Views: 0.6ms | ActiveRecord: 11.2ms | Allocations: 5605)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 10:30:43 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Água"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:61:in `set_user'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `set_inventory'
  [1m[36mItem Load (0.7ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (4.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventoryItem Create (1.1ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 13:30:43.513744"], ["updated_at", "2023-04-05 13:30:43.513744"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mTRANSACTION (6.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
Completed 200 OK in 42ms (Views: 0.8ms | ActiveRecord: 16.4ms | Allocations: 4954)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 10:30:50 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Água"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:61:in `set_user'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `set_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventoryItem Create (0.8ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 13:30:50.999508"], ["updated_at", "2023-04-05 13:30:50.999508"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mTRANSACTION (6.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
Completed 200 OK in 34ms (Views: 1.6ms | ActiveRecord: 8.2ms | Allocations: 5037)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 10:30:57 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Água"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:61:in `set_user'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `set_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.7ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventoryItem Create (0.5ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 13:30:57.126089"], ["updated_at", "2023-04-05 13:30:57.126089"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mTRANSACTION (10.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
Completed 200 OK in 36ms (Views: 3.2ms | ActiveRecord: 12.9ms | Allocations: 5126)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 10:31:16 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Medicamentos", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Medicamentos"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:61:in `set_user'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `set_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (3.2ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mInventoryItem Delete All (0.4ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 1], ["item_id", 3]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
Completed 200 OK in 43ms (Views: 0.8ms | ActiveRecord: 8.8ms | Allocations: 5754)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 10:31:26 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Água"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:61:in `set_user'
  [1m[36mInventory Load (0.9ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `set_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mInventoryItem Delete All (0.6ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 1], ["item_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mInventoryItem Create (0.7ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 13:31:26.135213"], ["updated_at", "2023-04-05 13:31:26.135213"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mInventoryItem Create (0.9ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 13:31:26.140398"], ["updated_at", "2023-04-05 13:31:26.140398"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mTRANSACTION (7.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
Completed 200 OK in 44ms (Views: 0.9ms | ActiveRecord: 11.6ms | Allocations: 8111)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 10:46:35 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Munição", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Munição"}}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:61:in `set_user'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `set_inventory'
  [1m[36mItem Load (1.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.8ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventoryItem Create (1.0ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 4], ["created_at", "2023-04-05 13:46:35.462620"], ["updated_at", "2023-04-05 13:46:35.462620"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mTRANSACTION (6.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
Completed 200 OK in 51ms (Views: 0.9ms | ActiveRecord: 22.5ms | Allocations: 7958)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 10:46:47 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Água"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:61:in `set_user'
  [1m[36mInventory Load (1.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `set_inventory'
  [1m[36mItem Load (0.9ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.9ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mInventoryItem Delete All (0.5ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 1], ["item_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mInventoryItem Create (4.7ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 13:46:47.232016"], ["updated_at", "2023-04-05 13:46:47.232016"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mTRANSACTION (6.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
Completed 200 OK in 48ms (Views: 0.4ms | ActiveRecord: 16.1ms | Allocations: 6931)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 10:47:05 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Medicamentos", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Medicamentos"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:61:in `set_user'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `set_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventoryItem Create (0.6ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 3], ["created_at", "2023-04-05 13:47:05.667585"], ["updated_at", "2023-04-05 13:47:05.667585"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mTRANSACTION (6.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
Completed 200 OK in 23ms (Views: 1.0ms | ActiveRecord: 8.4ms | Allocations: 5037)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 10:47:23 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Medicamentos", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Medicamentos"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:61:in `set_user'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `set_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventoryItem Create (6.0ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 3], ["created_at", "2023-04-05 13:47:23.099832"], ["updated_at", "2023-04-05 13:47:23.099832"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
Completed 200 OK in 28ms (Views: 1.0ms | ActiveRecord: 8.9ms | Allocations: 5122)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 10:47:46 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Comida", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Comida"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:61:in `set_user'
  [1m[36mInventory Load (0.8ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `set_inventory'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Comida"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.6ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventoryItem Create (1.6ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 2], ["created_at", "2023-04-05 13:47:46.183682"], ["updated_at", "2023-04-05 13:47:46.183682"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mTRANSACTION (6.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
Completed 200 OK in 43ms (Views: 1.2ms | ActiveRecord: 10.4ms | Allocations: 5210)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 10:48:24 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Comida", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Comida"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:61:in `set_user'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `set_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Comida"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.6ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mInventoryItem Delete All (0.4ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 1], ["item_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mInventoryItem Create (1.5ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 2], ["created_at", "2023-04-05 13:48:24.154939"], ["updated_at", "2023-04-05 13:48:24.154939"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mTRANSACTION (6.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
Completed 200 OK in 41ms (Views: 4.5ms | ActiveRecord: 10.1ms | Allocations: 7083)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 10:48:43 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Medicamentos", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Medicamentos"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:61:in `set_user'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `set_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (4.2ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mInventoryItem Delete All (0.4ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 1], ["item_id", 3]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mInventoryItem Create (6.2ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 3], ["created_at", "2023-04-05 13:48:43.629905"], ["updated_at", "2023-04-05 13:48:43.629905"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mTRANSACTION (5.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
Completed 200 OK in 53ms (Views: 0.9ms | ActiveRecord: 20.0ms | Allocations: 7014)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 10:49:02 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Munição", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Munição"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:61:in `set_user'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `set_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mInventoryItem Delete All (0.5ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 1], ["item_id", 4]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mTRANSACTION (6.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
Completed 200 OK in 26ms (Views: 0.8ms | ActiveRecord: 8.5ms | Allocations: 5690)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 10:49:15 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Medicamentos", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Medicamentos"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:61:in `set_user'
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `set_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mInventoryItem Delete All (0.5ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 1], ["item_id", 3]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mTRANSACTION (6.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
Completed 200 OK in 29ms (Views: 1.0ms | ActiveRecord: 8.2ms | Allocations: 5605)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 10:49:23 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Água"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:61:in `set_user'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `set_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mInventoryItem Delete All (6.1ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 1], ["item_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mTRANSACTION (6.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
Completed 200 OK in 40ms (Views: 0.6ms | ActiveRecord: 14.7ms | Allocations: 5522)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 10:49:32 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Comida", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Comida"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:61:in `set_user'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `set_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Comida"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mInventoryItem Delete All (0.4ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 1], ["item_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mUser Load (4.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mTRANSACTION (6.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
Completed 200 OK in 41ms (Views: 0.2ms | ActiveRecord: 14.5ms | Allocations: 5437)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 10:49:45 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Água"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:61:in `set_user'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `set_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventoryItem Create (0.4ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 13:49:45.435475"], ["updated_at", "2023-04-05 13:49:45.435475"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mTRANSACTION (5.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
Completed 200 OK in 33ms (Views: 0.3ms | ActiveRecord: 7.6ms | Allocations: 4792)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 10:49:47 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Água"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:61:in `set_user'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `set_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventoryItem Create (0.6ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 13:49:47.477053"], ["updated_at", "2023-04-05 13:49:47.477053"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mTRANSACTION (6.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
Completed 200 OK in 33ms (Views: 0.7ms | ActiveRecord: 8.2ms | Allocations: 4869)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 10:49:51 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Água"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:61:in `set_user'
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `set_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventoryItem Create (0.6ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 13:49:51.872771"], ["updated_at", "2023-04-05 13:49:51.872771"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mTRANSACTION (6.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
Completed 200 OK in 28ms (Views: 1.0ms | ActiveRecord: 11.5ms | Allocations: 4954)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 10:50:01 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Água"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:61:in `set_user'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `set_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (5.2ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mInventoryItem Delete All (1.0ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 1], ["item_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mInventoryItem Create (0.6ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 13:50:01.651504"], ["updated_at", "2023-04-05 13:50:01.651504"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mInventoryItem Create (0.6ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 13:50:01.658800"], ["updated_at", "2023-04-05 13:50:01.658800"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mTRANSACTION (6.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
Completed 200 OK in 53ms (Views: 0.6ms | ActiveRecord: 15.1ms | Allocations: 8023)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 10:51:22 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Água"}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:61:in `set_user'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `set_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mInventoryItem Delete All (0.8ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 1], ["item_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mInventoryItem Create (0.6ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 13:51:23.125662"], ["updated_at", "2023-04-05 13:51:23.125662"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
Completed 200 OK in 113ms (Views: 0.8ms | ActiveRecord: 25.4ms | Allocations: 19578)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 10:51:32 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Água"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:61:in `set_user'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `set_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mInventoryItem Delete All (0.6ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 1], ["item_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mTRANSACTION (6.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
Completed 200 OK in 32ms (Views: 0.3ms | ActiveRecord: 9.2ms | Allocations: 5441)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 10:51:39 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Água"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:61:in `set_user'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `set_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventoryItem Create (6.0ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 13:51:39.764209"], ["updated_at", "2023-04-05 13:51:39.764209"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
Completed 200 OK in 23ms (Views: 0.4ms | ActiveRecord: 8.9ms | Allocations: 4800)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 10:51:42 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Água"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:61:in `set_user'
  [1m[36mInventory Load (3.9ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `set_inventory'
  [1m[36mItem Load (4.9ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.6ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventoryItem Create (0.6ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 13:51:42.070190"], ["updated_at", "2023-04-05 13:51:42.070190"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mTRANSACTION (8.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
Completed 200 OK in 50ms (Views: 1.0ms | ActiveRecord: 19.1ms | Allocations: 4869)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 10:51:45 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Água"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:61:in `set_user'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `set_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (4.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventoryItem Create (1.4ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 13:51:45.600798"], ["updated_at", "2023-04-05 13:51:45.600798"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mTRANSACTION (7.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
Completed 200 OK in 40ms (Views: 1.8ms | ActiveRecord: 13.5ms | Allocations: 4954)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 10:51:53 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Água"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:61:in `set_user'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `set_inventory'
  [1m[36mItem Load (2.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mInventoryItem Delete All (0.7ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 1], ["item_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mInventoryItem Create (0.8ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 13:51:53.885270"], ["updated_at", "2023-04-05 13:51:53.885270"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mInventoryItem Create (0.6ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 13:51:53.893669"], ["updated_at", "2023-04-05 13:51:53.893669"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mTRANSACTION (6.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
Completed 200 OK in 58ms (Views: 0.3ms | ActiveRecord: 14.0ms | Allocations: 8016)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 10:52:26 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Medicamentos", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Medicamentos"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:61:in `set_user'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `set_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventoryItem Create (0.8ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 3], ["created_at", "2023-04-05 13:52:26.801751"], ["updated_at", "2023-04-05 13:52:26.801751"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mTRANSACTION (6.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
Completed 200 OK in 37ms (Views: 1.1ms | ActiveRecord: 8.3ms | Allocations: 4953)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 10:53:48 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Água"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:61:in `set_user'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `set_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventoryItem Create (0.5ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 13:53:48.681211"], ["updated_at", "2023-04-05 13:53:48.681211"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mTRANSACTION (6.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
Completed 200 OK in 103ms (Views: 1.7ms | ActiveRecord: 7.9ms | Allocations: 5039)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 10:55:10 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Munição", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Munição"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:62:in `set_user'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:66:in `set_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventoryItem Create (1.0ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 4], ["created_at", "2023-04-05 13:55:11.090527"], ["updated_at", "2023-04-05 13:55:11.090527"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
Completed 200 OK in 52ms (Views: 0.5ms | ActiveRecord: 13.8ms | Allocations: 17102)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 10:55:34 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Água"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:62:in `set_user'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:66:in `set_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (9.2ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mInventoryItem Delete All (0.4ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" IN ($2, $3, $4)[0m  [["inventory_id", 1], ["item_id", 1], ["item_id", 1], ["item_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
Completed 200 OK in 266975ms (Views: 0.5ms | ActiveRecord: 12.1ms | Allocations: 41847)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 11:00:11 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Água"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:62:in `set_user'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:66:in `set_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (1.2ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventoryItem Create (0.6ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 14:00:11.409075"], ["updated_at", "2023-04-05 14:00:11.409075"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
Completed 200 OK in 75ms (Views: 1.6ms | ActiveRecord: 18.4ms | Allocations: 16873)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 11:00:14 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Água"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:62:in `set_user'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:66:in `set_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventoryItem Create (2.7ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 14:00:14.612269"], ["updated_at", "2023-04-05 14:00:14.612269"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mTRANSACTION (5.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
Completed 200 OK in 41ms (Views: 0.7ms | ActiveRecord: 9.2ms | Allocations: 5040)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 11:00:32 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Água"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:62:in `set_user'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:66:in `set_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.8ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mInventoryItem Delete All (0.4ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 1], ["item_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mInventoryItem Create (0.7ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 14:00:32.211569"], ["updated_at", "2023-04-05 14:00:32.211569"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mTRANSACTION (15.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
Completed 200 OK in 124ms (Views: 1.1ms | ActiveRecord: 34.7ms | Allocations: 19555)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 11:00:36 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Água"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:62:in `set_user'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:66:in `set_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mInventoryItem Delete All (0.6ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 1], ["item_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mTRANSACTION (7.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
Completed 200 OK in 37ms (Views: 1.0ms | ActiveRecord: 10.1ms | Allocations: 5607)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 11:00:43 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Água"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:62:in `set_user'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:66:in `set_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventoryItem Create (0.6ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 14:00:43.085268"], ["updated_at", "2023-04-05 14:00:43.085268"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mTRANSACTION (6.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
Completed 200 OK in 26ms (Views: 0.8ms | ActiveRecord: 8.6ms | Allocations: 4955)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 11:00:45 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Água"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:62:in `set_user'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:66:in `set_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (1.5ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventoryItem Create (0.5ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 14:00:45.079147"], ["updated_at", "2023-04-05 14:00:45.079147"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mTRANSACTION (6.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
Completed 200 OK in 38ms (Views: 1.2ms | ActiveRecord: 9.7ms | Allocations: 5039)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 11:00:46 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Água"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:62:in `set_user'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:66:in `set_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventoryItem Create (0.5ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 14:00:46.847744"], ["updated_at", "2023-04-05 14:00:46.847744"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mTRANSACTION (7.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
Completed 200 OK in 28ms (Views: 1.0ms | ActiveRecord: 9.4ms | Allocations: 5125)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 11:00:58 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Água"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:62:in `set_user'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:66:in `set_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.8ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mInventoryItem Delete All (0.5ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 1], ["item_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mInventoryItem Create (0.5ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 14:00:58.660375"], ["updated_at", "2023-04-05 14:00:58.660375"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mInventoryItem Create (1.8ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 14:00:58.664503"], ["updated_at", "2023-04-05 14:00:58.664503"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mTRANSACTION (6.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
Completed 200 OK in 46ms (Views: 2.8ms | ActiveRecord: 11.9ms | Allocations: 8188)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 11:01:14 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Água"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:62:in `set_user'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:66:in `set_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mInventoryItem Delete All (0.4ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 1], ["item_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mInventoryItem Create (0.6ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 14:01:14.252047"], ["updated_at", "2023-04-05 14:01:14.252047"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mTRANSACTION (6.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
Completed 200 OK in 33ms (Views: 0.9ms | ActiveRecord: 9.1ms | Allocations: 6931)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 11:01:25 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Água"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:62:in `set_user'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:66:in `set_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mInventoryItem Delete All (0.5ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 1], ["item_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mTRANSACTION (7.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
Completed 200 OK in 30ms (Views: 0.8ms | ActiveRecord: 9.5ms | Allocations: 5606)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 11:01:34 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Água"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:62:in `set_user'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:66:in `set_inventory'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.8ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventoryItem Create (0.5ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 14:01:34.672343"], ["updated_at", "2023-04-05 14:01:34.672343"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mTRANSACTION (6.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
Completed 200 OK in 48ms (Views: 1.0ms | ActiveRecord: 8.6ms | Allocations: 4953)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 11:01:35 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Água"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:62:in `set_user'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:66:in `set_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (3.5ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventoryItem Create (0.6ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 14:01:35.861558"], ["updated_at", "2023-04-05 14:01:35.861558"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mTRANSACTION (6.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
Completed 200 OK in 46ms (Views: 2.1ms | ActiveRecord: 11.9ms | Allocations: 5037)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 11:01:36 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Água"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:62:in `set_user'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:66:in `set_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventoryItem Create (1.1ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 14:01:36.889870"], ["updated_at", "2023-04-05 14:01:36.889870"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mTRANSACTION (6.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
Completed 200 OK in 41ms (Views: 1.1ms | ActiveRecord: 8.9ms | Allocations: 5123)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 11:10:34 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Comida", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Comida"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:62:in `set_user'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:66:in `set_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Comida"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (1.0ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
Completed 200 OK in 63ms (Views: 1.3ms | ActiveRecord: 9.9ms | Allocations: 15425)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 11:10:57 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Comida", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Comida"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:62:in `set_user'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:66:in `set_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Comida"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
Completed 200 OK in 9ms (Views: 1.0ms | ActiveRecord: 1.5ms | Allocations: 2773)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 11:12:37 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Comida", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Comida"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:62:in `set_user'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:66:in `set_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Comida"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (1.5ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventoryItem Create (1.3ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 2], ["created_at", "2023-04-05 14:12:37.775838"], ["updated_at", "2023-04-05 14:12:37.775838"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
Completed 200 OK in 88ms (Views: 0.9ms | ActiveRecord: 24.1ms | Allocations: 17136)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 11:13:06 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Comida", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Comida"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:62:in `set_user'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:66:in `set_inventory'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Comida"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.7ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventoryItem Create (0.7ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 2], ["created_at", "2023-04-05 14:13:06.844177"], ["updated_at", "2023-04-05 14:13:06.844177"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
Completed 200 OK in 82ms (Views: 0.9ms | ActiveRecord: 18.4ms | Allocations: 17205)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 11:13:17 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Água"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:62:in `set_user'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:66:in `set_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mInventoryItem Delete All (1.8ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 1], ["item_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mInventoryItem Create (1.7ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 14:19:54.551896"], ["updated_at", "2023-04-05 14:19:54.551896"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mInventoryItem Create (1.9ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 14:19:54.620650"], ["updated_at", "2023-04-05 14:19:54.620650"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mTRANSACTION (7.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mItem Count (6.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ (byebug):1:in `update_inventory'
Completed 200 OK in 433475ms (Views: 1.0ms | ActiveRecord: 22.8ms | Allocations: 1777337)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 11:20:53 -0300
  
SyntaxError (/home/bsquintan/Projetos/zssn/app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36: Invalid next):
  
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36: Invalid next
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36: Invalid next
app/controllers/api/v1/first_zombie_apocalypses_controller.rb
Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 11:21:35 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Comida", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Comida"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:62:in `set_user'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:66:in `set_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Comida"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (1.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventoryItem Create (0.6ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 2], ["created_at", "2023-04-05 14:21:35.232755"], ["updated_at", "2023-04-05 14:21:35.232755"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
Completed 200 OK in 95ms (Views: 1.2ms | ActiveRecord: 30.7ms | Allocations: 17273)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 11:22:00 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Comida", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Comida"}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:62:in `set_user'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:66:in `set_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Comida"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mCACHE Inventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ (byebug):1:in `update_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1 /* loading for inspect */ LIMIT $2[0m  [["inventory_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mInventoryItem Delete All (2.9ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" IN ($2, $3)[0m  [["inventory_id", 1], ["item_id", 2], ["item_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mInventoryItem Create (7.1ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 2], ["created_at", "2023-04-05 14:23:23.072341"], ["updated_at", "2023-04-05 14:23:23.072341"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mTRANSACTION (8.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
Completed 200 OK in 99439ms (Views: 0.7ms | ActiveRecord: 40.1ms | Allocations: 1753820)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 11:42:27 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Comida", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Comida"}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:62:in `set_user'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:66:in `set_inventory'
  [1m[36mItem Load (0.8ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Comida"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.8ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mInventoryItem Delete All (0.9ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 1], ["item_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
Completed 200 OK in 20331ms (Views: 1.0ms | ActiveRecord: 20.0ms | Allocations: 39382)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 11:43:01 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Água"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:62:in `set_user'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:66:in `set_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mInventoryItem Delete All (0.4ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 1], ["item_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mInventoryItem Create (2.7ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 14:43:06.109131"], ["updated_at", "2023-04-05 14:43:06.109131"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
Completed 200 OK in 4835ms (Views: 1.4ms | ActiveRecord: 6.2ms | Allocations: 37614)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 11:43:27 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Água"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:62:in `set_user'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:66:in `set_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.7ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mInventoryItem Delete All (0.4ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 1], ["item_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
Completed 200 OK in 3507ms (Views: 0.7ms | ActiveRecord: 3.4ms | Allocations: 36280)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 11:43:44 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Medicamentos", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Medicamentos"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:62:in `set_user'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:66:in `set_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mInventoryItem Delete All (0.5ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 1], ["item_id", 3]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
Completed 200 OK in 4248ms (Views: 0.8ms | ActiveRecord: 3.4ms | Allocations: 36223)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 11:43:55 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Munição", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Munição"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:62:in `set_user'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:66:in `set_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.6ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mInventoryItem Delete All (0.4ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 1], ["item_id", 4]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
Completed 200 OK in 2676ms (Views: 0.3ms | ActiveRecord: 5.2ms | Allocations: 36114)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 11:44:10 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Água"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:62:in `set_user'
  [1m[36mInventory Load (1.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:66:in `set_inventory'
  [1m[36mItem Load (1.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (1.8ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventoryItem Create (0.8ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 14:44:10.491108"], ["updated_at", "2023-04-05 14:44:10.491108"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mTRANSACTION (6.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
Completed 200 OK in 41ms (Views: 0.4ms | ActiveRecord: 12.0ms | Allocations: 4799)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 11:44:17 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Medicamentos", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Medicamentos"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:62:in `set_user'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:66:in `set_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventoryItem Create (0.7ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 3], ["created_at", "2023-04-05 14:44:17.178430"], ["updated_at", "2023-04-05 14:44:17.178430"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
Completed 200 OK in 20ms (Views: 1.6ms | ActiveRecord: 3.3ms | Allocations: 4869)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 11:44:22 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Medicamentos", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Medicamentos"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:62:in `set_user'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:66:in `set_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (2.6ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventoryItem Create (0.5ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 3], ["created_at", "2023-04-05 14:44:22.640913"], ["updated_at", "2023-04-05 14:44:22.640913"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mTRANSACTION (6.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
Completed 200 OK in 35ms (Views: 0.6ms | ActiveRecord: 11.3ms | Allocations: 4953)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 11:44:27 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Água"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:62:in `set_user'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:66:in `set_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (4.3ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventoryItem Create (0.8ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 14:44:27.308325"], ["updated_at", "2023-04-05 14:44:27.308325"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mTRANSACTION (5.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
Completed 200 OK in 35ms (Views: 3.4ms | ActiveRecord: 12.8ms | Allocations: 5037)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 11:44:39 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Água"}}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:62:in `set_user'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:66:in `set_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mInventoryItem Delete All (0.5ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 1], ["item_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mInventoryItem Create (0.9ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 14:44:42.145724"], ["updated_at", "2023-04-05 14:44:42.145724"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
Completed 200 OK in 2521ms (Views: 0.7ms | ActiveRecord: 7.0ms | Allocations: 37577)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 11:44:54 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Comida", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Comida"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:62:in `set_user'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:66:in `set_inventory'
  [1m[36mItem Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Comida"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventoryItem Create (5.5ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 2], ["created_at", "2023-04-05 14:44:54.492533"], ["updated_at", "2023-04-05 14:44:54.492533"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
Completed 200 OK in 20ms (Views: 1.2ms | ActiveRecord: 8.3ms | Allocations: 5037)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 11:45:01 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Água"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:62:in `set_user'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:66:in `set_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventoryItem Create (0.6ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 14:45:01.915096"], ["updated_at", "2023-04-05 14:45:01.915096"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mTRANSACTION (9.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
Completed 200 OK in 63ms (Views: 1.1ms | ActiveRecord: 11.6ms | Allocations: 5127)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 11:45:07 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Munição", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Munição"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:62:in `set_user'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:66:in `set_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventoryItem Create (0.4ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 4], ["created_at", "2023-04-05 14:45:07.887416"], ["updated_at", "2023-04-05 14:45:07.887416"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mTRANSACTION (9.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
Completed 200 OK in 33ms (Views: 1.6ms | ActiveRecord: 10.9ms | Allocations: 5206)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 11:45:18 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Água"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:62:in `set_user'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:66:in `set_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventoryItem Create (0.7ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 14:45:18.411072"], ["updated_at", "2023-04-05 14:45:18.411072"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mTRANSACTION (6.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
Completed 200 OK in 30ms (Views: 1.3ms | ActiveRecord: 8.4ms | Allocations: 5291)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 11:45:30 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Água"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:62:in `set_user'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:66:in `set_inventory'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mInventoryItem Delete All (0.4ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 1], ["item_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mInventoryItem Create (0.5ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 14:45:31.878311"], ["updated_at", "2023-04-05 14:45:31.878311"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mInventoryItem Create (0.8ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 14:45:31.883236"], ["updated_at", "2023-04-05 14:45:31.883236"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
Completed 200 OK in 1670ms (Views: 0.8ms | ActiveRecord: 4.4ms | Allocations: 38971)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 11:45:57 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Medicamentos", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Medicamentos"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:62:in `set_user'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:66:in `set_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (2.5ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventoryItem Create (0.7ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 3], ["created_at", "2023-04-05 14:45:57.775777"], ["updated_at", "2023-04-05 14:45:57.775777"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mTRANSACTION (7.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
Completed 200 OK in 39ms (Views: 1.8ms | ActiveRecord: 12.1ms | Allocations: 5290)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 11:46:51 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Medicamentos", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Medicamentos"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:62:in `set_user'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:66:in `set_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mInventoryItem Delete All (0.4ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 1], ["item_id", 3]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mInventoryItem Create (1.0ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 3], ["created_at", "2023-04-05 14:46:53.591614"], ["updated_at", "2023-04-05 14:46:53.591614"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mInventoryItem Create (3.8ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 3], ["created_at", "2023-04-05 14:46:53.596221"], ["updated_at", "2023-04-05 14:46:53.596221"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mTRANSACTION (4.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
Completed 200 OK in 1883ms (Views: 1.0ms | ActiveRecord: 11.4ms | Allocations: 39014)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 11:47:12 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Comida", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Comida"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:62:in `set_user'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:66:in `set_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Comida"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (1.0ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mInventoryItem Delete All (0.6ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 1], ["item_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
Completed 200 OK in 2582ms (Views: 1.2ms | ActiveRecord: 3.8ms | Allocations: 36521)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 11:54:12 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Comida", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Comida"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:62:in `set_user'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:66:in `set_inventory'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Comida"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (1.8ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventoryItem Create (1.1ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 2], ["created_at", "2023-04-05 14:54:12.721702"], ["updated_at", "2023-04-05 14:54:12.721702"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mTRANSACTION (8.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
Completed 200 OK in 135ms (Views: 1.2ms | ActiveRecord: 20.4ms | Allocations: 19228)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 11:55:24 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Medicamentos", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Medicamentos"}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:63:in `set_user'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:67:in `set_inventory'
  [1m[36mItem Load (0.6ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.8ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventoryItem Create (1.7ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 3], ["created_at", "2023-04-05 14:55:24.751208"], ["updated_at", "2023-04-05 14:55:24.751208"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mTRANSACTION (6.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
Completed 200 OK in 120ms (Views: 1.3ms | ActiveRecord: 42.0ms | Allocations: 17195)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 11:55:32 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Comida", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Comida"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:63:in `set_user'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:67:in `set_inventory'
  [1m[36mItem Load (0.6ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Comida"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.6ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventoryItem Create (4.8ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 2], ["created_at", "2023-04-05 14:55:32.653927"], ["updated_at", "2023-04-05 14:55:32.653927"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mTRANSACTION (6.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
Completed 200 OK in 43ms (Views: 1.5ms | ActiveRecord: 13.3ms | Allocations: 5377)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 11:57:11 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Comida", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Comida"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:63:in `set_user'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:67:in `set_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Comida"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.7ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
  [1m[36mInventoryItem Delete All (4.6ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 1], ["item_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
  [1m[36mInventoryItem Create (12.9ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 2], ["created_at", "2023-04-05 14:59:21.899677"], ["updated_at", "2023-04-05 14:59:21.899677"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
  [1m[36mItem Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ (byebug):1:in `update_inventory'
Completed 200 OK in 2820808ms (Views: 1.1ms | ActiveRecord: 32.3ms | Allocations: 1447456)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 12:44:27 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Comida", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Comida"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:63:in `set_user'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:67:in `set_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Comida"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (2.0ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `sort_by'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventoryItem Create (0.6ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 2], ["created_at", "2023-04-05 15:44:27.687362"], ["updated_at", "2023-04-05 15:44:27.687362"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
Completed 500 Internal Server Error in 60ms (ActiveRecord: 18.9ms | Allocations: 16838)


  
NoMethodError (private method `attribute' called for #<Item id: 3, name: "Medicamentos", value: 2, created_at: "2023-03-30 16:49:12.940259000 +0000", updated_at: "2023-03-30 16:49:12.940259000 +0000">):
  
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:33:in `sort_by'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:33:in `update_inventory'
Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 12:44:41 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Comida", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Comida"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:63:in `set_user'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:67:in `set_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Comida"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `sort_by'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventoryItem Create (0.8ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 2], ["created_at", "2023-04-05 15:44:41.767445"], ["updated_at", "2023-04-05 15:44:41.767445"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
Completed 200 OK in 71ms (Views: 1.6ms | ActiveRecord: 18.9ms | Allocations: 17384)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 12:45:13 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Água"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:63:in `set_user'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:67:in `set_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `sort_by'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventoryItem Create (0.9ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 15:45:13.398658"], ["updated_at", "2023-04-05 15:45:13.398658"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mTRANSACTION (6.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
Completed 200 OK in 30ms (Views: 2.4ms | ActiveRecord: 8.7ms | Allocations: 5553)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 15:39:39 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Munição", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Munição"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:62:in `set_user'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:66:in `set_inventory'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.7ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `sort_by'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventoryItem Create (0.7ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 4], ["created_at", "2023-04-05 18:39:39.485093"], ["updated_at", "2023-04-05 18:39:39.485093"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
Completed 200 OK in 49ms (Views: 0.9ms | ActiveRecord: 8.6ms | Allocations: 19666)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 15:42:36 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Comida", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Comida"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:63:in `set_user'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:67:in `set_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Comida"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (2.0ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `sort_by'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
  [1m[36mInventoryItem Delete All (0.7ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 1], ["item_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
  [1m[36mInventoryItem Create (0.6ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 2], ["created_at", "2023-04-05 18:44:23.339714"], ["updated_at", "2023-04-05 18:44:23.339714"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
  [1m[36mInventoryItem Create (0.8ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 2], ["created_at", "2023-04-05 18:44:23.346478"], ["updated_at", "2023-04-05 18:44:23.346478"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
Completed 200 OK in 106825ms (Views: 1.9ms | ActiveRecord: 24.6ms | Allocations: 96904)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 15:45:57 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Água"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:63:in `set_user'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:67:in `set_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.7ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `sort_by'
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 15:55:06 -0300
  [1m[36mInventoryItem Delete All (1.8ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 1], ["item_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
  [1m[36mInventoryItem Create (0.6ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 18:55:06.350443"], ["updated_at", "2023-04-05 18:55:06.350443"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
  [1m[36mInventoryItem Create (0.8ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 18:55:06.354798"], ["updated_at", "2023-04-05 18:55:06.354798"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
Completed 200 OK in 548528ms (Views: 1.3ms | ActiveRecord: 25.2ms | Allocations: 99493)


Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Água"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:63:in `set_user'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:67:in `set_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.6ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
  [1m[36mInventoryItem Delete All (0.4ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 1], ["item_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
  [1m[36mInventoryItem Create (0.6ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 18:55:06.534931"], ["updated_at", "2023-04-05 18:55:06.534931"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
Completed 200 OK in 83ms (Views: 0.7ms | ActiveRecord: 19.2ms | Allocations: 19936)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 15:55:10 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Água"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:63:in `set_user'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:67:in `set_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
  [1m[36mInventoryItem Delete All (0.7ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 1], ["item_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
  [1m[36mTRANSACTION (6.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
Completed 200 OK in 30ms (Views: 0.6ms | ActiveRecord: 8.7ms | Allocations: 5967)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 15:55:13 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Água"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:63:in `set_user'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:67:in `set_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
Completed 200 OK in 9ms (Views: 1.1ms | ActiveRecord: 1.4ms | Allocations: 2946)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 15:55:22 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Munição", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Munição"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:63:in `set_user'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:67:in `set_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
  [1m[36mInventoryItem Delete All (0.8ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 1], ["item_id", 4]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
  [1m[36mInventoryItem Create (0.6ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 4], ["created_at", "2023-04-05 18:55:22.285347"], ["updated_at", "2023-04-05 18:55:22.285347"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
  [1m[36mTRANSACTION (7.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
Completed 200 OK in 50ms (Views: 1.3ms | ActiveRecord: 10.7ms | Allocations: 7146)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 15:55:27 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Munição", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Munição"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:63:in `set_user'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:67:in `set_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
  [1m[36mInventoryItem Delete All (0.7ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 1], ["item_id", 4]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
  [1m[36mTRANSACTION (6.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
Completed 200 OK in 33ms (Views: 1.3ms | ActiveRecord: 8.9ms | Allocations: 5823)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 15:55:38 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Medicamentos", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Medicamentos"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:63:in `set_user'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:67:in `set_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
  [1m[36mInventoryItem Delete All (6.3ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 1], ["item_id", 3]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
  [1m[36mInventoryItem Create (0.6ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 3], ["created_at", "2023-04-05 18:55:38.933145"], ["updated_at", "2023-04-05 18:55:38.933145"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
  [1m[36mInventoryItem Create (0.6ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 3], ["created_at", "2023-04-05 18:55:38.937071"], ["updated_at", "2023-04-05 18:55:38.937071"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
Completed 200 OK in 39ms (Views: 0.7ms | ActiveRecord: 10.3ms | Allocations: 8175)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 15:55:40 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Medicamentos", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Medicamentos"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:63:in `set_user'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:67:in `set_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
  [1m[36mInventoryItem Delete All (0.4ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 1], ["item_id", 3]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
  [1m[36mInventoryItem Create (1.3ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 3], ["created_at", "2023-04-05 18:55:40.391468"], ["updated_at", "2023-04-05 18:55:40.391468"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
  [1m[36mTRANSACTION (6.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
Completed 200 OK in 36ms (Views: 0.7ms | ActiveRecord: 10.1ms | Allocations: 6916)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 15:55:43 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Medicamentos", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Medicamentos"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:63:in `set_user'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:67:in `set_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
  [1m[36mInventoryItem Delete All (0.5ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 1], ["item_id", 3]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
Completed 200 OK in 21ms (Views: 0.7ms | ActiveRecord: 2.9ms | Allocations: 5591)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 15:55:49 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Comida", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Comida"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:63:in `set_user'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:67:in `set_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Comida"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
  [1m[36mInventoryItem Delete All (0.4ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 1], ["item_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
  [1m[36mInventoryItem Create (0.7ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 2], ["created_at", "2023-04-05 18:55:49.869835"], ["updated_at", "2023-04-05 18:55:49.869835"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
  [1m[36mTRANSACTION (7.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
Completed 200 OK in 30ms (Views: 0.5ms | ActiveRecord: 9.8ms | Allocations: 6769)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 15:55:51 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Comida", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Comida"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:63:in `set_user'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:67:in `set_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Comida"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
  [1m[36mInventoryItem Delete All (1.2ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 1], ["item_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
  [1m[36mTRANSACTION (13.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
Completed 200 OK in 47ms (Views: 0.3ms | ActiveRecord: 16.6ms | Allocations: 5447)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 15:56:04 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Comida", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Comida"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:63:in `set_user'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:67:in `set_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Comida"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventoryItem Create (0.4ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 2], ["created_at", "2023-04-05 18:56:04.796230"], ["updated_at", "2023-04-05 18:56:04.796230"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mTRANSACTION (6.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
Completed 200 OK in 21ms (Views: 1.1ms | ActiveRecord: 8.0ms | Allocations: 4801)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 15:56:07 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Comida", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Comida"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:63:in `set_user'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:67:in `set_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Comida"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (1.9ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventoryItem Create (1.0ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 2], ["created_at", "2023-04-05 18:56:07.651210"], ["updated_at", "2023-04-05 18:56:07.651210"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
Completed 200 OK in 29ms (Views: 0.4ms | ActiveRecord: 8.8ms | Allocations: 4877)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 15:56:14 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Água"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:63:in `set_user'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:67:in `set_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (5.3ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventoryItem Create (2.7ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 18:56:14.229744"], ["updated_at", "2023-04-05 18:56:14.229744"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mTRANSACTION (6.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
Completed 200 OK in 36ms (Views: 0.8ms | ActiveRecord: 17.2ms | Allocations: 4961)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 15:57:17 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Munição", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Munição"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:63:in `set_user'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:67:in `set_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
Completed 200 OK in 57ms (Views: 1.1ms | ActiveRecord: 16.6ms | Allocations: 13250)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 15:59:49 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Munição", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Munição"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:63:in `set_user'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:67:in `set_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
Completed 200 OK in 53ms (Views: 0.6ms | ActiveRecord: 12.4ms | Allocations: 13200)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 16:01:49 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Munição", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Munição"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:63:in `set_user'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:67:in `set_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventoryItem Create (1.1ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 4], ["created_at", "2023-04-05 19:01:50.016389"], ["updated_at", "2023-04-05 19:01:50.016389"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
Completed 200 OK in 76ms (Views: 0.9ms | ActiveRecord: 19.6ms | Allocations: 16926)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 16:03:30 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Água"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:63:in `set_user'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:67:in `set_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
  [1m[36mInventoryItem Delete All (0.5ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 1], ["item_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
  [1m[36mTRANSACTION (7.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
Completed 200 OK in 34ms (Views: 0.7ms | ActiveRecord: 10.5ms | Allocations: 6308)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 16:04:00 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Água"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:63:in `set_user'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:67:in `set_inventory'
  [1m[36mItem Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventoryItem Create (0.4ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 19:04:00.078186"], ["updated_at", "2023-04-05 19:04:00.078186"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mTRANSACTION (6.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
Completed 200 OK in 17ms (Views: 0.8ms | ActiveRecord: 7.4ms | Allocations: 5045)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 16:04:11 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Medicamentos", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Medicamentos"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:63:in `set_user'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:67:in `set_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventoryItem Create (0.5ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 3], ["created_at", "2023-04-05 19:04:11.556978"], ["updated_at", "2023-04-05 19:04:11.556978"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mTRANSACTION (6.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
Completed 200 OK in 33ms (Views: 1.1ms | ActiveRecord: 7.8ms | Allocations: 5132)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 16:04:35 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Comida", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Comida"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:63:in `set_user'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:67:in `set_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Comida"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventoryItem Create (1.4ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 2], ["created_at", "2023-04-05 19:04:35.353424"], ["updated_at", "2023-04-05 19:04:35.353424"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mTRANSACTION (6.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
Completed 200 OK in 29ms (Views: 1.3ms | ActiveRecord: 8.9ms | Allocations: 5217)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 16:05:31 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Comida", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Comida"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:63:in `set_user'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:67:in `set_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Comida"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventoryItem Create (0.5ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 2], ["created_at", "2023-04-05 19:05:31.686529"], ["updated_at", "2023-04-05 19:05:31.686529"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
Completed 200 OK in 80ms (Views: 2.2ms | ActiveRecord: 20.9ms | Allocations: 17268)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 16:10:20 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Comida", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Comida"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:63:in `set_user'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:67:in `set_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Comida"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.7ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
  [1m[36mInventoryItem Delete All (0.3ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 1], ["item_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
  [1m[36mInventoryItem Create (0.8ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 2], ["created_at", "2023-04-05 19:37:02.585010"], ["updated_at", "2023-04-05 19:37:02.585010"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
  [1m[36mInventoryItem Create (0.7ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 2], ["created_at", "2023-04-05 19:37:02.590169"], ["updated_at", "2023-04-05 19:37:02.590169"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
  [1m[36mInventoryItem Create (2.8ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 2], ["created_at", "2023-04-05 19:37:02.597338"], ["updated_at", "2023-04-05 19:37:02.597338"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
Completed 200 OK in 1601592ms (Views: 0.9ms | ActiveRecord: 20.3ms | Allocations: 60876)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 16:39:12 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Água"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:63:in `set_user'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:67:in `set_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (1.7ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
  [1m[36mInventoryItem Delete All (0.9ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 1], ["item_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
Completed 200 OK in 309896ms (Views: 0.7ms | ActiveRecord: 5.3ms | Allocations: 46137)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 16:44:43 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Água"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:63:in `set_user'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:67:in `set_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventoryItem Create (0.6ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 19:44:44.118054"], ["updated_at", "2023-04-05 19:44:44.118054"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
Completed 200 OK in 86ms (Views: 1.9ms | ActiveRecord: 17.3ms | Allocations: 17210)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 16:53:42 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Água"}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:61:in `set_user'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `set_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (1.0ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventoryItem Create (1.7ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 19:53:42.582880"], ["updated_at", "2023-04-05 19:53:42.582880"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
Completed 200 OK in 69ms (Views: 1.3ms | ActiveRecord: 12.7ms | Allocations: 19241)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 16:54:07 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Água", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Água"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:61:in `set_user'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `set_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.6ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mInventoryItem Delete All (0.6ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 1], ["item_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mInventoryItem Create (0.6ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 1], ["created_at", "2023-04-05 19:54:07.269852"], ["updated_at", "2023-04-05 19:54:07.269852"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
Completed 200 OK in 33ms (Views: 1.4ms | ActiveRecord: 6.6ms | Allocations: 7794)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 16:54:23 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Munição", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Munição"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:61:in `set_user'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `set_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.6ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mInventoryItem Delete All (0.4ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 1], ["item_id", 4]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mTRANSACTION (6.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
Completed 200 OK in 30ms (Views: 0.7ms | ActiveRecord: 8.8ms | Allocations: 5838)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 16:54:48 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Comida", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Comida"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:61:in `set_user'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `set_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Comida"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (1.0ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mInventoryItem Delete All (0.8ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 1], ["item_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mInventoryItem Create (0.8ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 2], ["created_at", "2023-04-05 19:54:48.937444"], ["updated_at", "2023-04-05 19:54:48.937444"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mInventoryItem Create (0.5ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 2], ["created_at", "2023-04-05 19:54:48.944853"], ["updated_at", "2023-04-05 19:54:48.944853"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mTRANSACTION (6.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
Completed 200 OK in 57ms (Views: 1.0ms | ActiveRecord: 11.4ms | Allocations: 8199)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 16:55:12 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Comida", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Comida"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:61:in `set_user'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `set_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Comida"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.6ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventoryItem Create (0.8ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 2], ["created_at", "2023-04-05 19:55:12.423279"], ["updated_at", "2023-04-05 19:55:12.423279"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mTRANSACTION (6.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
Completed 200 OK in 29ms (Views: 1.9ms | ActiveRecord: 8.8ms | Allocations: 5127)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 16:55:20 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Comida", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Comida"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:61:in `set_user'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `set_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Comida"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.6ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventoryItem Create (0.9ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 2], ["created_at", "2023-04-05 19:55:20.292736"], ["updated_at", "2023-04-05 19:55:20.292736"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mTRANSACTION (6.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
Completed 200 OK in 27ms (Views: 2.0ms | ActiveRecord: 8.4ms | Allocations: 5210)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 16:55:26 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Comida", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Comida"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:61:in `set_user'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `set_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Comida"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mInventoryItem Create (1.0ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 2], ["created_at", "2023-04-05 19:55:26.084086"], ["updated_at", "2023-04-05 19:55:26.084086"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
  [1m[36mTRANSACTION (5.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:32:in `update_inventory'
Completed 200 OK in 25ms (Views: 1.5ms | ActiveRecord: 8.2ms | Allocations: 5294)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 16:55:37 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Comida", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Comida"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:61:in `set_user'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `set_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Comida"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mInventoryItem Delete All (0.4ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 1], ["item_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mInventoryItem Create (1.0ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 2], ["created_at", "2023-04-05 19:55:37.423594"], ["updated_at", "2023-04-05 19:55:37.423594"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mInventoryItem Create (0.6ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 2], ["created_at", "2023-04-05 19:55:37.429633"], ["updated_at", "2023-04-05 19:55:37.429633"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mInventoryItem Create (0.6ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 2], ["created_at", "2023-04-05 19:55:37.433955"], ["updated_at", "2023-04-05 19:55:37.433955"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mInventoryItem Create (0.5ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 2], ["created_at", "2023-04-05 19:55:37.440465"], ["updated_at", "2023-04-05 19:55:37.440465"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
Completed 200 OK in 46ms (Views: 0.7ms | ActiveRecord: 6.1ms | Allocations: 10702)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 16:58:19 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"removedd", "item_name"=>"Comida", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"removedd", "item_name"=>"Comida"}}
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:61:in `set_user'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `set_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Comida"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
Completed 204 No Content in 61ms (ActiveRecord: 17.3ms | Allocations: 13005)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 17:00:55 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"removedd", "item_name"=>"Comida", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"removedd", "item_name"=>"Comida"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:63:in `set_user'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:67:in `set_inventory'
  [1m[36mItem Load (0.6ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Comida"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
Completed 200 OK in 53ms (Views: 0.5ms | ActiveRecord: 14.2ms | Allocations: 12953)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 17:02:33 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"adddeed", "item_name"=>"Comida", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"adddeed", "item_name"=>"Comida"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:63:in `set_user'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:67:in `set_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Comida"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
Completed 200 OK in 7ms (Views: 0.2ms | ActiveRecord: 0.9ms | Allocations: 2432)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 17:03:30 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"adddeed", "item_name"=>"Comida", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"adddeed", "item_name"=>"Comida"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:63:in `set_user'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:67:in `set_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Comida"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
Completed 200 OK in 59ms (Views: 0.3ms | ActiveRecord: 11.7ms | Allocations: 12985)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 17:03:45 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"adddeed", "item_name"=>"Comida", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"adddeed", "item_name"=>"Comida"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:63:in `set_user'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:67:in `set_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Comida"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
Completed 200 OK in 53ms (Views: 0.2ms | ActiveRecord: 11.8ms | Allocations: 12974)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 17:09:27 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Comida", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Comida"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:63:in `set_user'
  [1m[36mInventory Load (1.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:67:in `set_inventory'
  [1m[36mItem Load (0.8ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Comida"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (1.2ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mInventoryItem Delete All (5.5ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 1], ["item_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mInventoryItem Create (1.5ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 2], ["created_at", "2023-04-05 20:09:27.606890"], ["updated_at", "2023-04-05 20:09:27.606890"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mInventoryItem Create (0.5ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 2], ["created_at", "2023-04-05 20:09:27.615245"], ["updated_at", "2023-04-05 20:09:27.615245"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mInventoryItem Create (0.6ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 1], ["item_id", 2], ["created_at", "2023-04-05 20:09:27.619077"], ["updated_at", "2023-04-05 20:09:27.619077"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:36:in `update_inventory'
Completed 200 OK in 85ms (Views: 0.6ms | ActiveRecord: 28.8ms | Allocations: 14461)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 17:09:36 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Munição", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Munição"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:63:in `set_user'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:67:in `set_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
Completed 200 OK in 12ms (Views: 0.8ms | ActiveRecord: 1.2ms | Allocations: 2420)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 17:12:17 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Munição", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Munição"}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:63:in `set_user'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:67:in `set_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.8ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
Completed 200 OK in 55ms (Views: 0.2ms | ActiveRecord: 17.3ms | Allocations: 13161)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 17:15:35 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Munição", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Munição"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:63:in `set_user'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:67:in `set_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.6ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
Completed 500 Internal Server Error in 48ms (ActiveRecord: 12.2ms | Allocations: 12933)


  
NoMethodError (undefined method `respond_to_json' for #<Api::V1::FirstZombieApocalypsesController:0x000000001099b0>):
  
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 17:16:01 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Munição", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Munição"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:63:in `set_user'
  [1m[36mInventory Load (1.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:67:in `set_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
Completed 500 Internal Server Error in 72ms (ActiveRecord: 17.1ms | Allocations: 13044)


  
NoMethodError (undefined method `respond_to' for #<Api::V1::FirstZombieApocalypsesController:0x0000000010dd58>):
  
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:38:in `update_inventory'
Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 17:16:20 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Munição", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Munição"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:63:in `set_user'
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:67:in `set_inventory'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (2.8ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
Completed 200 OK in 57ms (Views: 0.3ms | ActiveRecord: 17.1ms | Allocations: 13053)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 17:22:42 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Munição", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Munição"}}
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:62:in `set_user'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:66:in `set_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.8ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
Completed 400 Bad Request in 54ms (Views: 1.0ms | ActiveRecord: 9.3ms | Allocations: 15421)


Started PATCH "/api/v1/users/1/update_inventory" for ::1 at 2023-04-05 17:22:51 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Munição", "id"=>"1", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Munição"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:62:in `set_user'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:66:in `set_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:28:in `update_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:29:in `update_inventory'
Completed 400 Bad Request in 6ms (Views: 1.0ms | ActiveRecord: 1.0ms | Allocations: 2778)


  [1m[36mUser Load (4.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Destroy (0.8ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Destroy (0.4ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 4]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Destroy (0.7ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 5]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Destroy (0.4ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 6]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Destroy (8.6ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Destroy (0.6ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Destroy (0.5ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mInventoryItem Load (0.4ms)[0m  [1m[34mSELECT "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  [1m[36mInventoryItem Destroy (0.4ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."id" = $1[0m  [["id", 136]]
  [1m[36mInventoryItem Destroy (0.4ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."id" = $1[0m  [["id", 144]]
  [1m[36mInventoryItem Destroy (0.3ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."id" = $1[0m  [["id", 154]]
  [1m[36mInventoryItem Destroy (0.3ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."id" = $1[0m  [["id", 155]]
  [1m[36mInventoryItem Destroy (0.1ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."id" = $1[0m  [["id", 156]]
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 1]]
  [1m[36mInventory Destroy (0.5ms)[0m  [1m[31mDELETE FROM "inventories" WHERE "inventories"."id" = $1[0m  [["id", 1]]
  [1m[36mUser Destroy (0.3ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[36mUser Destroy (0.3ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  [1m[36mTRANSACTION (5.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories"[0m
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items"[0m
Started POST "/api/v1/users/register" for ::1 at 2023-04-05 17:55:09 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::FirstZombieApocalypsesController#register_user as */*
  Parameters: {"user"=>{"name"=>"Fred", "age"=>47, "gender"=>"Male", "infection"=>false, "last_location"=>"(1139,26)"}, "first_zombie_apocalypse"=>{"user"=>{"name"=>"Fred", "age"=>47, "gender"=>"Male", "infection"=>false, "last_location"=>"(1139,26)"}}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:8:in `register_user'
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "age", "gender", "last_location", "infection", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Fred"], ["age", 47], ["gender", "Male"], ["last_location", "(1139,26)"], ["infection", false], ["created_at", "2023-04-05 20:55:10.066512"], ["updated_at", "2023-04-05 20:55:10.066512"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:8:in `register_user'
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:8:in `register_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:10:in `register_user'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:10:in `register_user'
  [1m[36mInventory Create (0.8ms)[0m  [1m[32mINSERT INTO "inventories" ("user_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["user_id", 7], ["created_at", "2023-04-05 20:55:10.184439"], ["updated_at", "2023-04-05 20:55:10.184439"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:10:in `register_user'
  [1m[36mTRANSACTION (11.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:10:in `register_user'
Completed 201 Created in 172ms (Views: 2.8ms | ActiveRecord: 36.3ms | Allocations: 21859)


  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories"[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Started PATCH "/api/v1/users/perform_barter" for ::1 at 2023-04-05 20:21:28 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::FirstZombieApocalypsesController#perform_barter as */*
  Parameters: {"first_user"=>{"id"=>7, "items"=>[]}, "second_user"=>{"id"=>7, "items"=>[]}, "first_zombie_apocalypse"=>{"first_user"=>{"id"=>7, "items"=>[]}, "second_user"=>{"id"=>7, "items"=>[]}}}
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.0ms | Allocations: 2839)


  
NoMethodError (undefined method `infection?' for #<ActionController::Parameters {"id"=>7, "items"=>[]} permitted: false>):
  
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:57:in `perform_barter'
Started PATCH "/api/v1/users/perform_barter" for ::1 at 2023-04-05 20:24:59 -0300
Processing by Api::V1::FirstZombieApocalypsesController#perform_barter as */*
  Parameters: {"first_user"=>{"id"=>7, "items"=>[]}, "second_user"=>{"id"=>7, "items"=>[]}, "first_zombie_apocalypse"=>{"first_user"=>{"id"=>7, "items"=>[]}, "second_user"=>{"id"=>7, "items"=>[]}}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:57:in `perform_barter'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:58:in `perform_barter'
Completed 200 OK in 26ms (Views: 0.3ms | ActiveRecord: 4.8ms | Allocations: 8973)


Started POST "/api/v1/users/register" for ::1 at 2023-04-05 20:32:22 -0300
Processing by Api::V1::FirstZombieApocalypsesController#register_user as */*
  Parameters: {"user"=>{"name"=>"Yan", "age"=>35, "gender"=>"Male", "infection"=>false, "last_location"=>"(213,61)"}, "first_zombie_apocalypse"=>{"user"=>{"name"=>"Yan", "age"=>35, "gender"=>"Male", "infection"=>false, "last_location"=>"(213,61)"}}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:8:in `register_user'
  [1m[36mUser Create (1.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "age", "gender", "last_location", "infection", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Yan"], ["age", 35], ["gender", "Male"], ["last_location", "(213,61)"], ["infection", false], ["created_at", "2023-04-05 23:32:22.632943"], ["updated_at", "2023-04-05 23:32:22.632943"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:8:in `register_user'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:8:in `register_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:10:in `register_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:10:in `register_user'
  [1m[36mInventory Create (0.9ms)[0m  [1m[32mINSERT INTO "inventories" ("user_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["user_id", 8], ["created_at", "2023-04-05 23:32:22.689792"], ["updated_at", "2023-04-05 23:32:22.689792"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:10:in `register_user'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:10:in `register_user'
Completed 201 Created in 100ms (Views: 0.5ms | ActiveRecord: 15.0ms | Allocations: 17160)


Started POST "/api/v1/users/register" for ::1 at 2023-04-05 20:32:51 -0300
Processing by Api::V1::FirstZombieApocalypsesController#register_user as */*
  Parameters: {"user"=>{"name"=>"Bela", "age"=>22, "gender"=>"Female", "infection"=>false, "last_location"=>"(2,661)"}, "first_zombie_apocalypse"=>{"user"=>{"name"=>"Bela", "age"=>22, "gender"=>"Female", "infection"=>false, "last_location"=>"(2,661)"}}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:8:in `register_user'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "age", "gender", "last_location", "infection", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Bela"], ["age", 22], ["gender", "Female"], ["last_location", "(2,661)"], ["infection", false], ["created_at", "2023-04-05 23:32:51.642703"], ["updated_at", "2023-04-05 23:32:51.642703"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:8:in `register_user'
  [1m[36mTRANSACTION (5.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:8:in `register_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:10:in `register_user'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:10:in `register_user'
  [1m[36mInventory Create (1.2ms)[0m  [1m[32mINSERT INTO "inventories" ("user_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["user_id", 9], ["created_at", "2023-04-05 23:32:51.658771"], ["updated_at", "2023-04-05 23:32:51.658771"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:10:in `register_user'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:10:in `register_user'
Completed 201 Created in 22ms (Views: 0.5ms | ActiveRecord: 8.9ms | Allocations: 4870)


Started POST "/api/v1/users/register" for ::1 at 2023-04-05 20:33:21 -0300
Processing by Api::V1::FirstZombieApocalypsesController#register_user as */*
  Parameters: {"user"=>{"name"=>"Ana", "age"=>51, "gender"=>"Female", "infection"=>false, "last_location"=>"(42,115)"}, "first_zombie_apocalypse"=>{"user"=>{"name"=>"Ana", "age"=>51, "gender"=>"Female", "infection"=>false, "last_location"=>"(42,115)"}}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:8:in `register_user'
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "age", "gender", "last_location", "infection", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Ana"], ["age", 51], ["gender", "Female"], ["last_location", "(42,115)"], ["infection", false], ["created_at", "2023-04-05 23:33:21.770671"], ["updated_at", "2023-04-05 23:33:21.770671"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:8:in `register_user'
  [1m[36mTRANSACTION (5.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:8:in `register_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:10:in `register_user'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:10:in `register_user'
  [1m[36mInventory Create (1.3ms)[0m  [1m[32mINSERT INTO "inventories" ("user_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["user_id", 10], ["created_at", "2023-04-05 23:33:21.785956"], ["updated_at", "2023-04-05 23:33:21.785956"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:10:in `register_user'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:10:in `register_user'
Completed 201 Created in 21ms (Views: 0.3ms | ActiveRecord: 8.9ms | Allocations: 4882)


Started PATCH "/api/v1/users/7/update_inventory" for ::1 at 2023-04-05 20:33:51 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Munição", "id"=>"7", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Munição"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:76:in `set_user'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:80:in `set_inventory'
  [1m[36mItem Load (0.9ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:33:in `update_inventory'
  [1m[36mItem Load (1.0ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:34:in `update_inventory'
Completed 200 OK in 61ms (Views: 0.2ms | ActiveRecord: 8.0ms | Allocations: 10674)


Started PATCH "/api/v1/users/7/update_inventory" for ::1 at 2023-04-05 20:34:02 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Munição", "id"=>"7", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Munição"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:76:in `set_user'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:80:in `set_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:33:in `update_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:34:in `update_inventory'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mInventoryItem Create (6.0ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 2], ["item_id", 4], ["created_at", "2023-04-05 23:34:02.971320"], ["updated_at", "2023-04-05 23:34:02.971320"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
Completed 200 OK in 33ms (Views: 0.4ms | ActiveRecord: 14.4ms | Allocations: 7479)


Started PATCH "/api/v1/users/7/update_inventory" for ::1 at 2023-04-05 20:34:11 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Água", "id"=>"7", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Água"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:76:in `set_user'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:80:in `set_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:33:in `update_inventory'
  [1m[36mItem Load (3.2ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:34:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mInventoryItem Create (0.5ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 2], ["item_id", 1], ["created_at", "2023-04-05 23:34:11.476702"], ["updated_at", "2023-04-05 23:34:11.476702"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mTRANSACTION (6.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
Completed 200 OK in 35ms (Views: 0.7ms | ActiveRecord: 10.6ms | Allocations: 4875)


Started PATCH "/api/v1/users/7/update_inventory" for ::1 at 2023-04-05 20:34:13 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Água", "id"=>"7", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Água"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:76:in `set_user'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:80:in `set_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:33:in `update_inventory'
  [1m[36mItem Load (0.7ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:34:in `update_inventory'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mInventoryItem Create (1.2ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 2], ["item_id", 1], ["created_at", "2023-04-05 23:34:13.203616"], ["updated_at", "2023-04-05 23:34:13.203616"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mTRANSACTION (7.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
Completed 200 OK in 31ms (Views: 0.7ms | ActiveRecord: 10.6ms | Allocations: 4973)


Started PATCH "/api/v1/users/9/update_inventory" for ::1 at 2023-04-05 20:40:06 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Munição", "id"=>"9", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Munição"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:76:in `set_user'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:80:in `set_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:33:in `update_inventory'
  [1m[36mItem Load (1.1ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 4]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:34:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mInventoryItem Create (6.2ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 4], ["item_id", 4], ["created_at", "2023-04-05 23:40:06.304640"], ["updated_at", "2023-04-05 23:40:06.304640"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
Completed 200 OK in 43ms (Views: 0.5ms | ActiveRecord: 17.5ms | Allocations: 7685)


Started PATCH "/api/v1/users/9/update_inventory" for ::1 at 2023-04-05 20:40:07 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Munição", "id"=>"9", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Munição"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:76:in `set_user'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:80:in `set_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:33:in `update_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 4]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:34:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mInventoryItem Create (0.5ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 4], ["item_id", 4], ["created_at", "2023-04-05 23:40:07.781985"], ["updated_at", "2023-04-05 23:40:07.781985"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mTRANSACTION (6.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
Completed 200 OK in 20ms (Views: 0.4ms | ActiveRecord: 8.0ms | Allocations: 4873)


Started PATCH "/api/v1/users/9/update_inventory" for ::1 at 2023-04-05 20:40:18 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Medicamentos", "id"=>"9", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Medicamentos"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:76:in `set_user'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:80:in `set_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:33:in `update_inventory'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 4]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:34:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mInventoryItem Create (0.8ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 4], ["item_id", 3], ["created_at", "2023-04-05 23:40:18.358719"], ["updated_at", "2023-04-05 23:40:18.358719"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mTRANSACTION (6.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
Completed 200 OK in 29ms (Views: 1.1ms | ActiveRecord: 8.9ms | Allocations: 4957)


Started PATCH "/api/v1/users/9/update_inventory" for ::1 at 2023-04-05 20:40:35 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Comida", "id"=>"9", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Comida"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:76:in `set_user'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:80:in `set_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Comida"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:33:in `update_inventory'
  [1m[36mItem Load (0.9ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 4]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:34:in `update_inventory'
  [1m[36mTRANSACTION (5.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mInventoryItem Create (10.8ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 4], ["item_id", 2], ["created_at", "2023-04-05 23:40:35.175516"], ["updated_at", "2023-04-05 23:40:35.175516"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mTRANSACTION (5.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
Completed 200 OK in 51ms (Views: 0.6ms | ActiveRecord: 23.7ms | Allocations: 5042)


Started PATCH "/api/v1/users/perform_barter" for ::1 at 2023-04-05 21:23:22 -0300
  
SyntaxError (/home/bsquintan/Projetos/zssn/app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65: syntax error, unexpected `return', expecting `then' or ';' or '\n'
...ame(item)) < item.amount return 'invalid'
...                         ^~~~~~
/home/bsquintan/Projetos/zssn/app/controllers/api/v1/first_zombie_apocalypses_controller.rb:69: syntax error, unexpected `return', expecting `then' or ';' or '\n'
...ame(item)) < item.amount return 'invalid'
...                         ^~~~~~
/home/bsquintan/Projetos/zssn/app/controllers/api/v1/first_zombie_apocalypses_controller.rb:75: else without rescue is useless
    else
    ^~~~
/home/bsquintan/Projetos/zssn/app/controllers/api/v1/first_zombie_apocalypses_controller.rb:99: syntax error, unexpected end-of-input):
  
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65: syntax error, unexpected `return', expecting `then' or ';' or '\n'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:69: syntax error, unexpected `return', expecting `then' or ';' or '\n'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:75: else without rescue is useless
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:99: syntax error, unexpected end-of-input
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65: syntax error, unexpected `return', expecting `then' or ';' or '\n'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:69: syntax error, unexpected `return', expecting `then' or ';' or '\n'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:75: else without rescue is useless
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:99: syntax error, unexpected end-of-input
Started PATCH "/api/v1/users/perform_barter" for ::1 at 2023-04-05 21:34:54 -0300
Processing by Api::V1::FirstZombieApocalypsesController#perform_barter as */*
  Parameters: {"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>7, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}, "first_zombie_apocalypse"=>{"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>7, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}}}
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:57:in `perform_barter'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:58:in `perform_barter'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `block in perform_barter'
Completed 500 Internal Server Error in 46ms (ActiveRecord: 8.8ms | Allocations: 12971)


  
ActiveRecord::StatementInvalid (can't cast ActionController::Parameters):
  
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `block in perform_barter'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:64:in `each'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:64:in `perform_barter'
Started PATCH "/api/v1/users/perform_barter" for ::1 at 2023-04-05 21:36:04 -0300
Processing by Api::V1::FirstZombieApocalypsesController#perform_barter as */*
  Parameters: {"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>7, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}, "first_zombie_apocalypse"=>{"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>7, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:57:in `perform_barter'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:58:in `perform_barter'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `block in perform_barter'
Completed 500 Internal Server Error in 46ms (ActiveRecord: 12.4ms | Allocations: 10693)


  
ActiveRecord::StatementInvalid (can't cast ActionController::Parameters):
  
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `block in perform_barter'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:64:in `each'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:64:in `perform_barter'
Started PATCH "/api/v1/users/perform_barter" for ::1 at 2023-04-05 21:39:06 -0300
Processing by Api::V1::FirstZombieApocalypsesController#perform_barter as */*
  Parameters: {"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>7, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}, "first_zombie_apocalypse"=>{"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>7, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:57:in `perform_barter'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:58:in `perform_barter'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `block in perform_barter'
Completed 500 Internal Server Error in 38ms (ActiveRecord: 8.2ms | Allocations: 10663)


  
ActiveRecord::StatementInvalid (can't cast ActionController::Parameters):
  
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `block in perform_barter'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:64:in `each'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:64:in `perform_barter'
Started PATCH "/api/v1/users/perform_barter" for ::1 at 2023-04-05 21:39:32 -0300
Processing by Api::V1::FirstZombieApocalypsesController#perform_barter as */*
  Parameters: {"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>7, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}, "first_zombie_apocalypse"=>{"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>7, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:57:in `perform_barter'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:58:in `perform_barter'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ (byebug):1:in `block in perform_barter'
  [1m[36mItem Load (1.2ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1 /* loading for inspect */ LIMIT $2[0m  [["inventory_id", 2], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:66:in `block in perform_barter'
  [1m[36mItem Count (6.3ms)[0m  [1m[34mSELECT COUNT({"name"=>"Água", "amount"=>1}) FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ (byebug):1:in `block in perform_barter'
  [1m[36mItem Load (1.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ (byebug):1:in `block in perform_barter'
  [1m[36mItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(#<Item:0x00007f2cb2753358>) FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ (byebug):1:in `block in perform_barter'
  [1m[36mCACHE Item Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ (byebug):1:in `block in perform_barter'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ (byebug):1:in `block in perform_barter'
  [1m[36mItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(#<Item:0x00007f2cb2778400>) FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ (byebug):1:in `block in perform_barter'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ (byebug):1:in `block in perform_barter'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ (byebug):1:in `block in perform_barter'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ (byebug):1:in `block in perform_barter'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ (byebug):1:in `block in perform_barter'
Completed 500 Internal Server Error in 373803ms (ActiveRecord: 25.6ms | Allocations: 134762)


  
ActiveRecord::StatementInvalid (can't cast ActionController::Parameters):
  
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:66:in `block in perform_barter'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:64:in `each'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:64:in `perform_barter'
Started PATCH "/api/v1/users/perform_barter" for ::1 at 2023-04-05 21:46:14 -0300
Processing by Api::V1::FirstZombieApocalypsesController#perform_barter as */*
  Parameters: {"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>7, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}, "first_zombie_apocalypse"=>{"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>7, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:57:in `perform_barter'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:58:in `perform_barter'
  [1m[36mInventory Load (1.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:66:in `block in perform_barter'
  [1m[36mItem Load (1.0ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:66:in `block in perform_barter'
  [1m[36mItem Load (2.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:66:in `block in perform_barter'
Completed 500 Internal Server Error in 15786ms (ActiveRecord: 17.8ms | Allocations: 1829318)


  
NoMethodError (undefined method `amount' for #<ActionController::Parameters {"name"=>"Água", "amount"=>1} permitted: false>):
  
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:66:in `block in perform_barter'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:64:in `each'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:64:in `perform_barter'
Started PATCH "/api/v1/users/perform_barter" for ::1 at 2023-04-05 21:46:58 -0300
Processing by Api::V1::FirstZombieApocalypsesController#perform_barter as */*
  Parameters: {"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>7, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}, "first_zombie_apocalypse"=>{"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>7, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:57:in `perform_barter'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:58:in `perform_barter'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:66:in `block in perform_barter'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:66:in `block in perform_barter'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:66:in `block in perform_barter'
Completed 200 OK in 47ms (Views: 0.2ms | ActiveRecord: 11.6ms | Allocations: 14058)


Started PATCH "/api/v1/users/perform_barter" for ::1 at 2023-04-05 21:47:13 -0300
Processing by Api::V1::FirstZombieApocalypsesController#perform_barter as */*
  Parameters: {"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>7, "items"=>[{"name"=>"Munição", "amount"=>8}, {"name"=>"Medicamentos", "amount"=>1}]}, "first_zombie_apocalypse"=>{"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>7, "items"=>[{"name"=>"Munição", "amount"=>8}, {"name"=>"Medicamentos", "amount"=>1}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:57:in `perform_barter'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:58:in `perform_barter'
  [1m[36mInventory Load (3.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:66:in `block in perform_barter'
  [1m[36mItem Load (1.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:66:in `block in perform_barter'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:66:in `block in perform_barter'
Completed 200 OK in 42ms (Views: 0.2ms | ActiveRecord: 5.2ms | Allocations: 2983)


Started PATCH "/api/v1/users/perform_barter" for ::1 at 2023-04-05 21:47:30 -0300
Processing by Api::V1::FirstZombieApocalypsesController#perform_barter as */*
  Parameters: {"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>9}]}, "second_user"=>{"id"=>7, "items"=>[{"name"=>"Munição", "amount"=>8}, {"name"=>"Medicamentos", "amount"=>1}]}, "first_zombie_apocalypse"=>{"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>9}]}, "second_user"=>{"id"=>7, "items"=>[{"name"=>"Munição", "amount"=>8}, {"name"=>"Medicamentos", "amount"=>1}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:57:in `perform_barter'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:58:in `perform_barter'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:66:in `block in perform_barter'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:66:in `block in perform_barter'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:66:in `block in perform_barter'
Completed 200 OK in 11ms (Views: 0.2ms | ActiveRecord: 1.2ms | Allocations: 2980)


Started PATCH "/api/v1/users/perform_barter" for ::1 at 2023-04-05 21:48:06 -0300
Processing by Api::V1::FirstZombieApocalypsesController#perform_barter as */*
  Parameters: {"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>9}]}, "second_user"=>{"id"=>7, "items"=>[{"name"=>"Munição", "amount"=>8}, {"name"=>"Medicamentos", "amount"=>1}]}, "first_zombie_apocalypse"=>{"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>9}]}, "second_user"=>{"id"=>7, "items"=>[{"name"=>"Munição", "amount"=>8}, {"name"=>"Medicamentos", "amount"=>1}]}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:57:in `perform_barter'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:58:in `perform_barter'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `block in perform_barter'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `block in perform_barter'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `block in perform_barter'
Completed 500 Internal Server Error in 50ms (Views: 0.2ms | ActiveRecord: 11.6ms | Allocations: 14041)


  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:68:in `perform_barter'
Started PATCH "/api/v1/users/perform_barter" for ::1 at 2023-04-05 21:48:22 -0300
Processing by Api::V1::FirstZombieApocalypsesController#perform_barter as */*
  Parameters: {"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>9}]}, "second_user"=>{"id"=>7, "items"=>[{"name"=>"Munição", "amount"=>8}, {"name"=>"Medicamentos", "amount"=>1}]}, "first_zombie_apocalypse"=>{"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>9}]}, "second_user"=>{"id"=>7, "items"=>[{"name"=>"Munição", "amount"=>8}, {"name"=>"Medicamentos", "amount"=>1}]}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:57:in `perform_barter'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:58:in `perform_barter'
  [1m[36mInventory Load (2.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `block in perform_barter'
  [1m[36mItem Load (1.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `block in perform_barter'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `block in perform_barter'
Completed 200 OK in 67ms (Views: 0.3ms | ActiveRecord: 16.1ms | Allocations: 14008)


Started PATCH "/api/v1/users/perform_barter" for ::1 at 2023-04-05 21:49:20 -0300
Processing by Api::V1::FirstZombieApocalypsesController#perform_barter as */*
  Parameters: {"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>7, "items"=>[{"name"=>"Munição", "amount"=>8}, {"name"=>"Medicamentos", "amount"=>1}]}, "first_zombie_apocalypse"=>{"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>7, "items"=>[{"name"=>"Munição", "amount"=>8}, {"name"=>"Medicamentos", "amount"=>1}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:57:in `perform_barter'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:58:in `perform_barter'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `block in perform_barter'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `block in perform_barter'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `block in perform_barter'
Completed 204 No Content in 58ms (ActiveRecord: 12.4ms | Allocations: 13826)


Started PATCH "/api/v1/users/perform_barter" for ::1 at 2023-04-05 21:49:31 -0300
Processing by Api::V1::FirstZombieApocalypsesController#perform_barter as */*
  Parameters: {"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>7, "items"=>[{"name"=>"Munição", "amount"=>8}, {"name"=>"Medicamentos", "amount"=>1}]}, "first_zombie_apocalypse"=>{"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>7, "items"=>[{"name"=>"Munição", "amount"=>8}, {"name"=>"Medicamentos", "amount"=>1}]}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:57:in `perform_barter'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:58:in `perform_barter'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `block in perform_barter'
  [1m[36mItem Load (1.8ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `block in perform_barter'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `block in perform_barter'
Completed 204 No Content in 66ms (ActiveRecord: 17.9ms | Allocations: 13854)


Started PATCH "/api/v1/users/perform_barter" for ::1 at 2023-04-05 21:50:28 -0300
Processing by Api::V1::FirstZombieApocalypsesController#perform_barter as */*
  Parameters: {"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>7, "items"=>[{"name"=>"Munição", "amount"=>8}, {"name"=>"Medicamentos", "amount"=>1}]}, "first_zombie_apocalypse"=>{"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>7, "items"=>[{"name"=>"Munição", "amount"=>8}, {"name"=>"Medicamentos", "amount"=>1}]}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:57:in `perform_barter'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:58:in `perform_barter'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `block in perform_barter'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `block in perform_barter'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `block in perform_barter'
Completed 204 No Content in 12ms (ActiveRecord: 1.3ms | Allocations: 2923)


Started PATCH "/api/v1/users/perform_barter" for ::1 at 2023-04-05 21:50:54 -0300
Processing by Api::V1::FirstZombieApocalypsesController#perform_barter as */*
  Parameters: {"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>10}]}, "second_user"=>{"id"=>7, "items"=>[{"name"=>"Munição", "amount"=>8}, {"name"=>"Medicamentos", "amount"=>1}]}, "first_zombie_apocalypse"=>{"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>10}]}, "second_user"=>{"id"=>7, "items"=>[{"name"=>"Munição", "amount"=>8}, {"name"=>"Medicamentos", "amount"=>1}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:57:in `perform_barter'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:58:in `perform_barter'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `block in perform_barter'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `block in perform_barter'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `block in perform_barter'
Completed 200 OK in 6ms (Views: 0.4ms | ActiveRecord: 0.8ms | Allocations: 3011)


Started PATCH "/api/v1/users/perform_barter" for ::1 at 2023-04-05 21:51:55 -0300
Processing by Api::V1::FirstZombieApocalypsesController#perform_barter as */*
  Parameters: {"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>7, "items"=>[{"name"=>"Munição", "amount"=>34}, {"name"=>"Medicamentos", "amount"=>1}]}, "first_zombie_apocalypse"=>{"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>7, "items"=>[{"name"=>"Munição", "amount"=>34}, {"name"=>"Medicamentos", "amount"=>1}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:57:in `perform_barter'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:58:in `perform_barter'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `block in perform_barter'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `block in perform_barter'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `block in perform_barter'
Completed 204 No Content in 8ms (ActiveRecord: 1.1ms | Allocations: 2918)


Started PATCH "/api/v1/users/perform_barter" for ::1 at 2023-04-05 21:52:19 -0300
Processing by Api::V1::FirstZombieApocalypsesController#perform_barter as */*
  Parameters: {"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>7, "items"=>[{"name"=>"Munição", "amount"=>34}, {"name"=>"Medicamentos", "amount"=>1}]}, "first_zombie_apocalypse"=>{"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>7, "items"=>[{"name"=>"Munição", "amount"=>34}, {"name"=>"Medicamentos", "amount"=>1}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:57:in `perform_barter'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:58:in `perform_barter'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `block in perform_barter'
  [1m[36mItem Load (0.8ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `block in perform_barter'
  [1m[36mItem Load (0.7ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `block in perform_barter'
Completed 204 No Content in 58ms (ActiveRecord: 12.5ms | Allocations: 13817)


Started PATCH "/api/v1/users/perform_barter" for ::1 at 2023-04-05 21:52:41 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::FirstZombieApocalypsesController#perform_barter as */*
  Parameters: {"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>7, "items"=>[{"name"=>"Munição", "amount"=>34}, {"name"=>"Medicamentos", "amount"=>1}]}, "first_zombie_apocalypse"=>{"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>7, "items"=>[{"name"=>"Munição", "amount"=>34}, {"name"=>"Medicamentos", "amount"=>1}]}}}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:57:in `perform_barter'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:58:in `perform_barter'
  [1m[36mInventory Load (1.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `block in perform_barter'
  [1m[36mItem Load (0.7ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `block in perform_barter'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `block in perform_barter'
Completed 204 No Content in 129ms (ActiveRecord: 13.4ms | Allocations: 26091)


Started PATCH "/api/v1/users/perform_barter" for ::1 at 2023-04-05 21:53:13 -0300
Processing by Api::V1::FirstZombieApocalypsesController#perform_barter as */*
  Parameters: {"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>7, "items"=>[{"name"=>"Munição", "amount"=>34}, {"name"=>"Medicamentos", "amount"=>1}]}, "first_zombie_apocalypse"=>{"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>7, "items"=>[{"name"=>"Munição", "amount"=>34}, {"name"=>"Medicamentos", "amount"=>1}]}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:57:in `perform_barter'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:58:in `perform_barter'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `block in perform_barter'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `block in perform_barter'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:65:in `block in perform_barter'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:71:in `block in perform_barter'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:71:in `block in perform_barter'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:71:in `block in perform_barter'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:71:in `block in perform_barter'
Completed 500 Internal Server Error in 15228ms (Views: 0.3ms | ActiveRecord: 13.8ms | Allocations: 128694)


  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:71:in `block in perform_barter'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:69:in `each'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:69:in `perform_barter'
Started PATCH "/api/v1/users/perform_barter" for ::1 at 2023-04-05 22:29:02 -0300
  
SyntaxError (/home/bsquintan/Projetos/zssn/app/controllers/api/v1/first_zombie_apocalypses_controller.rb:80: syntax error, unexpected `return', expecting `then' or ';' or '\n'
...:name])) < item[:amount] return false
...                         ^~~~~~
/home/bsquintan/Projetos/zssn/app/controllers/api/v1/first_zombie_apocalypses_controller.rb:96: syntax error, unexpected end-of-input):
  
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:80: syntax error, unexpected `return', expecting `then' or ';' or '\n'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:96: syntax error, unexpected end-of-input
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:80: syntax error, unexpected `return', expecting `then' or ';' or '\n'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:96: syntax error, unexpected end-of-input
Started PATCH "/api/v1/users/perform_barter" for ::1 at 2023-04-05 22:31:25 -0300
Processing by Api::V1::FirstZombieApocalypsesController#perform_barter as */*
  Parameters: {"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>7, "items"=>[{"name"=>"Munição", "amount"=>34}, {"name"=>"Medicamentos", "amount"=>1}]}, "first_zombie_apocalypse"=>{"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>7, "items"=>[{"name"=>"Munição", "amount"=>34}, {"name"=>"Medicamentos", "amount"=>1}]}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:57:in `perform_barter'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:58:in `perform_barter'
Completed 500 Internal Server Error in 24ms (ActiveRecord: 5.5ms | Allocations: 7728)


  
NoMethodError (undefined method `validate_items' for #<Api::V1::FirstZombieApocalypsesController:0x00000000013e98>):
  
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:62:in `perform_barter'
Started PATCH "/api/v1/users/perform_barter" for ::1 at 2023-04-05 22:31:54 -0300
Processing by Api::V1::FirstZombieApocalypsesController#perform_barter as */*
  Parameters: {"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>7, "items"=>[{"name"=>"Munição", "amount"=>34}, {"name"=>"Medicamentos", "amount"=>1}]}, "first_zombie_apocalypse"=>{"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>7, "items"=>[{"name"=>"Munição", "amount"=>34}, {"name"=>"Medicamentos", "amount"=>1}]}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:57:in `perform_barter'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:58:in `perform_barter'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:80:in `block in validate_user_items'
  [1m[36mItem Load (0.8ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:80:in `block in validate_user_items'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:80:in `block in validate_user_items'
Completed 200 OK in 62ms (Views: 0.2ms | ActiveRecord: 15.7ms | Allocations: 14293)


Started PATCH "/api/v1/users/perform_barter" for ::1 at 2023-04-05 22:32:20 -0300
Processing by Api::V1::FirstZombieApocalypsesController#perform_barter as */*
  Parameters: {"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>7, "items"=>[{"name"=>"Munição", "amount"=>34}, {"name"=>"Medicamentos", "amount"=>1}]}, "first_zombie_apocalypse"=>{"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>7, "items"=>[{"name"=>"Munição", "amount"=>34}, {"name"=>"Medicamentos", "amount"=>1}]}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:57:in `perform_barter'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:58:in `perform_barter'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:80:in `block in validate_user_items'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:80:in `block in validate_user_items'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:80:in `block in validate_user_items'
Completed 200 OK in 61ms (Views: 0.2ms | ActiveRecord: 16.5ms | Allocations: 13907)


Started PATCH "/api/v1/users/perform_barter" for ::1 at 2023-04-05 22:32:44 -0300
Processing by Api::V1::FirstZombieApocalypsesController#perform_barter as */*
  Parameters: {"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>7, "items"=>[{"name"=>"Munição", "amount"=>34}, {"name"=>"Medicamentos", "amount"=>1}]}, "first_zombie_apocalypse"=>{"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>7, "items"=>[{"name"=>"Munição", "amount"=>34}, {"name"=>"Medicamentos", "amount"=>1}]}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:57:in `perform_barter'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:58:in `perform_barter'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:80:in `block in validate_user_items'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:80:in `block in validate_user_items'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:80:in `block in validate_user_items'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:80:in `block in validate_user_items'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:80:in `block in validate_user_items'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:80:in `block in validate_user_items'
Completed 200 OK in 61ms (Views: 0.3ms | ActiveRecord: 14.8ms | Allocations: 15793)


Started PATCH "/api/v1/users/perform_barter" for ::1 at 2023-04-05 22:49:31 -0300
Processing by Api::V1::FirstZombieApocalypsesController#perform_barter as */*
  Parameters: {"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>7, "items"=>[{"name"=>"Munição", "amount"=>34}, {"name"=>"Medicamentos", "amount"=>1}]}, "first_zombie_apocalypse"=>{"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>7, "items"=>[{"name"=>"Munição", "amount"=>34}, {"name"=>"Medicamentos", "amount"=>1}]}}}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:57:in `perform_barter'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:58:in `perform_barter'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:82:in `block in validate_user_items'
  [1m[36mItem Load (0.8ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:82:in `block in validate_user_items'
  [1m[36mItem Load (1.4ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:82:in `block in validate_user_items'
Completed 200 OK in 65ms (Views: 0.3ms | ActiveRecord: 11.9ms | Allocations: 15922)


Started PATCH "/api/v1/users/perform_barter" for ::1 at 2023-04-05 22:50:44 -0300
Processing by Api::V1::FirstZombieApocalypsesController#perform_barter as */*
  Parameters: {"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>7, "items"=>[{"name"=>"Munição", "amount"=>34}, {"name"=>"Medicamentos", "amount"=>1}]}, "first_zombie_apocalypse"=>{"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>7, "items"=>[{"name"=>"Munição", "amount"=>34}, {"name"=>"Medicamentos", "amount"=>1}]}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:57:in `perform_barter'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:58:in `perform_barter'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:82:in `block in validate_user_items'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:82:in `block in validate_user_items'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:82:in `block in validate_user_items'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:82:in `block in validate_user_items'
  [1m[36mCACHE Item Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:82:in `block in validate_user_items'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:82:in `block in validate_user_items'
Completed 200 OK in 70ms (Views: 0.2ms | ActiveRecord: 15.3ms | Allocations: 15781)


Started PATCH "/api/v1/users/perform_barter" for ::1 at 2023-04-06 11:37:33 -0300
Processing by Api::V1::FirstZombieApocalypsesController#perform_barter as */*
  Parameters: {"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>7, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}, "first_zombie_apocalypse"=>{"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>7, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:57:in `perform_barter'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:58:in `perform_barter'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mItem Load (0.8ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:88:in `block in validate_user_items'
  [1m[36mCACHE Inventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
Completed 200 OK in 134860ms (Views: 0.3ms | ActiveRecord: 9.3ms | Allocations: 55560)


Started PATCH "/api/v1/users/perform_barter" for ::1 at 2023-04-06 11:41:48 -0300
Processing by Api::V1::FirstZombieApocalypsesController#perform_barter as */*
  Parameters: {"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>7, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}, "first_zombie_apocalypse"=>{"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>7, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}}}
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:57:in `perform_barter'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:58:in `perform_barter'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mItem Load (0.6ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:88:in `block in validate_user_items'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
Completed 200 OK in 38077ms (Views: 0.3ms | ActiveRecord: 21.0ms | Allocations: 53295)


Started PATCH "/api/v1/users/perform_barter" for ::1 at 2023-04-06 11:59:21 -0300
  
SyntaxError (/home/bsquintan/Projetos/zssn/app/controllers/api/v1/first_zombie_apocalypses_controller.rb:100: syntax error, unexpected '='
    return false if sum_1 !== sum_2
                            ^
):
  
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:100: syntax error, unexpected '='
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:100: syntax error, unexpected '='
Started PATCH "/api/v1/users/perform_barter" for ::1 at 2023-04-06 11:59:53 -0300
Processing by Api::V1::FirstZombieApocalypsesController#perform_barter as */*
  Parameters: {"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>7, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}, "first_zombie_apocalypse"=>{"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>7, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:57:in `perform_barter'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:58:in `perform_barter'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:84:in `block in validate_user_items'
  [1m[36mItem Load (1.3ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:84:in `block in validate_user_items'
  [1m[36mItem Load (0.9ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:84:in `block in validate_user_items'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:84:in `block in validate_user_items'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:84:in `block in validate_user_items'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:84:in `block in validate_user_items'
Completed 200 OK in 71ms (Views: 0.3ms | ActiveRecord: 15.1ms | Allocations: 17831)


Started PATCH "/api/v1/users/perform_barter" for ::1 at 2023-04-06 12:00:38 -0300
Processing by Api::V1::FirstZombieApocalypsesController#perform_barter as */*
  Parameters: {"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>7, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}, "first_zombie_apocalypse"=>{"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>7, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:57:in `perform_barter'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:58:in `perform_barter'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mItem Load (1.1ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mCACHE Item Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
Completed 200 OK in 326065ms (Views: 0.3ms | ActiveRecord: 18.9ms | Allocations: 60053)


Started PATCH "/api/v1/users/perform_barter" for ::1 at 2023-04-06 12:06:09 -0300
Processing by Api::V1::FirstZombieApocalypsesController#perform_barter as */*
  Parameters: {"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>7, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}, "first_zombie_apocalypse"=>{"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>7, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:57:in `perform_barter'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:58:in `perform_barter'
  [1m[36mInventory Load (1.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:86:in `block in validate_user_items'
  [1m[36mItem Load (1.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:86:in `block in validate_user_items'
  [1m[36mItem Load (3.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:86:in `block in validate_user_items'
  [1m[36mCACHE Inventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:86:in `block in validate_user_items'
  [1m[36mCACHE Item Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:86:in `block in validate_user_items'
  [1m[36mItem Load (1.7ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:86:in `block in validate_user_items'
Completed 200 OK in 51186ms (Views: 2.5ms | ActiveRecord: 24.4ms | Allocations: 2294971)


Started PATCH "/api/v1/users/perform_barter" for ::1 at 2023-04-06 12:07:17 -0300
Processing by Api::V1::FirstZombieApocalypsesController#perform_barter as */*
  Parameters: {"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>7, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}, "first_zombie_apocalypse"=>{"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>7, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:57:in `perform_barter'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:58:in `perform_barter'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:86:in `block in validate_user_items'
  [1m[36mItem Load (0.6ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:86:in `block in validate_user_items'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:86:in `block in validate_user_items'
  [1m[36mCACHE Inventory Load (0.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:86:in `block in validate_user_items'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:86:in `block in validate_user_items'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:86:in `block in validate_user_items'
Completed 200 OK in 7305ms (Views: 0.4ms | ActiveRecord: 14.6ms | Allocations: 89177)


Started PATCH "/api/v1/users/perform_barter" for ::1 at 2023-04-06 12:10:20 -0300
Processing by Api::V1::FirstZombieApocalypsesController#perform_barter as */*
  Parameters: {"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>7, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}, "first_zombie_apocalypse"=>{"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>7, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:57:in `perform_barter'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:58:in `perform_barter'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mCACHE Item Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
Completed 200 OK in 66ms (Views: 0.3ms | ActiveRecord: 15.8ms | Allocations: 15822)


Started PATCH "/api/v1/users/perform_barter" for ::1 at 2023-04-06 12:18:50 -0300
Processing by Api::V1::FirstZombieApocalypsesController#perform_barter as */*
  Parameters: {"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>7, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}, "first_zombie_apocalypse"=>{"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>7, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:57:in `perform_barter'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:58:in `perform_barter'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mItem Load (2.8ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mCACHE Inventory Load (0.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
Completed 200 OK in 102ms (Views: 0.3ms | ActiveRecord: 13.6ms | Allocations: 17721)


Started PATCH "/api/v1/users/perform_barter" for ::1 at 2023-04-06 12:19:30 -0300
Processing by Api::V1::FirstZombieApocalypsesController#perform_barter as */*
  Parameters: {"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>9, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}, "first_zombie_apocalypse"=>{"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>9, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:57:in `perform_barter'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:58:in `perform_barter'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mItem Load (0.9ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mItem Load (0.6ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 4]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
Completed 200 OK in 35ms (Views: 0.2ms | ActiveRecord: 4.4ms | Allocations: 5522)


Started PATCH "/api/v1/users/perform_barter" for ::1 at 2023-04-06 12:19:38 -0300
Processing by Api::V1::FirstZombieApocalypsesController#perform_barter as */*
  Parameters: {"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>9, "items"=>[{"name"=>"Munição", "amount"=>5}, {"name"=>"Medicamentos", "amount"=>1}]}, "first_zombie_apocalypse"=>{"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>9, "items"=>[{"name"=>"Munição", "amount"=>5}, {"name"=>"Medicamentos", "amount"=>1}]}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:57:in `perform_barter'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:58:in `perform_barter'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mItem Load (0.7ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 4]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
Completed 200 OK in 23ms (Views: 0.2ms | ActiveRecord: 3.3ms | Allocations: 5030)


Started PATCH "/api/v1/users/perform_barter" for ::1 at 2023-04-06 12:20:19 -0300
  
SyntaxError (/home/bsquintan/Projetos/zssn/app/controllers/api/v1/first_zombie_apocalypses_controller.rb:117: syntax error, unexpected `end'):
  
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:117: syntax error, unexpected `end'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:117: syntax error, unexpected `end'
Started PATCH "/api/v1/users/perform_barter" for ::1 at 2023-04-06 12:20:33 -0300
Processing by Api::V1::FirstZombieApocalypsesController#perform_barter as */*
  Parameters: {"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>9, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}, "first_zombie_apocalypse"=>{"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>9, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}}}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:57:in `perform_barter'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:58:in `perform_barter'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mItem Load (0.6ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mInventory Load (0.8ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mItem Load (0.6ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 4]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
Completed 200 OK in 127ms (Views: 0.3ms | ActiveRecord: 26.8ms | Allocations: 16605)


Started PATCH "/api/v1/users/perform_barter" for ::1 at 2023-04-06 12:21:10 -0300
Processing by Api::V1::FirstZombieApocalypsesController#perform_barter as */*
  Parameters: {"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>9, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}, "first_zombie_apocalypse"=>{"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>9, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:57:in `perform_barter'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:58:in `perform_barter'
  [1m[36mInventory Load (1.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mItem Load (0.7ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 4]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:94:in `block in validate_barter'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:98:in `block in validate_barter'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:98:in `block in validate_barter'
Completed 200 OK in 88ms (Views: 0.2ms | ActiveRecord: 19.5ms | Allocations: 17721)


Started PATCH "/api/v1/users/perform_barter" for ::1 at 2023-04-06 12:23:37 -0300
Processing by Api::V1::FirstZombieApocalypsesController#perform_barter as */*
  Parameters: {"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>9, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}, "first_zombie_apocalypse"=>{"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>9, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:57:in `perform_barter'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:58:in `perform_barter'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 4]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:94:in `block in validate_barter'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:98:in `block in validate_barter'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:98:in `block in validate_barter'
Completed 200 OK in 116716ms (Views: 1.7ms | ActiveRecord: 17.7ms | Allocations: 92265)


Started PATCH "/api/v1/users/perform_barter" for ::1 at 2023-04-06 12:26:04 -0300
Processing by Api::V1::FirstZombieApocalypsesController#perform_barter as */*
  Parameters: {"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>9, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}, "first_zombie_apocalypse"=>{"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>9, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}}}
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:57:in `perform_barter'
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:58:in `perform_barter'
  [1m[36mInventory Load (2.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mItem Load (2.5ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mItem Load (1.5ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mInventory Load (9.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mItem Load (2.7ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 4]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mItem Load (1.7ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mItem Load (1.6ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mCACHE Item Load (1.9ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:94:in `block in validate_barter'
  [1m[36mCACHE Item Load (1.6ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:98:in `block in validate_barter'
  [1m[36mCACHE Item Load (1.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:98:in `block in validate_barter'
Completed 200 OK in 1422ms (Views: 8.7ms | ActiveRecord: 59.1ms | Allocations: 7306993)


Started PATCH "/api/v1/users/perform_barter" for ::1 at 2023-04-06 12:26:48 -0300
Processing by Api::V1::FirstZombieApocalypsesController#perform_barter as */*
  Parameters: {"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>9, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}, "first_zombie_apocalypse"=>{"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>9, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}}}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:57:in `perform_barter'
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:58:in `perform_barter'
  [1m[36mInventory Load (5.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mItem Load (1.9ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mItem Load (1.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mInventory Load (1.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mItem Load (3.3ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 4]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mItem Load (1.6ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mItem Load (3.1ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mCACHE Item Load (0.7ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:94:in `block in validate_barter'
  [1m[36mCACHE Item Load (1.1ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:98:in `block in validate_barter'
  [1m[36mCACHE Item Load (1.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:98:in `block in validate_barter'
Completed 200 OK in 1021791ms (Views: 0.2ms | ActiveRecord: 52.0ms | Allocations: 8688110)


Started PATCH "/api/v1/users/perform_barter" for ::1 at 2023-04-06 12:43:58 -0300
Processing by Api::V1::FirstZombieApocalypsesController#perform_barter as */*
  Parameters: {"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>9, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}, "first_zombie_apocalypse"=>{"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>9, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:57:in `perform_barter'
  [1m[36mUser Load (3.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:58:in `perform_barter'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mItem Load (0.8ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 4]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mItem Load (1.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:94:in `block in validate_barter'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:98:in `block in validate_barter'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:98:in `block in validate_barter'
Completed 200 OK in 791523ms (Views: 0.4ms | ActiveRecord: 21.8ms | Allocations: 54899)


Started PATCH "/api/v1/users/perform_barter" for ::1 at 2023-04-06 12:57:17 -0300
Processing by Api::V1::FirstZombieApocalypsesController#perform_barter as */*
  Parameters: {"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>9, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}, "first_zombie_apocalypse"=>{"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>9, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:57:in `perform_barter'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:58:in `perform_barter'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 4]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mItem Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:94:in `block in validate_barter'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:98:in `block in validate_barter'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:98:in `block in validate_barter'
Completed 200 OK in 78ms (Views: 0.4ms | ActiveRecord: 16.6ms | Allocations: 17746)


Started PATCH "/api/v1/users/perform_barter" for ::1 at 2023-04-06 12:57:35 -0300
Processing by Api::V1::FirstZombieApocalypsesController#perform_barter as */*
  Parameters: {"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>9, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}, "first_zombie_apocalypse"=>{"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>9, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:57:in `perform_barter'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:58:in `perform_barter'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 4]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:94:in `block in validate_barter'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:98:in `block in validate_barter'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:98:in `block in validate_barter'
Completed 200 OK in 55ms (Views: 0.2ms | ActiveRecord: 13.0ms | Allocations: 17710)


Started PATCH "/api/v1/users/perform_barter" for ::1 at 2023-04-06 12:59:26 -0300
Processing by Api::V1::FirstZombieApocalypsesController#perform_barter as */*
  Parameters: {"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>9, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}, "first_zombie_apocalypse"=>{"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>9, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:57:in `perform_barter'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:58:in `perform_barter'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mItem Load (3.8ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 4]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:95:in `block in validate_barter'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:99:in `block in validate_barter'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:99:in `block in validate_barter'
Completed 200 OK in 95ms (Views: 0.6ms | ActiveRecord: 21.2ms | Allocations: 17709)


Started PATCH "/api/v1/users/perform_barter" for ::1 at 2023-04-06 12:59:32 -0300
Processing by Api::V1::FirstZombieApocalypsesController#perform_barter as */*
  Parameters: {"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>9, "items"=>[{"name"=>"Munição", "amount"=>7}, {"name"=>"Medicamentos", "amount"=>1}]}, "first_zombie_apocalypse"=>{"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>9, "items"=>[{"name"=>"Munição", "amount"=>7}, {"name"=>"Medicamentos", "amount"=>1}]}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:57:in `perform_barter'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:58:in `perform_barter'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mItem Load (0.8ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mItem Load (0.6ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 4]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
Completed 200 OK in 30ms (Views: 0.4ms | ActiveRecord: 3.3ms | Allocations: 5032)


Started PATCH "/api/v1/users/perform_barter" for ::1 at 2023-04-06 12:59:38 -0300
Processing by Api::V1::FirstZombieApocalypsesController#perform_barter as */*
  Parameters: {"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>9, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}, "first_zombie_apocalypse"=>{"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>9, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:57:in `perform_barter'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:58:in `perform_barter'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mItem Load (0.8ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 4]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:85:in `block in validate_user_items'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:95:in `block in validate_barter'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:99:in `block in validate_barter'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:99:in `block in validate_barter'
Completed 200 OK in 38ms (Views: 0.2ms | ActiveRecord: 3.0ms | Allocations: 6773)


Started PATCH "/api/v1/users/perform_barter" for ::1 at 2023-04-06 13:51:48 -0300
Processing by Api::V1::FirstZombieApocalypsesController#perform_barter as */*
  Parameters: {"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>9, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}, "first_zombie_apocalypse"=>{"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>9, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:57:in `perform_barter'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:58:in `perform_barter'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:100:in `block in validate_user_items'
  [1m[36mItem Load (0.6ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:100:in `block in validate_user_items'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:100:in `block in validate_user_items'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:100:in `block in validate_user_items'
  [1m[36mItem Load (1.0ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 4]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:100:in `block in validate_user_items'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:100:in `block in validate_user_items'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:100:in `block in validate_user_items'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:109:in `block in validate_barter'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:113:in `block in validate_barter'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:113:in `block in validate_barter'
Completed 500 Internal Server Error in 66ms (ActiveRecord: 11.1ms | Allocations: 19805)


  
NoMethodError (undefined method `amount' for #<ActionController::Parameters {"name"=>"Água", "amount"=>1} permitted: false>):
  
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:67:in `block in perform_barter'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:66:in `each'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:66:in `perform_barter'
Started PATCH "/api/v1/users/perform_barter" for ::1 at 2023-04-06 13:52:24 -0300
Processing by Api::V1::FirstZombieApocalypsesController#perform_barter as */*
  Parameters: {"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>9, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}, "first_zombie_apocalypse"=>{"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>9, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:57:in `perform_barter'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:58:in `perform_barter'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:100:in `block in validate_user_items'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:100:in `block in validate_user_items'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:100:in `block in validate_user_items'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:100:in `block in validate_user_items'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 4]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:100:in `block in validate_user_items'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:100:in `block in validate_user_items'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:100:in `block in validate_user_items'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:109:in `block in validate_barter'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:113:in `block in validate_barter'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:113:in `block in validate_barter'
Completed 500 Internal Server Error in 68ms (ActiveRecord: 16.0ms | Allocations: 17759)


  
ArgumentError (wrong number of arguments (given 1, expected 0)):
  
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:31:in `update_inventory'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:68:in `block (2 levels) in perform_barter'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:67:in `times'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:67:in `block in perform_barter'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:66:in `each'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:66:in `perform_barter'
Started PATCH "/api/v1/users/perform_barter" for ::1 at 2023-04-06 17:46:48 -0300
Processing by Api::V1::FirstZombieApocalypsesController#perform_barter as */*
  Parameters: {"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>9, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}, "first_zombie_apocalypse"=>{"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>9, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}}}
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:58:in `perform_barter'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:60:in `perform_barter'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:62:in `perform_barter'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:64:in `perform_barter'
  [1m[36mItem Load (0.9ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:106:in `block in validate_user_items'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:106:in `block in validate_user_items'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 4]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:106:in `block in validate_user_items'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:106:in `block in validate_user_items'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:106:in `block in validate_user_items'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:115:in `block in validate_barter'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:119:in `block in validate_barter'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:119:in `block in validate_barter'
Completed 500 Internal Server Error in 69ms (ActiveRecord: 11.8ms | Allocations: 19805)


  
TypeError (no implicit conversion from nil to integer):
  
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:72:in `delete_at'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:72:in `block (2 levels) in perform_barter'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:71:in `times'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:71:in `block in perform_barter'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:70:in `each'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:70:in `perform_barter'
Started PATCH "/api/v1/users/perform_barter" for ::1 at 2023-04-06 17:47:15 -0300
Processing by Api::V1::FirstZombieApocalypsesController#perform_barter as */*
  Parameters: {"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>9, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}, "first_zombie_apocalypse"=>{"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>9, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:58:in `perform_barter'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:60:in `perform_barter'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:62:in `perform_barter'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:64:in `perform_barter'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:106:in `block in validate_user_items'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:106:in `block in validate_user_items'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 4]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:106:in `block in validate_user_items'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:106:in `block in validate_user_items'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:106:in `block in validate_user_items'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:115:in `block in validate_barter'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:119:in `block in validate_barter'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:119:in `block in validate_barter'
Completed 500 Internal Server Error in 76ms (ActiveRecord: 17.5ms | Allocations: 17813)


  
TypeError (no implicit conversion from nil to integer):
  
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:72:in `delete_at'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:72:in `block (2 levels) in perform_barter'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:71:in `times'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:71:in `block in perform_barter'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:70:in `each'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:70:in `perform_barter'
Started PATCH "/api/v1/users/perform_barter" for ::1 at 2023-04-06 17:48:11 -0300
Processing by Api::V1::FirstZombieApocalypsesController#perform_barter as */*
  Parameters: {"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>9, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}, "first_zombie_apocalypse"=>{"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>9, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:58:in `perform_barter'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:60:in `perform_barter'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:62:in `perform_barter'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:64:in `perform_barter'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:106:in `block in validate_user_items'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:106:in `block in validate_user_items'
  [1m[36mItem Load (0.6ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 4]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:106:in `block in validate_user_items'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:106:in `block in validate_user_items'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:106:in `block in validate_user_items'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:115:in `block in validate_barter'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:119:in `block in validate_barter'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:119:in `block in validate_barter'
Completed 500 Internal Server Error in 81ms (ActiveRecord: 13.4ms | Allocations: 17725)


  
TypeError (no implicit conversion from nil to integer):
  
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:72:in `delete_at'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:72:in `block (2 levels) in perform_barter'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:71:in `times'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:71:in `block in perform_barter'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:70:in `each'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:70:in `perform_barter'
Started PATCH "/api/v1/users/perform_barter" for ::1 at 2023-04-06 17:48:25 -0300
Processing by Api::V1::FirstZombieApocalypsesController#perform_barter as */*
  Parameters: {"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>9, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}, "first_zombie_apocalypse"=>{"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>9, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:58:in `perform_barter'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:60:in `perform_barter'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:62:in `perform_barter'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:64:in `perform_barter'
  [1m[36mItem Load (1.1ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:107:in `block in validate_user_items'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:107:in `block in validate_user_items'
  [1m[36mItem Load (0.8ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 4]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:107:in `block in validate_user_items'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:107:in `block in validate_user_items'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:107:in `block in validate_user_items'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:116:in `block in validate_barter'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:120:in `block in validate_barter'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:120:in `block in validate_barter'
Completed 500 Internal Server Error in 103404ms (ActiveRecord: 16.4ms | Allocations: 54975)


  
TypeError (no implicit conversion from nil to integer):
  
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:73:in `delete_at'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:73:in `block (2 levels) in perform_barter'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:71:in `times'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:71:in `block in perform_barter'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:70:in `each'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:70:in `perform_barter'
Started PATCH "/api/v1/users/perform_barter" for ::1 at 2023-04-06 17:50:19 -0300
Processing by Api::V1::FirstZombieApocalypsesController#perform_barter as */*
  Parameters: {"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>9, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}, "first_zombie_apocalypse"=>{"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>9, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:58:in `perform_barter'
  [1m[36mInventory Load (2.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:60:in `perform_barter'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:62:in `perform_barter'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:64:in `perform_barter'
  [1m[36mItem Load (0.6ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:107:in `block in validate_user_items'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:107:in `block in validate_user_items'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 4]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:107:in `block in validate_user_items'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:107:in `block in validate_user_items'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:107:in `block in validate_user_items'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:116:in `block in validate_barter'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:120:in `block in validate_barter'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:120:in `block in validate_barter'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:73:in `block (2 levels) in perform_barter'
Completed 500 Internal Server Error in 87ms (ActiveRecord: 19.1ms | Allocations: 18464)


  
TypeError (no implicit conversion from nil to integer):
  
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:73:in `delete_at'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:73:in `block (2 levels) in perform_barter'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:71:in `times'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:71:in `block in perform_barter'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:70:in `each'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:70:in `perform_barter'
Started PATCH "/api/v1/users/perform_barter" for ::1 at 2023-04-06 17:50:56 -0300
Processing by Api::V1::FirstZombieApocalypsesController#perform_barter as */*
  Parameters: {"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>9, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}, "first_zombie_apocalypse"=>{"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>9, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:58:in `perform_barter'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:60:in `perform_barter'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:62:in `perform_barter'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:64:in `perform_barter'
  [1m[36mItem Load (0.7ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:107:in `block in validate_user_items'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:107:in `block in validate_user_items'
  [1m[36mItem Load (0.8ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 4]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:107:in `block in validate_user_items'
  [1m[36mItem Load (0.8ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:107:in `block in validate_user_items'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:107:in `block in validate_user_items'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:116:in `block in validate_barter'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:120:in `block in validate_barter'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:120:in `block in validate_barter'
  [1m[36mItem Load (0.6ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ (byebug):1:in `block (2 levels) in perform_barter'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ (byebug):1:in `block (2 levels) in perform_barter'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ (byebug):1:in `block (2 levels) in perform_barter'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ (byebug):1:in `block (2 levels) in perform_barter'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ (byebug):1:in `block (2 levels) in perform_barter'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" ORDER BY "items"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ (byebug):1:in `block (2 levels) in perform_barter'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:73:in `block (2 levels) in perform_barter'
Completed 500 Internal Server Error in 279410ms (ActiveRecord: 18.0ms | Allocations: 84097)


  
TypeError (no implicit conversion from nil to integer):
  
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:73:in `delete_at'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:73:in `block (2 levels) in perform_barter'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:71:in `times'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:71:in `block in perform_barter'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:70:in `each'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:70:in `perform_barter'
Started PATCH "/api/v1/users/perform_barter" for ::1 at 2023-04-06 17:55:46 -0300
Processing by Api::V1::FirstZombieApocalypsesController#perform_barter as */*
  Parameters: {"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>9, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}, "first_zombie_apocalypse"=>{"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>9, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:58:in `perform_barter'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:60:in `perform_barter'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:62:in `perform_barter'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:64:in `perform_barter'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:106:in `block in validate_user_items'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:106:in `block in validate_user_items'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 4]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:106:in `block in validate_user_items'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:106:in `block in validate_user_items'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:106:in `block in validate_user_items'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:115:in `block in validate_barter'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:119:in `block in validate_barter'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:119:in `block in validate_barter'
Completed 500 Internal Server Error in 77ms (ActiveRecord: 14.9ms | Allocations: 17800)


  
NoMethodError (undefined method `[]' for nil:NilClass):
  
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:72:in `block (2 levels) in perform_barter'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:71:in `times'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:71:in `block in perform_barter'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:70:in `each'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:70:in `perform_barter'
Started PATCH "/api/v1/users/perform_barter" for ::1 at 2023-04-06 17:56:14 -0300
Processing by Api::V1::FirstZombieApocalypsesController#perform_barter as */*
  Parameters: {"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>9, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}, "first_zombie_apocalypse"=>{"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>9, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:58:in `perform_barter'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:60:in `perform_barter'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:62:in `perform_barter'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:64:in `perform_barter'
  [1m[36mItem Load (0.6ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:106:in `block in validate_user_items'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:106:in `block in validate_user_items'
  [1m[36mItem Load (0.6ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 4]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:106:in `block in validate_user_items'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:106:in `block in validate_user_items'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:106:in `block in validate_user_items'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:115:in `block in validate_barter'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:119:in `block in validate_barter'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:119:in `block in validate_barter'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:72:in `block (2 levels) in perform_barter'
Completed 500 Internal Server Error in 80ms (ActiveRecord: 17.3ms | Allocations: 18429)


  
ActiveModel::UnknownAttributeError (unknown attribute 'items' for Item.):
  
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:73:in `block (2 levels) in perform_barter'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:71:in `times'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:71:in `block in perform_barter'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:70:in `each'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:70:in `perform_barter'
Started PATCH "/api/v1/users/perform_barter" for ::1 at 2023-04-06 18:01:06 -0300
Processing by Api::V1::FirstZombieApocalypsesController#perform_barter as */*
  Parameters: {"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>9, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}, "first_zombie_apocalypse"=>{"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>9, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:58:in `perform_barter'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:60:in `perform_barter'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:62:in `perform_barter'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:64:in `perform_barter'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:106:in `block in validate_user_items'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:106:in `block in validate_user_items'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 4]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:106:in `block in validate_user_items'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:106:in `block in validate_user_items'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:106:in `block in validate_user_items'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:115:in `block in validate_barter'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:119:in `block in validate_barter'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:119:in `block in validate_barter'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:72:in `block (2 levels) in perform_barter'
Completed 500 Internal Server Error in 87ms (ActiveRecord: 18.7ms | Allocations: 19125)


  
NoMethodError (undefined method `items' for #<ActiveRecord::Associations::CollectionProxy [#<Item id: 4, name: "Munição", value: 1, created_at: "2023-03-30 16:49:12.945727000 +0000", updated_at: "2023-03-30 16:49:12.945727000 +0000">, #<Item id: 4, name: "Munição", value: 1, created_at: "2023-03-30 16:49:12.945727000 +0000", updated_at: "2023-03-30 16:49:12.945727000 +0000">, #<Item id: 3, name: "Medicamentos", value: 2, created_at: "2023-03-30 16:49:12.940259000 +0000", updated_at: "2023-03-30 16:49:12.940259000 +0000">, #<Item id: 2, name: "Comida", value: 3, created_at: "2023-03-30 16:49:12.886049000 +0000", updated_at: "2023-03-30 16:49:12.886049000 +0000">]>):
  
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:74:in `block (2 levels) in perform_barter'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:71:in `times'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:71:in `block in perform_barter'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:70:in `each'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:70:in `perform_barter'
Started PATCH "/api/v1/users/perform_barter" for ::1 at 2023-04-06 18:02:01 -0300
Processing by Api::V1::FirstZombieApocalypsesController#perform_barter as */*
  Parameters: {"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>9, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}, "first_zombie_apocalypse"=>{"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>9, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:58:in `perform_barter'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:60:in `perform_barter'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:62:in `perform_barter'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:64:in `perform_barter'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:106:in `block in validate_user_items'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:106:in `block in validate_user_items'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 4]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:106:in `block in validate_user_items'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:106:in `block in validate_user_items'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:106:in `block in validate_user_items'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:115:in `block in validate_barter'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:119:in `block in validate_barter'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:119:in `block in validate_barter'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:72:in `block (2 levels) in perform_barter'
  [1m[36mCACHE Item Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:74:in `block (2 levels) in perform_barter'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:74:in `block (2 levels) in perform_barter'
  [1m[36mInventoryItem Create (2.4ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 4], ["item_id", 1], ["created_at", "2023-04-06 21:02:01.235770"], ["updated_at", "2023-04-06 21:02:01.235770"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:74:in `block (2 levels) in perform_barter'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:74:in `block (2 levels) in perform_barter'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:80:in `block (2 levels) in perform_barter'
Completed 500 Internal Server Error in 107ms (ActiveRecord: 22.0ms | Allocations: 24891)


  
TypeError (no implicit conversion from nil to integer):
  
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:80:in `delete_at'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:80:in `block (2 levels) in perform_barter'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:79:in `times'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:79:in `block in perform_barter'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:78:in `each'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:78:in `perform_barter'
Started PATCH "/api/v1/users/perform_barter" for ::1 at 2023-04-06 18:03:17 -0300
Processing by Api::V1::FirstZombieApocalypsesController#perform_barter as */*
  Parameters: {"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>9, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}, "first_zombie_apocalypse"=>{"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>9, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:58:in `perform_barter'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:60:in `perform_barter'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:62:in `perform_barter'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:64:in `perform_barter'
  [1m[36mItem Load (0.6ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:106:in `block in validate_user_items'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:106:in `block in validate_user_items'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 4]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:106:in `block in validate_user_items'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:106:in `block in validate_user_items'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:106:in `block in validate_user_items'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:115:in `block in validate_barter'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:119:in `block in validate_barter'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:119:in `block in validate_barter'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:72:in `block (2 levels) in perform_barter'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:74:in `block (2 levels) in perform_barter'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:74:in `block (2 levels) in perform_barter'
  [1m[36mInventoryItem Create (0.6ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 4], ["item_id", 1], ["created_at", "2023-04-06 21:03:17.654500"], ["updated_at", "2023-04-06 21:03:17.654500"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:74:in `block (2 levels) in perform_barter'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:74:in `block (2 levels) in perform_barter'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:80:in `block (2 levels) in perform_barter'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:82:in `block (2 levels) in perform_barter'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:82:in `block (2 levels) in perform_barter'
  [1m[36mInventoryItem Create (0.7ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 2], ["item_id", 4], ["created_at", "2023-04-06 21:03:17.666091"], ["updated_at", "2023-04-06 21:03:17.666091"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:82:in `block (2 levels) in perform_barter'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:82:in `block (2 levels) in perform_barter'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:80:in `block (2 levels) in perform_barter'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:82:in `block (2 levels) in perform_barter'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:82:in `block (2 levels) in perform_barter'
  [1m[36mInventoryItem Create (0.5ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 2], ["item_id", 4], ["created_at", "2023-04-06 21:03:17.677296"], ["updated_at", "2023-04-06 21:03:17.677296"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:82:in `block (2 levels) in perform_barter'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:82:in `block (2 levels) in perform_barter'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:80:in `block (2 levels) in perform_barter'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:82:in `block (2 levels) in perform_barter'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:82:in `block (2 levels) in perform_barter'
  [1m[36mInventoryItem Create (1.5ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 2], ["item_id", 3], ["created_at", "2023-04-06 21:03:17.687255"], ["updated_at", "2023-04-06 21:03:17.687255"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:82:in `block (2 levels) in perform_barter'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:82:in `block (2 levels) in perform_barter'
Completed 200 OK in 126ms (Views: 0.4ms | ActiveRecord: 26.3ms | Allocations: 33034)


Started PATCH "/api/v1/users/perform_barter" for ::1 at 2023-04-06 18:03:27 -0300
Processing by Api::V1::FirstZombieApocalypsesController#perform_barter as */*
  Parameters: {"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>9, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}, "first_zombie_apocalypse"=>{"first_user"=>{"id"=>7, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>9, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:58:in `perform_barter'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:60:in `perform_barter'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:62:in `perform_barter'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:64:in `perform_barter'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:106:in `block in validate_user_items'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:106:in `block in validate_user_items'
  [1m[36mItem Load (1.3ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 4]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:106:in `block in validate_user_items'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:106:in `block in validate_user_items'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:106:in `block in validate_user_items'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:115:in `block in validate_barter'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:119:in `block in validate_barter'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:119:in `block in validate_barter'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:72:in `block (2 levels) in perform_barter'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:74:in `block (2 levels) in perform_barter'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:74:in `block (2 levels) in perform_barter'
  [1m[36mInventoryItem Create (1.0ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 4], ["item_id", 1], ["created_at", "2023-04-06 21:03:27.300787"], ["updated_at", "2023-04-06 21:03:27.300787"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:74:in `block (2 levels) in perform_barter'
  [1m[36mTRANSACTION (7.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:74:in `block (2 levels) in perform_barter'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:80:in `block (2 levels) in perform_barter'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:82:in `block (2 levels) in perform_barter'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:82:in `block (2 levels) in perform_barter'
  [1m[36mInventoryItem Create (0.6ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 2], ["item_id", 4], ["created_at", "2023-04-06 21:03:27.343900"], ["updated_at", "2023-04-06 21:03:27.343900"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:82:in `block (2 levels) in perform_barter'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:82:in `block (2 levels) in perform_barter'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:80:in `block (2 levels) in perform_barter'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:82:in `block (2 levels) in perform_barter'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:82:in `block (2 levels) in perform_barter'
  [1m[36mInventoryItem Create (1.3ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 2], ["item_id", 4], ["created_at", "2023-04-06 21:03:27.358296"], ["updated_at", "2023-04-06 21:03:27.358296"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:82:in `block (2 levels) in perform_barter'
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:82:in `block (2 levels) in perform_barter'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:80:in `block (2 levels) in perform_barter'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:82:in `block (2 levels) in perform_barter'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:82:in `block (2 levels) in perform_barter'
  [1m[36mInventoryItem Create (0.4ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 2], ["item_id", 3], ["created_at", "2023-04-06 21:03:27.374759"], ["updated_at", "2023-04-06 21:03:27.374759"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:82:in `block (2 levels) in perform_barter'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:82:in `block (2 levels) in perform_barter'
Completed 200 OK in 111ms (Views: 0.2ms | ActiveRecord: 21.6ms | Allocations: 20504)


  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 4]]
Started PATCH "/api/v1/users/9/update_inventory" for ::1 at 2023-04-06 18:05:53 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Comida", "id"=>"9", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Comida"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:124:in `set_user'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:128:in `set_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Comida"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:33:in `update_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 4]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:34:in `update_inventory'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mInventoryItem Load (0.2ms)[0m  [1m[34mSELECT "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 4], ["item_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mInventoryItem Destroy (0.6ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."id" = $1[0m  [["id", 163]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
Completed 200 OK in 70ms (Views: 1.1ms | ActiveRecord: 16.6ms | Allocations: 19647)


Started PATCH "/api/v1/users/9/update_inventory" for ::1 at 2023-04-06 18:06:01 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Água", "id"=>"9", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Água"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:124:in `set_user'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:128:in `set_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:33:in `update_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 4]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:34:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mInventoryItem Load (0.5ms)[0m  [1m[34mSELECT "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 4], ["item_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mInventoryItem Destroy (6.2ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."id" = $1[0m  [["id", 164]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mInventoryItem Destroy (0.4ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."id" = $1[0m  [["id", 165]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mInventoryItem Destroy (1.4ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."id" = $1[0m  [["id", 169]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mInventoryItem Create (0.9ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 4], ["item_id", 1], ["created_at", "2023-04-06 21:06:01.103578"], ["updated_at", "2023-04-06 21:06:01.103578"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mInventoryItem Create (0.5ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 4], ["item_id", 1], ["created_at", "2023-04-06 21:06:01.108596"], ["updated_at", "2023-04-06 21:06:01.108596"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
Completed 200 OK in 52ms (Views: 0.8ms | ActiveRecord: 13.0ms | Allocations: 10858)


Started PATCH "/api/v1/users/9/update_inventory" for ::1 at 2023-04-06 18:06:10 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Munição", "id"=>"9", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Munição"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:124:in `set_user'
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:128:in `set_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:33:in `update_inventory'
  [1m[36mItem Load (2.2ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 4]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:34:in `update_inventory'
  [1m[36mTRANSACTION (4.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mInventoryItem Load (0.6ms)[0m  [1m[34mSELECT "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 4], ["item_id", 4]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mInventoryItem Destroy (0.6ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."id" = $1[0m  [["id", 160]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mInventoryItem Destroy (0.5ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."id" = $1[0m  [["id", 161]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mInventoryItem Create (0.7ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 4], ["item_id", 4], ["created_at", "2023-04-06 21:06:10.866612"], ["updated_at", "2023-04-06 21:06:10.866612"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mTRANSACTION (6.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
Completed 200 OK in 87ms (Views: 1.4ms | ActiveRecord: 16.9ms | Allocations: 8711)


Started PATCH "/api/v1/users/9/update_inventory" for ::1 at 2023-04-06 18:06:15 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Munição", "id"=>"9", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Munição"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:124:in `set_user'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:128:in `set_inventory'
  [1m[36mItem Load (1.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:33:in `update_inventory'
  [1m[36mItem Load (1.8ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 4]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:34:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mInventoryItem Load (0.6ms)[0m  [1m[34mSELECT "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 4], ["item_id", 4]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mInventoryItem Destroy (0.8ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."id" = $1[0m  [["id", 175]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mTRANSACTION (6.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
Completed 200 OK in 36ms (Views: 1.0ms | ActiveRecord: 11.9ms | Allocations: 6648)


Started PATCH "/api/v1/users/9/update_inventory" for ::1 at 2023-04-06 18:06:21 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Água", "id"=>"9", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Água"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:124:in `set_user'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:128:in `set_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:33:in `update_inventory'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 4]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:34:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mInventoryItem Load (0.5ms)[0m  [1m[34mSELECT "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 4], ["item_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mInventoryItem Destroy (0.7ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."id" = $1[0m  [["id", 173]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mInventoryItem Destroy (0.5ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."id" = $1[0m  [["id", 174]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mInventoryItem Create (1.0ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 4], ["item_id", 1], ["created_at", "2023-04-06 21:06:21.701467"], ["updated_at", "2023-04-06 21:06:21.701467"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
Completed 200 OK in 39ms (Views: 0.7ms | ActiveRecord: 6.0ms | Allocations: 8553)


Started PATCH "/api/v1/users/9/update_inventory" for ::1 at 2023-04-06 18:06:31 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Medicamentos", "id"=>"9", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Medicamentos"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:124:in `set_user'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:128:in `set_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:33:in `update_inventory'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 4]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:34:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mInventoryItem Load (0.5ms)[0m  [1m[34mSELECT "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 4], ["item_id", 3]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mInventoryItem Destroy (1.8ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."id" = $1[0m  [["id", 162]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mTRANSACTION (5.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
Completed 200 OK in 42ms (Views: 0.4ms | ActiveRecord: 10.6ms | Allocations: 6502)


  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  [1m[36mItem Load (0.6ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 4]]
Started PATCH "/api/v1/users/7/update_inventory" for ::1 at 2023-04-06 18:06:49 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Medicamentos", "id"=>"7", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Medicamentos"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:124:in `set_user'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:128:in `set_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:33:in `update_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:34:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mInventoryItem Load (0.3ms)[0m  [1m[34mSELECT "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 2], ["item_id", 3]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mInventoryItem Destroy (0.7ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."id" = $1[0m  [["id", 168]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mInventoryItem Destroy (0.6ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."id" = $1[0m  [["id", 172]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mInventoryItem Create (0.5ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 2], ["item_id", 3], ["created_at", "2023-04-06 21:06:49.754558"], ["updated_at", "2023-04-06 21:06:49.754558"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mTRANSACTION (13.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
Completed 200 OK in 95ms (Views: 3.2ms | ActiveRecord: 17.2ms | Allocations: 9006)


Started PATCH "/api/v1/users/7/update_inventory" for ::1 at 2023-04-06 18:06:53 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Medicamentos", "id"=>"7", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Medicamentos"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:124:in `set_user'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:128:in `set_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:33:in `update_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:34:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mInventoryItem Load (0.3ms)[0m  [1m[34mSELECT "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 2], ["item_id", 3]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mInventoryItem Destroy (0.5ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."id" = $1[0m  [["id", 177]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mTRANSACTION (6.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
Completed 200 OK in 98ms (Views: 1.0ms | ActiveRecord: 9.2ms | Allocations: 6963)


Started PATCH "/api/v1/users/7/update_inventory" for ::1 at 2023-04-06 18:07:05 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Munição", "id"=>"7", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Munição"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:124:in `set_user'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:128:in `set_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:33:in `update_inventory'
  [1m[36mItem Load (1.9ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:34:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mInventoryItem Load (1.0ms)[0m  [1m[34mSELECT "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 2], ["item_id", 4]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mInventoryItem Destroy (0.8ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."id" = $1[0m  [["id", 157]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mInventoryItem Destroy (0.4ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."id" = $1[0m  [["id", 166]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mInventoryItem Destroy (0.5ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."id" = $1[0m  [["id", 167]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mInventoryItem Destroy (0.4ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."id" = $1[0m  [["id", 170]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mInventoryItem Destroy (0.3ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."id" = $1[0m  [["id", 171]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mInventoryItem Create (0.7ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 2], ["item_id", 4], ["created_at", "2023-04-06 21:07:05.663135"], ["updated_at", "2023-04-06 21:07:05.663135"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mInventoryItem Create (0.5ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 2], ["item_id", 4], ["created_at", "2023-04-06 21:07:05.667208"], ["updated_at", "2023-04-06 21:07:05.667208"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mInventoryItem Create (1.0ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 2], ["item_id", 4], ["created_at", "2023-04-06 21:07:05.674206"], ["updated_at", "2023-04-06 21:07:05.674206"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mInventoryItem Create (0.5ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 2], ["item_id", 4], ["created_at", "2023-04-06 21:07:05.681448"], ["updated_at", "2023-04-06 21:07:05.681448"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mTRANSACTION (6.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
Completed 200 OK in 86ms (Views: 1.7ms | ActiveRecord: 15.3ms | Allocations: 14566)


Started PATCH "/api/v1/users/7/update_inventory" for ::1 at 2023-04-06 18:07:11 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Água", "id"=>"7", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Água"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:124:in `set_user'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:128:in `set_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:33:in `update_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:34:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mInventoryItem Load (6.3ms)[0m  [1m[34mSELECT "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 2], ["item_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mInventoryItem Destroy (0.5ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."id" = $1[0m  [["id", 158]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mInventoryItem Destroy (0.6ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."id" = $1[0m  [["id", 159]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mInventoryItem Create (0.4ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 2], ["item_id", 1], ["created_at", "2023-04-06 21:07:11.350463"], ["updated_at", "2023-04-06 21:07:11.350463"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mTRANSACTION (6.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
Completed 200 OK in 55ms (Views: 1.2ms | ActiveRecord: 15.5ms | Allocations: 8778)


Started PATCH "/api/v1/users/7/update_inventory" for ::1 at 2023-04-06 18:07:19 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Munição", "id"=>"7", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Munição"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:124:in `set_user'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:128:in `set_inventory'
  [1m[36mItem Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:33:in `update_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:34:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mInventoryItem Load (0.4ms)[0m  [1m[34mSELECT "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 2], ["item_id", 4]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mInventoryItem Destroy (0.5ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."id" = $1[0m  [["id", 178]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mInventoryItem Destroy (0.5ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."id" = $1[0m  [["id", 179]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mInventoryItem Destroy (0.4ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."id" = $1[0m  [["id", 180]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mInventoryItem Destroy (0.3ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."id" = $1[0m  [["id", 181]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mInventoryItem Create (0.5ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 2], ["item_id", 4], ["created_at", "2023-04-06 21:07:19.577830"], ["updated_at", "2023-04-06 21:07:19.577830"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mInventoryItem Create (5.9ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 2], ["item_id", 4], ["created_at", "2023-04-06 21:07:19.583901"], ["updated_at", "2023-04-06 21:07:19.583901"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mInventoryItem Create (1.7ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 2], ["item_id", 4], ["created_at", "2023-04-06 21:07:19.594744"], ["updated_at", "2023-04-06 21:07:19.594744"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
Completed 200 OK in 53ms (Views: 0.5ms | ActiveRecord: 12.5ms | Allocations: 12514)


Started PATCH "/api/v1/users/7/update_inventory" for ::1 at 2023-04-06 18:07:26 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Munição", "id"=>"7", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Munição"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:124:in `set_user'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:128:in `set_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:33:in `update_inventory'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:34:in `update_inventory'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mInventoryItem Create (1.7ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 2], ["item_id", 4], ["created_at", "2023-04-06 21:07:26.191915"], ["updated_at", "2023-04-06 21:07:26.191915"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mTRANSACTION (6.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
Completed 200 OK in 40ms (Views: 1.2ms | ActiveRecord: 9.9ms | Allocations: 5128)


Started PATCH "/api/v1/users/7/update_inventory" for ::1 at 2023-04-06 18:07:35 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Munição", "id"=>"7", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Munição"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:124:in `set_user'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:128:in `set_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:33:in `update_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:34:in `update_inventory'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mInventoryItem Load (1.1ms)[0m  [1m[34mSELECT "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 2], ["item_id", 4]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mInventoryItem Destroy (2.6ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."id" = $1[0m  [["id", 183]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mInventoryItem Destroy (0.6ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."id" = $1[0m  [["id", 184]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mInventoryItem Destroy (0.5ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."id" = $1[0m  [["id", 185]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mInventoryItem Destroy (0.4ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."id" = $1[0m  [["id", 186]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mInventoryItem Create (2.0ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 2], ["item_id", 4], ["created_at", "2023-04-06 21:07:35.089523"], ["updated_at", "2023-04-06 21:07:35.089523"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mInventoryItem Create (0.7ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 2], ["item_id", 4], ["created_at", "2023-04-06 21:07:35.100565"], ["updated_at", "2023-04-06 21:07:35.100565"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mInventoryItem Create (2.0ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 2], ["item_id", 4], ["created_at", "2023-04-06 21:07:35.105672"], ["updated_at", "2023-04-06 21:07:35.105672"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mTRANSACTION (6.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
Completed 200 OK in 81ms (Views: 0.7ms | ActiveRecord: 18.0ms | Allocations: 12520)


Started PATCH "/api/v1/users/7/update_inventory" for ::1 at 2023-04-06 18:07:37 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Munição", "id"=>"7", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Munição"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:124:in `set_user'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:128:in `set_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:33:in `update_inventory'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:34:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mInventoryItem Load (0.2ms)[0m  [1m[34mSELECT "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 2], ["item_id", 4]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mInventoryItem Destroy (0.5ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."id" = $1[0m  [["id", 187]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mInventoryItem Destroy (0.3ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."id" = $1[0m  [["id", 188]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mInventoryItem Destroy (0.4ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."id" = $1[0m  [["id", 189]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mInventoryItem Create (0.6ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 2], ["item_id", 4], ["created_at", "2023-04-06 21:07:37.760235"], ["updated_at", "2023-04-06 21:07:37.760235"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mInventoryItem Create (0.5ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 2], ["item_id", 4], ["created_at", "2023-04-06 21:07:37.766730"], ["updated_at", "2023-04-06 21:07:37.766730"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mTRANSACTION (5.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
Completed 200 OK in 50ms (Views: 0.9ms | ActiveRecord: 10.8ms | Allocations: 10534)


Started PATCH "/api/v1/users/7/update_inventory" for ::1 at 2023-04-06 18:07:40 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Munição", "id"=>"7", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Munição"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:124:in `set_user'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:128:in `set_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:33:in `update_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:34:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mInventoryItem Load (1.8ms)[0m  [1m[34mSELECT "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 2], ["item_id", 4]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mInventoryItem Destroy (0.5ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."id" = $1[0m  [["id", 190]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mInventoryItem Destroy (0.4ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."id" = $1[0m  [["id", 191]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mInventoryItem Create (0.7ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 2], ["item_id", 4], ["created_at", "2023-04-06 21:07:40.788941"], ["updated_at", "2023-04-06 21:07:40.788941"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mTRANSACTION (6.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
Completed 200 OK in 49ms (Views: 0.5ms | ActiveRecord: 12.5ms | Allocations: 8550)


Started PATCH "/api/v1/users/7/update_inventory" for ::1 at 2023-04-06 18:07:46 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Munição", "id"=>"7", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Munição"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:124:in `set_user'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:128:in `set_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:33:in `update_inventory'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:34:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mInventoryItem Load (0.2ms)[0m  [1m[34mSELECT "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 2], ["item_id", 4]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mInventoryItem Destroy (0.6ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."id" = $1[0m  [["id", 192]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mTRANSACTION (14.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
Completed 200 OK in 40ms (Views: 0.5ms | ActiveRecord: 16.6ms | Allocations: 6501)


Started PATCH "/api/v1/users/7/update_inventory" for ::1 at 2023-04-06 18:07:54 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Munição", "id"=>"7", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Munição"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:124:in `set_user'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:128:in `set_inventory'
  [1m[36mItem Load (3.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:33:in `update_inventory'
  [1m[36mItem Load (4.7ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:34:in `update_inventory'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mInventoryItem Create (2.6ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 2], ["item_id", 4], ["created_at", "2023-04-06 21:07:54.918117"], ["updated_at", "2023-04-06 21:07:54.918117"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mTRANSACTION (6.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
Completed 200 OK in 71ms (Views: 0.6ms | ActiveRecord: 18.1ms | Allocations: 4874)


Started PATCH "/api/v1/users/7/update_inventory" for ::1 at 2023-04-06 18:08:07 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Medicamentos", "id"=>"7", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Medicamentos"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:124:in `set_user'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:128:in `set_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:33:in `update_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:34:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mInventoryItem Create (1.3ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 2], ["item_id", 3], ["created_at", "2023-04-06 21:08:07.835245"], ["updated_at", "2023-04-06 21:08:07.835245"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mTRANSACTION (6.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
Completed 200 OK in 30ms (Views: 1.2ms | ActiveRecord: 9.4ms | Allocations: 4957)


Started PATCH "/api/v1/users/7/update_inventory" for ::1 at 2023-04-06 18:08:20 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Água", "id"=>"7", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Água"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:124:in `set_user'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:128:in `set_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:33:in `update_inventory'
  [1m[36mItem Load (4.6ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:34:in `update_inventory'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mInventoryItem Load (0.3ms)[0m  [1m[34mSELECT "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 2], ["item_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mInventoryItem Destroy (0.6ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."id" = $1[0m  [["id", 182]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
Completed 200 OK in 37ms (Views: 1.1ms | ActiveRecord: 7.8ms | Allocations: 6585)


Started PATCH "/api/v1/users/7/update_inventory" for ::1 at 2023-04-06 18:08:31 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Água", "id"=>"7", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Água"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:124:in `set_user'
  [1m[36mInventory Load (0.8ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:128:in `set_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:33:in `update_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:34:in `update_inventory'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mInventoryItem Create (2.3ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 2], ["item_id", 1], ["created_at", "2023-04-06 21:08:31.949096"], ["updated_at", "2023-04-06 21:08:31.949096"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mTRANSACTION (5.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
Completed 200 OK in 28ms (Views: 1.0ms | ActiveRecord: 10.2ms | Allocations: 4970)


Started PATCH "/api/v1/users/7/update_inventory" for ::1 at 2023-04-06 18:08:38 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Água", "id"=>"7", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Água"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:124:in `set_user'
  [1m[36mInventory Load (1.0ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:128:in `set_inventory'
  [1m[36mItem Load (5.6ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:33:in `update_inventory'
  [1m[36mItem Load (1.9ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:34:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mInventoryItem Load (0.4ms)[0m  [1m[34mSELECT "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 2], ["item_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mInventoryItem Destroy (0.7ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."id" = $1[0m  [["id", 195]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mTRANSACTION (6.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
Completed 200 OK in 86ms (Views: 0.7ms | ActiveRecord: 16.7ms | Allocations: 6590)


Started PATCH "/api/v1/users/7/update_inventory" for ::1 at 2023-04-06 18:08:49 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Munição", "id"=>"7", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Munição"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:124:in `set_user'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:128:in `set_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:33:in `update_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:34:in `update_inventory'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mInventoryItem Create (0.8ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 2], ["item_id", 4], ["created_at", "2023-04-06 21:08:49.989952"], ["updated_at", "2023-04-06 21:08:49.989952"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mTRANSACTION (6.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
Completed 200 OK in 32ms (Views: 0.7ms | ActiveRecord: 8.3ms | Allocations: 4957)


Started PATCH "/api/v1/users/perform_barter" for ::1 at 2023-04-06 18:11:42 -0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::FirstZombieApocalypsesController#perform_barter as */*
  Parameters: {"first_user"=>{"id"=>9, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>8, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}, "first_zombie_apocalypse"=>{"first_user"=>{"id"=>9, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>8, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:58:in `perform_barter'
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:60:in `perform_barter'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:62:in `perform_barter'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 8], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:64:in `perform_barter'
  [1m[36mItem Load (1.6ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 4]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:104:in `block in validate_user_items'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:104:in `block in validate_user_items'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 3]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:104:in `block in validate_user_items'
  [1m[36mItem Load (1.1ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:104:in `block in validate_user_items'
Completed 200 OK in 180ms (Views: 0.3ms | ActiveRecord: 19.4ms | Allocations: 28287)


Started PATCH "/api/v1/users/perform_barter" for ::1 at 2023-04-06 18:12:07 -0300
Processing by Api::V1::FirstZombieApocalypsesController#perform_barter as */*
  Parameters: {"first_user"=>{"id"=>9, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>7, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}, "first_zombie_apocalypse"=>{"first_user"=>{"id"=>9, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>7, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:58:in `perform_barter'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:60:in `perform_barter'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:62:in `perform_barter'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:64:in `perform_barter'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 4]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:104:in `block in validate_user_items'
  [1m[36mItem Load (0.7ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:104:in `block in validate_user_items'
  [1m[36mItem Load (0.7ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:104:in `block in validate_user_items'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:104:in `block in validate_user_items'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:104:in `block in validate_user_items'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:113:in `block in validate_barter'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:117:in `block in validate_barter'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:117:in `block in validate_barter'
  [1m[36mCACHE Item Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:72:in `block (2 levels) in perform_barter'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:74:in `block (2 levels) in perform_barter'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:74:in `block (2 levels) in perform_barter'
  [1m[36mInventoryItem Create (9.5ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 2], ["item_id", 1], ["created_at", "2023-04-06 21:12:07.690160"], ["updated_at", "2023-04-06 21:12:07.690160"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:74:in `block (2 levels) in perform_barter'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:74:in `block (2 levels) in perform_barter'
Completed 500 Internal Server Error in 106994ms (ActiveRecord: 27.3ms | Allocations: 114782)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `perform_barter'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:78:in `perform_barter'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  [1m[36mItem Load (0.6ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 4]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
Started PATCH "/api/v1/users/7/update_inventory" for ::1 at 2023-04-06 18:14:48 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Água", "id"=>"7", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Água"}}
  [1m[36mUser Load (3.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:124:in `set_user'
  [1m[36mInventory Load (1.7ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:128:in `set_inventory'
  [1m[36mItem Load (1.7ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:33:in `update_inventory'
  [1m[36mItem Load (2.2ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:34:in `update_inventory'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mInventoryItem Load (2.4ms)[0m  [1m[34mSELECT "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 2], ["item_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mInventoryItem Destroy (4.8ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."id" = $1[0m  [["id", 197]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mTRANSACTION (7.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
Completed 200 OK in 451ms (Views: 26.4ms | ActiveRecord: 27.3ms | Allocations: 2487892)


  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 4]]
Started PATCH "/api/v1/users/7/update_inventory" for ::1 at 2023-04-06 18:28:09 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Água", "id"=>"7", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Água"}}
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:124:in `set_user'
  [1m[36mInventory Load (1.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:128:in `set_inventory'
  [1m[36mItem Load (4.6ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:33:in `update_inventory'
  [1m[36mItem Load (4.5ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:34:in `update_inventory'
Completed 200 OK in 1128ms (Views: 3.4ms | ActiveRecord: 52.3ms | Allocations: 6852228)


Started PATCH "/api/v1/users/perform_barter" for ::1 at 2023-04-06 18:28:26 -0300
Processing by Api::V1::FirstZombieApocalypsesController#perform_barter as */*
  Parameters: {"first_user"=>{"id"=>9, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>7, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}, "first_zombie_apocalypse"=>{"first_user"=>{"id"=>9, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>7, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}}}
  [1m[36mUser Load (4.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:58:in `perform_barter'
  [1m[36mInventory Load (1.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:60:in `perform_barter'
  [1m[36mUser Load (5.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:62:in `perform_barter'
  [1m[36mInventory Load (2.1ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:64:in `perform_barter'
  [1m[36mItem Load (1.7ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 4]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:104:in `block in validate_user_items'
  [1m[36mItem Load (6.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:104:in `block in validate_user_items'
  [1m[36mItem Load (2.6ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:104:in `block in validate_user_items'
  [1m[36mItem Load (1.6ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:104:in `block in validate_user_items'
  [1m[36mItem Load (5.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:104:in `block in validate_user_items'
  [1m[36mCACHE Item Load (1.7ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:113:in `block in validate_barter'
  [1m[36mCACHE Item Load (2.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:117:in `block in validate_barter'
  [1m[36mCACHE Item Load (1.7ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:117:in `block in validate_barter'
  [1m[36mCACHE Item Load (1.4ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:72:in `block (2 levels) in perform_barter'
Completed 500 Internal Server Error in 176923ms (ActiveRecord: 36.7ms | Allocations: 3577157)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `block (2 levels) in perform_barter'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:75:in `block (2 levels) in perform_barter'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:71:in `times'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:71:in `block in perform_barter'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:70:in `each'
app/controllers/api/v1/first_zombie_apocalypses_controller.rb:70:in `perform_barter'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 4]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
Started PATCH "/api/v1/users/perform_barter" for ::1 at 2023-04-06 18:31:43 -0300
Processing by Api::V1::FirstZombieApocalypsesController#perform_barter as */*
  Parameters: {"first_user"=>{"id"=>9, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>7, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}, "first_zombie_apocalypse"=>{"first_user"=>{"id"=>9, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>7, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}}}
  [1m[36mUser Load (5.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:58:in `perform_barter'
  [1m[36mInventory Load (2.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:60:in `perform_barter'
  [1m[36mItem Load (2.5ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 4]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:60:in `perform_barter'
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:62:in `perform_barter'
  [1m[36mInventory Load (2.8ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:64:in `perform_barter'
  [1m[36mItem Load (5.4ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:104:in `block in validate_user_items'
  [1m[36mItem Load (2.3ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:104:in `block in validate_user_items'
  [1m[36mItem Load (6.4ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:104:in `block in validate_user_items'
  [1m[36mItem Load (1.7ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:104:in `block in validate_user_items'
  [1m[36mCACHE Item Load (1.8ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:113:in `block in validate_barter'
  [1m[36mCACHE Item Load (1.6ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:117:in `block in validate_barter'
  [1m[36mCACHE Item Load (1.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:117:in `block in validate_barter'
  [1m[36mCACHE Item Load (2.5ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:72:in `block (2 levels) in perform_barter'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:73:in `block (2 levels) in perform_barter'
  [1m[36mInventoryItem Load (6.8ms)[0m  [1m[34mSELECT "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 4], ["item_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:73:in `block (2 levels) in perform_barter'
  [1m[36mInventoryItem Destroy (4.2ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."id" = $1[0m  [["id", 176]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:73:in `block (2 levels) in perform_barter'
  [1m[36mTRANSACTION (7.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:73:in `block (2 levels) in perform_barter'
  [1m[36mItem Load (6.7ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:75:in `block (2 levels) in perform_barter'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:75:in `block (2 levels) in perform_barter'
  [1m[36mInventoryItem Create (9.1ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 2], ["item_id", 1], ["created_at", "2023-04-06 21:32:25.599641"], ["updated_at", "2023-04-06 21:32:25.599641"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:75:in `block (2 levels) in perform_barter'
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:75:in `block (2 levels) in perform_barter'
  [1m[36mItem Load (4.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:80:in `block (2 levels) in perform_barter'
  [1m[36mCACHE Item Load (0.7ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:82:in `block (2 levels) in perform_barter'
  [1m[36mCACHE Item Load (0.6ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:80:in `block (2 levels) in perform_barter'
  [1m[36mCACHE Item Load (1.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:82:in `block (2 levels) in perform_barter'
  [1m[36mItem Load (2.5ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:80:in `block (2 levels) in perform_barter'
  [1m[36mCACHE Item Load (0.6ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:82:in `block (2 levels) in perform_barter'
Completed 200 OK in 78976ms (Views: 7.7ms | ActiveRecord: 125.3ms | Allocations: 13997039)


  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 4]]
Started PATCH "/api/v1/users/7/update_inventory" for ::1 at 2023-04-06 18:34:47 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Água", "id"=>"7", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Água"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:123:in `set_user'
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:127:in `set_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:33:in `update_inventory'
  [1m[36mItem Load (1.2ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:34:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mInventoryItem Create (0.6ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 2], ["item_id", 1], ["created_at", "2023-04-06 21:34:47.289730"], ["updated_at", "2023-04-06 21:34:47.289730"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
Completed 200 OK in 91ms (Views: 1.0ms | ActiveRecord: 20.4ms | Allocations: 17235)


Started PATCH "/api/v1/users/7/update_inventory" for ::1 at 2023-04-06 18:34:59 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Água", "id"=>"7", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Água"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:123:in `set_user'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:127:in `set_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:33:in `update_inventory'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:34:in `update_inventory'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mInventoryItem Load (0.9ms)[0m  [1m[34mSELECT "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 2], ["item_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mInventoryItem Destroy (0.5ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."id" = $1[0m  [["id", 198]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mInventoryItem Destroy (0.5ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."id" = $1[0m  [["id", 199]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mInventoryItem Create (0.8ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 2], ["item_id", 1], ["created_at", "2023-04-06 21:34:59.103454"], ["updated_at", "2023-04-06 21:34:59.103454"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mTRANSACTION (14.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
Completed 200 OK in 63ms (Views: 0.6ms | ActiveRecord: 18.9ms | Allocations: 9384)


Started PATCH "/api/v1/users/7/update_inventory" for ::1 at 2023-04-06 18:35:06 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"remove", "item_name"=>"Água", "id"=>"7", "first_zombie_apocalypse"=>{"method"=>"remove", "item_name"=>"Água"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:123:in `set_user'
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:127:in `set_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:33:in `update_inventory'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:34:in `update_inventory'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mInventoryItem Load (0.4ms)[0m  [1m[34mSELECT "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 2], ["item_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mInventoryItem Destroy (0.8ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."id" = $1[0m  [["id", 200]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
  [1m[36mTRANSACTION (6.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:41:in `update_inventory'
Completed 200 OK in 31ms (Views: 0.8ms | ActiveRecord: 9.5ms | Allocations: 6646)


Started PATCH "/api/v1/users/9/update_inventory" for ::1 at 2023-04-06 18:35:19 -0300
Processing by Api::V1::FirstZombieApocalypsesController#update_inventory as */*
  Parameters: {"method"=>"add", "item_name"=>"Água", "id"=>"9", "first_zombie_apocalypse"=>{"method"=>"add", "item_name"=>"Água"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:123:in `set_user'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:127:in `set_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:33:in `update_inventory'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 4]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:34:in `update_inventory'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mInventoryItem Create (0.8ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 4], ["item_id", 1], ["created_at", "2023-04-06 21:35:19.388145"], ["updated_at", "2023-04-06 21:35:19.388145"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
  [1m[36mTRANSACTION (6.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:37:in `update_inventory'
Completed 200 OK in 29ms (Views: 0.4ms | ActiveRecord: 8.3ms | Allocations: 4792)


  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 4]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
Started PATCH "/api/v1/users/perform_barter" for ::1 at 2023-04-06 18:35:58 -0300
Processing by Api::V1::FirstZombieApocalypsesController#perform_barter as */*
  Parameters: {"first_user"=>{"id"=>9, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>7, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}, "first_zombie_apocalypse"=>{"first_user"=>{"id"=>9, "items"=>[{"name"=>"Água", "amount"=>1}]}, "second_user"=>{"id"=>7, "items"=>[{"name"=>"Munição", "amount"=>2}, {"name"=>"Medicamentos", "amount"=>1}]}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:58:in `perform_barter'
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:60:in `perform_barter'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 4]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:60:in `perform_barter'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:62:in `perform_barter'
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories" WHERE "inventories"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:64:in `perform_barter'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" INNER JOIN "inventory_items" ON "items"."id" = "inventory_items"."item_id" WHERE "inventory_items"."inventory_id" = $1[0m  [["inventory_id", 2]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:64:in `perform_barter'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:104:in `block in validate_user_items'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:104:in `block in validate_user_items'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:104:in `block in validate_user_items'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:113:in `block in validate_barter'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:117:in `block in validate_barter'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:117:in `block in validate_barter'
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:72:in `block (2 levels) in perform_barter'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:73:in `block (2 levels) in perform_barter'
  [1m[36mInventoryItem Load (0.8ms)[0m  [1m[34mSELECT "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 4], ["item_id", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:73:in `block (2 levels) in perform_barter'
  [1m[36mInventoryItem Destroy (0.5ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."id" = $1[0m  [["id", 201]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:73:in `block (2 levels) in perform_barter'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:73:in `block (2 levels) in perform_barter'
  [1m[36mItem Load (0.7ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Água"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:74:in `block (2 levels) in perform_barter'
  [1m[36mItem Load (0.7ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:80:in `block (2 levels) in perform_barter'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:81:in `block (2 levels) in perform_barter'
  [1m[36mInventoryItem Load (1.5ms)[0m  [1m[34mSELECT "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 2], ["item_id", 4]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:81:in `block (2 levels) in perform_barter'
  [1m[36mInventoryItem Destroy (1.2ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."id" = $1[0m  [["id", 193]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:81:in `block (2 levels) in perform_barter'
  [1m[36mInventoryItem Destroy (1.0ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."id" = $1[0m  [["id", 196]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:81:in `block (2 levels) in perform_barter'
  [1m[36mInventoryItem Create (6.4ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 2], ["item_id", 4], ["created_at", "2023-04-06 21:36:25.712180"], ["updated_at", "2023-04-06 21:36:25.712180"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:81:in `block (2 levels) in perform_barter'
  [1m[36mInventoryItem Create (1.8ms)[0m  [1m[32mINSERT INTO "inventory_items" ("inventory_id", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["inventory_id", 2], ["item_id", 1], ["created_at", "2023-04-06 21:36:25.776904"], ["updated_at", "2023-04-06 21:36:25.776904"]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:81:in `block (2 levels) in perform_barter'
  [1m[36mTRANSACTION (4.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:81:in `block (2 levels) in perform_barter'
  [1m[36mItem Load (0.9ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:82:in `block (2 levels) in perform_barter'
  [1m[36mCACHE Item Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:80:in `block (2 levels) in perform_barter'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:81:in `block (2 levels) in perform_barter'
  [1m[36mInventoryItem Load (1.3ms)[0m  [1m[34mSELECT "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 2], ["item_id", 4]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:81:in `block (2 levels) in perform_barter'
  [1m[36mInventoryItem Destroy (2.7ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."id" = $1[0m  [["id", 202]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:81:in `block (2 levels) in perform_barter'
  [1m[36mTRANSACTION (7.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:81:in `block (2 levels) in perform_barter'
  [1m[36mItem Load (1.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Munição"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:82:in `block (2 levels) in perform_barter'
  [1m[36mItem Load (1.5ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:80:in `block (2 levels) in perform_barter'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:81:in `block (2 levels) in perform_barter'
  [1m[36mInventoryItem Load (1.2ms)[0m  [1m[34mSELECT "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventory_id" = $1 AND "inventory_items"."item_id" = $2[0m  [["inventory_id", 2], ["item_id", 3]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:81:in `block (2 levels) in perform_barter'
  [1m[36mInventoryItem Destroy (1.8ms)[0m  [1m[31mDELETE FROM "inventory_items" WHERE "inventory_items"."id" = $1[0m  [["id", 194]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:81:in `block (2 levels) in perform_barter'
  [1m[36mTRANSACTION (7.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:81:in `block (2 levels) in perform_barter'
  [1m[36mItem Load (1.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."name" = $1 LIMIT $2[0m  [["name", "Medicamentos"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/first_zombie_apocalypses_controller.rb:82:in `block (2 levels) in perform_barter'
Completed 200 OK in 51748ms (Views: 0.3ms | ActiveRecord: 71.8ms | Allocations: 2642482)


